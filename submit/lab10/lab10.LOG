Script started on 2020-11-08 15:56:57-05:00 [TERM="xterm-256color" TTY="/dev/pts/5" COLUMNS="120" LINES="30"]
]0;fantona1@remote04: ~/.../submit/lab10[01;32mfantona1@remote04[00m:[01;34m~/.../submit/lab10[00m$ 
]0;fantona1@remote04: ~/.../submit/lab10[01;32mfantona1@remote04[00m:[01;34m~/.../submit/lab10[00m$ 
]0;fantona1@remote04: ~/.../submit/lab10[01;32mfantona1@remote04[00m:[01;34m~/.../submit/lab10[00m$ cd process-memory
bash: cd: process-memory: No such file or directory
]0;fantona1@remote04: ~/.../submit/lab10[01;32mfantona1@remote04[00m:[01;34m~/.../submit/lab10[00m$ cd process-memory[K[K[K[K[K[K[K[K[K[K[K[K[K[Kexercises/process-memory/
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ls
Makefile  process-memory.c
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ mak[K[K[Kcat process-memory.c 
#include <errno.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#include <unistd.h>

enum { TIME_SECS = 60 };

int 
main(int argc, const char *argv[])
{
  int meg = -1;
  if (argc != 2 || (meg = atoi(argv[1])) <= 0) {
    fprintf(stderr, "usage: %s NUM_MB\n", argv[0]);
    exit(1);
  }
  char *p = malloc(meg * 1024 * 1024);
  fprintf(stdout, "%d MB allocated at %p\n", meg, p);
  sleep(TIME_SECS);
  return 0;
}
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ls
Makefile  process-memory.c
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ makr[Ke
cc -g -Wall -std=c11 -O1    process-memory.c   -o process-memory
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory [K
usage: ./process-memory NUM_MB
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 2
2 MB allocated at 0x7f96fcedb010
^C
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./prove[K[Kcess-memory 10 &
[1] 2892850
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 10 MB allocated at 0x7fd607263010

]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ps -Fp 2892850
UID          PID    PPID  C    SZ   RSS PSR STIME TTY          TIME CMD
fantona1 2892850 2891897  0  3131   744   6 15:59 pts/14   00:00:00 ./process-memory 10
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ man ps
[?1049h[22;0;0t[?1h=PS(1)                                               User Commands                                               PS(1)[m
[m
[1mNAME[0m[m
       ps - report a snapshot of the current processes.[m
[m
[1mSYNOPSIS[0m[m
       [1mps[0m [[4moptions[24m][m
[m
[1mDESCRIPTION[0m[m
       [1mps[0m displays information about a selection of the active processes.  If you want a repetitive update of the[m
       selection and the displayed information, use [4mtop[24m(1) instead.[m
[m
       This version of [1mps[0m accepts several kinds of options:[m
[m
       1   UNIX options, which may be grouped and must be preceded by a dash.[m
       2   BSD options, which may be grouped and must not be used with a dash.[m
       3   GNU long options, which are preceded by two dashes.[m
[m
       Options of different types may be freely mixed, but conflicts can appear.  There are some synonymous options,[m
       which are functionally identical, due to the many standards and [1mps[0m implementations that this [1mps[0m is compatible[m
       with.[m
[m
       Note that "[1mps[0m [1m-aux[0m" is distinct from "[1mps[0m [1maux[0m".  The POSIX and UNIX standards require that "[1mps[0m [1m-aux[0m" print all[m
       processes owned by a user named "x", as well as printing all processes that would be selected by the [1m-a[0m[m
       option.  If the user named "x" does not exist, this [1mps[0m may interpret the command as "[1mps[0m [1maux[0m" instead and print[m
       a warning.  This behavior is intended to aid in transitioning old scripts and habits.  It is fragile, subject[m
       to change, and thus should not be relied upon.[m
[m
       By default, [1mps[0m selects all processes with the same effective user ID (euid=EUID) as the current user and[m
[7m Manual page ps(1) line 1 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       associated with the same terminal as the invoker.  It displays the process ID (pid=PID), the terminal[m
[7m Manual page ps(1) line 2 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       associated with the process (tname=TTY), the cumulated CPU time in [DD-]hh:mm:ss format (time=TIME), and the[m
[7m Manual page ps(1) line 3 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       executable name (ucmd=CMD).  Output is unsorted by default.[m
[7m Manual page ps(1) line 4 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K[m
[7m Manual page ps(1) line 5 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       The use of BSD-style options will add process state (stat=STAT) to the default display and show the command[m
[7m Manual page ps(1) line 6 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       args (args=COMMAND) instead of the executable name.  You can override this with the [1mPS_FORMAT[0m environment[m
[7m Manual page ps(1) line 7 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       variable. The use of BSD-style options will also change the process selection to include processes on other[m
[7m Manual page ps(1) line 8 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       terminals (TTYs) that are owned by you; alternately, this may be described as setting the selection to be the[m
[7m Manual page ps(1) line 9 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       set of all processes filtered to exclude processes owned by other users or not on a terminal.  These effects[m
[7m Manual page ps(1) line 10 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       are not considered when options are described as being "identical" below, so [1m-M[0m will be considered identical[m
[7m Manual page ps(1) line 11 (press h for help or q to quit)[27m[K[K [KESCESC[KOO[KBB[K       to [1mZ[0m and so on.[m
[7m Manual page ps(1) line 12 (press h for help or q to quit)[27m[K[K[?1l>[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ man ps[Kman psps -Fp 2892850./process-memory 10 &0 &
[2] 2893485
[1]   Done                    ./process-memory 10
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 100 MB allocated at 0x7f58af46b010

]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 100 &man ps[Kps -Fp 2892850[K[K[K[K[K[K[K2893485
UID          PID    PPID  C    SZ   RSS PSR STIME TTY          TIME CMD
fantona1 2893485 2891897  0 26171   728   3 16:00 pts/14   00:00:00 ./process-memory 100
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ps -Fp 2893485./process-memory 100 &0 &0 &
[3] 2893578
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 10000 MB allocated at 0x7f78ba1bf010

]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 10000 &[10Pps -Fp 2893485./process-memory 10000 &[1P[1@4[1@3[1@4[2@32[1@4
[4] 2893599
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 48272704 MB allocated at 0x7f59da0a4010

]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 4343240000 &
[5] 2893643
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 48272704 MB allocated at 0x7f7e94a13010

]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 4343240000 &[C0 &[C0 &[C0 &[C0 &
[6] 2893670
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 1690702848 MB allocated at 0x7f496c5d0010

]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 43432400000000 &[C0 &[C0 &[C0 &[C0 &[C0 &[C0 &[C0 &[C0 &[C0 &
[7] 2893698
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ usage: ./process-memory NUM_MB

[2]   Done                    ./process-memory 100
[7]+  Exit 1                  ./process-memory 43432400000000000000000
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 43432400000000000000000 &
[7] 2893723
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ usage: ./process-memory NUM_MB

[7]+  Exit 1                  ./process-memory 43432400000000000000000
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 43432400000000000000000 &[1P &[1P &[1P &[1P &
[7] 2893732
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ usage: ./process-memory NUM_MB

[7]+  Exit 1                  ./process-memory 4343240000000000000
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 4343240000000000000 &[1P &[1P &[1P &[1P &
[7] 2893767
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ usage: ./process-memory NUM_MB

[7]+  Exit 1                  ./process-memory 434324000000000
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ./process-memory 434324000000000 &[1P &[1P &[1P &[1P &[1P &[1P &
[7] 2893776
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 434324000 MB allocated at 0x7f6956b5d010

]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ps
    PID TTY          TIME CMD
2891897 pts/14   00:00:00 bash
2893578 pts/14   00:00:00 process-memory
2893599 pts/14   00:00:00 process-memory
2893643 pts/14   00:00:00 process-memory
2893670 pts/14   00:00:00 process-memory
2893776 pts/14   00:00:00 process-memory
2893787 pts/14   00:00:00 ps
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
[3]   Done                    ./process-memory 10000
[4]   Done                    ./process-memory 4343240000
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
[5]   Done                    ./process-memory 4343240000
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ clear
[H[2J[3J]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
[6]-  Done                    ./process-memory 43432400000000
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ clear
[H[2J[3J]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ 
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ ls
Makefile  [0m[01;32mprocess-memory[0m  process-memory.c
]0;fantona1@remote04: ~/.../exercises/process-memory[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/process-memory[00m$ cd ..
]0;fantona1@remote04: ~/.../lab10/exercises[01;32mfantona1@remote04[00m:[01;34m~/.../lab10/exercises[00m$ ls
[0m[01;34mbrk[0m  [01;34mbug-program[0m  [01;34mprocess-memory[0m
]0;fantona1@remote04: ~/.../lab10/exercises[01;32mfantona1@remote04[00m:[01;34m~/.../lab10/exercises[00m$ cd bug-program/
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
bug-program.c  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ cat bug-program.c 
#include <errno.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

/** A struct used to form a linear chain of key-value pairs. */
struct KeyValue {
  const char *key;       /** string key */
  int value;             /** integer value */
  struct KeyValue *succ; /** next key-value in chain */
};

/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */
static struct KeyValue *
add_key_value(struct KeyValue *keyValues, const char *k, int v)
{
  //allocate storage for new KeyValue struct
  struct KeyValue *kv = malloc(sizeof(struct KeyValue *));

  //allocate storage for string pointed to by k
  char *s = malloc(strlen(k));

  if (kv == NULL || s == NULL) { //check if allocations succeeded
    fprintf(stderr, "malloc failure: %s\n", strerror(errno));
    exit(1);
  }
  strcpy(s, k);  //copy string k into newly allocated memory pointed to by s

  //initialize fields of *kv.
  kv->key = s; kv->value = v; kv->succ = keyValues;

  return kv;
}

/** Free all the key-value's in keyValues. */
static void
free_key_values(struct KeyValue *keyValues)
{
  //go thru chain of keyValues
  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
    free(p); //free KeyValue struct
  }
}

/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */
static struct KeyValue *
make_key_values(void) {
  const char *keys[] = {
    "twas", "brillig", "and", "the", "slithy", "toves",
    "did", "gyre", "and", "gimble", "in", "the", "wabe",
    "all", "mimsy", "were", "the", "borogoves",
    "and", "the", "mome", "raths", "outgrabe",
  };
  struct KeyValue *p = NULL;
  for (int i = 0; i < sizeof(keys)/sizeof(keys[0]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  return p;
}

/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */
int main() {
  struct KeyValue *keyValues = make_key_values();
  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
    printf("%s: %d\n", p->key, p->value);
  }
  free_key_values(keyValues);
  return 0;
}
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
[7]+  Done                    ./process-memory 434324000  (wd: ~/i220a/submit/lab10/exercises/process-memory)
(wd now: ~/i220a/submit/lab10/exercises/bug-program)
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ./bug-program 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ MALLOC_CHECK_=1 ./bug-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
free(): invalid pointer
Aborted
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2 >bug-program.valgi[Krind
==2895076== Memcheck, a memory error detector
==2895076== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2895076== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info
==2895076== Command: ./bug-program 2
==2895076== 
--2895076-- Valgrind options:
--2895076--    -v
--2895076--    --leak-check=yes
--2895076-- Contents of /proc/version:
--2895076--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), GNU ld (GNU Binutils for Debian) 2.31.1) #1 SMP Debian 5.7.10-1~bpo10+1 (2020-07-30)
--2895076-- 
--2895076-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi
--2895076-- Page sizes: currently 4096, max supported 4096
--2895076-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind
--2895076-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program
--2895076-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so
--2895076--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..
--2895076--   .. build-id is valid
--2895076-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux
--2895076--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..
--2895076--   .. build-id is valid
--2895076--    object doesn't have a dynamic symbol table
--2895076-- Scheduler: using generic scheduler lock implementation.
--2895076-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp
==2895076== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895076-by-fantona1-on-???
==2895076== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895076-by-fantona1-on-???
==2895076== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895076-by-fantona1-on-???
==2895076== 
==2895076== TO CONTROL THIS PROCESS USING vgdb (which you probably
==2895076== don't want to do, unless you know exactly what you're doing,
==2895076== or are doing some strange experiment):
==2895076==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895076 ...command...
==2895076== 
==2895076== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==2895076==   /path/to/gdb ./bug-program
==2895076== and then give GDB the following command
==2895076==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895076
==2895076== --pid is optional if only one valgrind process is running
==2895076== 
--2895076-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strlen)
--2895076-- REDIR: 0x401e0d0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (vgPlain_amd64_linux_REDIR_FOR_index)
--2895076-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_core-amd64-linux.so
--2895076--   Considering /usr/lib/debug/.build-id/34/fbc4cdfbfce1bfc3d2e522a01a050bf724c930.debug ..
--2895076--   .. build-id is valid
--2895076-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so
--2895076--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..
--2895076--   .. build-id is valid
==2895076== WARNING: new redirection conflicts with existing -- ignoring it
--2895076--     old: 0x0401e2f0 (strlen              ) R-> (0000.0) 0x580c9ce2 vgPlain_amd64_linux_REDIR_FOR_strlen
--2895076--     new: 0x0401e2f0 (strlen              ) R-> (2007.0) 0x04838d80 strlen
--2895076-- REDIR: 0x401ab10 (ld-linux-x86-64.so.2:strcmp) redirected to 0x4839e40 (strcmp)
--2895076-- REDIR: 0x401e830 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x483d860 (mempcpy)
--2895076-- Reading syms from /lib/x86_64-linux-gnu/libc-2.28.so
--2895076--   Considering /usr/lib/debug/.build-id/18/b9a9a8c523e5cfe5b5d946d605d09242f09798.debug ..
--2895076--   .. build-id is valid
--2895076-- REDIR: 0x4906f70 (libc.so.6:memmove) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4906160 (libc.so.6:strncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4907250 (libc.so.6:strcasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4905b70 (libc.so.6:strcat) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4906190 (libc.so.6:rindex) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4908890 (libc.so.6:rawmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4921230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4920cd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49070e0 (libc.so.6:mempcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4906f10 (libc.so.6:bcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4906100 (libc.so.6:strncmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4905be0 (libc.so.6:strcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4907040 (libc.so.6:memset) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4920ca0 (libc.so.6:wcschr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49060a0 (libc.so.6:strnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4905c70 (libc.so.6:strcspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49072a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4905c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49073e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49224d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49061c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4905ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4906070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x490d280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49072f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4906ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4920db0 (libc.so.6:wcslen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4906460 (libc.so.6:strspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4907220 (libc.so.6:stpncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49071f0 (libc.so.6:stpcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49088c0 (libc.so.6:strchrnul) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x4907340 (libc.so.6:strncasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895076-- REDIR: 0x49d9fa0 (libc.so.6:__strrchr_avx2) redirected to 0x4838790 (rindex)
--2895076-- REDIR: 0x4902350 (libc.so.6:malloc) redirected to 0x4835710 (malloc)
--2895076-- REDIR: 0x491b100 (libc.so.6:__strcpy_sse2_unaligned) redirected to 0x4838db0 (strcpy)
==2895076== Invalid write of size 1
==2895076==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==2895076==    by 0x10930E: add_key_value (bug-program.c:30)
==2895076==    by 0x10930E: make_key_values (bug-program.c:61)
==2895076==    by 0x10930E: main (bug-program.c:70)
==2895076==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895076==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895076==    by 0x1092F6: main (bug-program.c:70)
==2895076== 
==2895076== Invalid write of size 4
==2895076==    at 0x109312: add_key_value (bug-program.c:33)
==2895076==    by 0x109312: make_key_values (bug-program.c:61)
==2895076==    by 0x109312: main (bug-program.c:70)
==2895076==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
==2895076== Invalid write of size 8
==2895076==    at 0x109315: add_key_value (bug-program.c:33)
==2895076==    by 0x109315: make_key_values (bug-program.c:61)
==2895076==    by 0x109315: main (bug-program.c:70)
==2895076==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
==2895076== Invalid read of size 4
==2895076==    at 0x109330: main (bug-program.c:72)
==2895076==  Address 0x4a42e08 is 0 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
--2895076-- REDIR: 0x49d9db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)
--2895076-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
==2895076== Invalid read of size 1
==2895076==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2895076==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2895076==    by 0x48D6605: printf (printf.c:33)
==2895076==    by 0x109343: main (bug-program.c:72)
==2895076==  Address 0x4a42e58 is 0 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895076==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895076==    by 0x1092F6: main (bug-program.c:70)
==2895076== 
--2895076-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
==2895076== Invalid read of size 8
==2895076==    at 0x109344: main (bug-program.c:71)
==2895076==  Address 0x4a42e10 is 8 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
--2895076-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2895076== Invalid read of size 8
==2895076==    at 0x109355: free_key_values (bug-program.c:43)
==2895076==    by 0x109355: main (bug-program.c:74)
==2895076==  Address 0x4a42e10 is 8 bytes after a block of size 8 free'd
==2895076==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2895076==    by 0x109354: free_key_values (bug-program.c:44)
==2895076==    by 0x109354: main (bug-program.c:74)
==2895076==  Block was alloc'd at
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
==2895076== 
==2895076== HEAP SUMMARY:
==2895076==     in use at exit: 100 bytes in 23 blocks
==2895076==   total heap usage: 47 allocs, 24 frees, 8,476 bytes allocated
==2895076== 
==2895076== Searching for pointers to 23 not-freed blocks
==2895076== Checked 69,576 bytes
==2895076== 
==2895076== 100 bytes in 23 blocks are definitely lost in loss record 1 of 1
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895076==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895076==    by 0x1092F6: main (bug-program.c:70)
==2895076== 
==2895076== LEAK SUMMARY:
==2895076==    definitely lost: 100 bytes in 23 blocks
==2895076==    indirectly lost: 0 bytes in 0 blocks
==2895076==      possibly lost: 0 bytes in 0 blocks
==2895076==    still reachable: 0 bytes in 0 blocks
==2895076==         suppressed: 0 bytes in 0 blocks
==2895076== 
==2895076== ERROR SUMMARY: 162 errors from 8 contexts (suppressed: 0 from 0)
==2895076== 
==2895076== 23 errors in context 1 of 8:
==2895076== Invalid read of size 8
==2895076==    at 0x109355: free_key_values (bug-program.c:43)
==2895076==    by 0x109355: main (bug-program.c:74)
==2895076==  Address 0x4a42e10 is 8 bytes after a block of size 8 free'd
==2895076==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2895076==    by 0x109354: free_key_values (bug-program.c:44)
==2895076==    by 0x109354: main (bug-program.c:74)
==2895076==  Block was alloc'd at
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
==2895076== 
==2895076== 23 errors in context 2 of 8:
==2895076== Invalid read of size 8
==2895076==    at 0x109344: main (bug-program.c:71)
==2895076==  Address 0x4a42e10 is 8 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
==2895076== 
==2895076== 23 errors in context 3 of 8:
==2895076== Invalid read of size 1
==2895076==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2895076==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2895076==    by 0x48D6605: printf (printf.c:33)
==2895076==    by 0x109343: main (bug-program.c:72)
==2895076==  Address 0x4a42e58 is 0 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895076==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895076==    by 0x1092F6: main (bug-program.c:70)
==2895076== 
==2895076== 
==2895076== 23 errors in context 4 of 8:
==2895076== Invalid read of size 4
==2895076==    at 0x109330: main (bug-program.c:72)
==2895076==  Address 0x4a42e08 is 0 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
==2895076== 
==2895076== 23 errors in context 5 of 8:
==2895076== Invalid write of size 8
==2895076==    at 0x109315: add_key_value (bug-program.c:33)
==2895076==    by 0x109315: make_key_values (bug-program.c:61)
==2895076==    by 0x109315: main (bug-program.c:70)
==2895076==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
==2895076== 
==2895076== 23 errors in context 6 of 8:
==2895076== Invalid write of size 4
==2895076==    at 0x109312: add_key_value (bug-program.c:33)
==2895076==    by 0x109312: make_key_values (bug-program.c:61)
==2895076==    by 0x109312: main (bug-program.c:70)
==2895076==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895076==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895076==    by 0x1092D3: main (bug-program.c:70)
==2895076== 
==2895076== 
==2895076== 23 errors in context 7 of 8:
==2895076== Invalid write of size 1
==2895076==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==2895076==    by 0x10930E: add_key_value (bug-program.c:30)
==2895076==    by 0x10930E: make_key_values (bug-program.c:61)
==2895076==    by 0x10930E: main (bug-program.c:70)
==2895076==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2895076==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895076==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895076==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895076==    by 0x1092F6: main (bug-program.c:70)
==2895076== 
==2895076== ERROR SUMMARY: 162 errors from 8 contexts (suppressed: 0 from 0)
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ nano bi[Kug-program.
bug-program.c         bug-program.valgrind  
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ nano bug-program.
bug-program.c         bug-program.valgrind  
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ nano bug-program.valgrind 
[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;53H(B[0;7m[ Reading File ](B[m[28;52H(B[0;7m[ Read 23 lines ](B[m[H(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [1;119H(B[m[29d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[30d(B[0;7m^X(B[m Exit[30;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[28d[3d[39;49m(B[moutgrabe: 22[4draths: 21[5dmome: 20[6dthe: 19[7dand: 18[8dborogoves: 17[9dthe: 16[10dwere: 15[11dmimsy: 14[12dall: 13[13dwabe: 12[14dthe: 11[15din: 10[16dgimble: 9[17dand: 8[18dgyre: 7[19ddid: 6[20dtoves: 5[21dslithy: 4[22dthe: 3[23dand: 2[24dbrillig: 1[25dtwas: 0[3d[?12l[?25h[?25l[4d[?12l[?25h[?25l[5d[?12l[?25h[?25l[6d[?12l[?25h[?25l[7d[?12l[?25h[?25l[8d[?12l[?25h[?25l[9d[?12l[?25h[?25l[10d[?12l[?25h[?25l[11d[?12l[?25h[?25l[12d[?12l[?25h[?25l[13d[?12l[?25h[?25l[14d[?12l[?25h[?25l[15d[?12l[?25h[?25l[16d[?12l[?25h[?25l[17d[?12l[?25h[?25l[18d[?12l[?25h[?25l[19d[?12l[?25h[?25l[20d[?12l[?25h[?25l[21d[?12l[?25h[?25l[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[28d[K[26d[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[29d[J[30;120H[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ nano bug-program.valgrind ls[Knano bug-program.valgrind ls[Kvalgrind -v --leak-check=yes ./bug-program 2 >bug-program.valgrind[1P>bug-program.valgrind
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[39Pnano bug-program.valgrind ls[Knano bug-program.valgrind 
[?1049h[22;0;0t[1;30r(B[m[4l[?7h[39;49m[?1h=[?1h=[?1h=[?25l[39;49m(B[m[H[2J[28;53H(B[0;7m[ Reading File ](B[m[28;52H(B[0;7m[ Read 273 lines ](B[m[H(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [1;119H(B[m[29d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[30d(B[0;7m^X(B[m Exit[30;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[28d[3d[39;49m(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[3d[?12l[?25h[?25l[4d[?12l[?25h[?25l[5d[?12l[?25h[?25l[6d[?12l[?25h[?25l[7d[?12l[?25h[?25l[8d[?12l[?25h[?25l[9d[?12l[?25h[?25l[10d[?12l[?25h[?25l[11d[?12l[?25h[?25l[12d[?12l[?25h[?25l[13d[?12l[?25h[?25l[14d[?12l[?25h[?25l[15d[?12l[?25h[?25l[16d[?12l[?25h[?25l[17d[?12l[?25h[?25l[18d[?12l[?25h[?25l[19d[?12l[?25h[?25l[20d[?12l[?25h[?25l[21d[?12l[?25h[?25l[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[30;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;31r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28;52H(B[0;7m[ Read 273 lines ][29d^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[30d(B[0;7m^X(B[m Exit[30;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28;52H(B[0;7m[ Read 273 lines ][30d(B[m[1;119H[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[30d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[31d(B[0;7m^X(B[m Exit[31;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[29d[?25l[26d[?12l[?25h[?25l[?12l[?25h[31;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;32r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[30d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[31d(B[0;7m^X(B[m Exit[31;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[31d[1;119H[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[31d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[32d(B[0;7m^X(B[m Exit[32;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[30d[?25l[26d[?12l[?25h[?25l[?12l[?25h[32;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;33r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[31d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[32d(B[0;7m^X(B[m Exit[32;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[32d[1;119H[30d==2895232==[32d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[33d(B[0;7m^X(B[m Exit[33;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[31d[?25l[26d[?12l[?25h[?25l[?12l[?25h[33;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;34r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[32d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[33d(B[0;7m^X(B[m Exit[33;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[33d[1;119H[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[33d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[34d(B[0;7m^X(B[m Exit[34;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[32d[?25l[26d[?12l[?25h[?25l[?12l[?25h[34;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;35r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[33d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[34d(B[0;7m^X(B[m Exit[34;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[34d[1;119H[32d==2895232== don't want to do, unless you know exactly what you're doing,[34d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[35d(B[0;7m^X(B[m Exit[35;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[33d[?25l[26d[?12l[?25h[?25l[?12l[?25h[35;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;36r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[34d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[35d(B[0;7m^X(B[m Exit[35;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[35d[1;119H[33d==2895232== or are doing some strange experiment):[35d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[36d(B[0;7m^X(B[m Exit[36;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[34d[?25l[26d[?12l[?25h[?25l[?12l[?25h[36;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;37r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[35d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[36d(B[0;7m^X(B[m Exit[36;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[36d[1;119H[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[36d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[37d(B[0;7m^X(B[m Exit[37;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[35d[?25l[26d[?12l[?25h[?25l[?12l[?25h[37;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;38r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[36d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[37d(B[0;7m^X(B[m Exit[37;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[37d[1;119H[35d==2895232==[37d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[38d(B[0;7m^X(B[m Exit[38;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[36d[?25l[26d[?12l[?25h[?25l[?12l[?25h[38;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;39r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[37d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[38d(B[0;7m^X(B[m Exit[38;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[38d[1;119H[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[38d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[39d(B[0;7m^X(B[m Exit[39;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[37d[?25l[26d[?12l[?25h[?25l[?12l[?25h[39;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;40r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[38d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[39d(B[0;7m^X(B[m Exit[39;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[39d[1;119H[37d==2895232==   /path/to/gdb ./bug-program[39d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[40d(B[0;7m^X(B[m Exit[40;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[38d[?25l[26d[?12l[?25h[?25l[?12l[?25h[40;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;41r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[37d==2895232==   /path/to/gdb ./bug-program[39d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[40d(B[0;7m^X(B[m Exit[40;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[37d==2895232==   /path/to/gdb ./bug-program[40d[1;119H[38d==2895232== and then give GDB the following command[40d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[41d(B[0;7m^X(B[m Exit[41;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[39d[?25l[26d[?12l[?25h[?25l[?12l[?25h[41;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;42r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[37d==2895232==   /path/to/gdb ./bug-program[38d==2895232== and then give GDB the following command[40d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[41d(B[0;7m^X(B[m Exit[41;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[37d==2895232==   /path/to/gdb ./bug-program[38d==2895232== and then give GDB the following command[41d[1;119H[39d==2895232==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232[41d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[42d(B[0;7m^X(B[m Exit[42;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[40d[?25l[26d[?12l[?25h[?25l[?12l[?25h[42;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;43r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[37d==2895232==   /path/to/gdb ./bug-program[38d==2895232== and then give GDB the following command[39d==2895232==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232[41d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[42d(B[0;7m^X(B[m Exit[42;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[37d==2895232==   /path/to/gdb ./bug-program[38d==2895232== and then give GDB the following command[39d==2895232==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232[42d[1;119H[40d==2895232== --pid is optional if only one valgrind process is running[42d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[43d(B[0;7m^X(B[m Exit[43;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[41d[?25l[26d[?12l[?25h[?25l[?12l[?25h[43;1H[?1049l[23;0;0t[?1l>[?1049h[22;0;0t[1;44r[?12l[?25h[39;49m]104(B[m[4l[?7h[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[37d==2895232==   /path/to/gdb ./bug-program[38d==2895232== and then give GDB the following command[39d==2895232==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232[40d==2895232== --pid is optional if only one valgrind process is running[42d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[43d(B[0;7m^X(B[m Exit[43;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[26d[?1h=[?1h=[?1h=[H[2J(B[0;7m  GNU nano 3.2                                      bug-program.valgrind                                                [3;1H(B[m==2895232== Memcheck, a memory error detector[4d==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[5d==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info[6d==2895232== Command: ./bug-program[7d==2895232==[8d--2895232-- Valgrind options:[9d--2895232--    -v[10d--2895232--    --leak-check=yes[11d--2895232-- Contents of /proc/version:[12d--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), G$[13;1H--2895232--[14d--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi[15d--2895232-- Page sizes: currently 4096, max supported 4096[16d--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind[17d--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[18;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so[19d--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..[20d--2895232--   .. build-id is valid[21d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux[22d--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..[23d--2895232--   .. build-id is valid[24d--2895232--    object doesn't have a dynamic symbol table[25d--2895232-- Scheduler: using generic scheduler lock implementation.[26d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[27d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[28d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[29d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[30d==2895232==[31d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[32d==2895232== don't want to do, unless you know exactly what you're doing,[33d==2895232== or are doing some strange experiment):[34d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[35d==2895232==[36d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[37d==2895232==   /path/to/gdb ./bug-program[38d==2895232== and then give GDB the following command[39d==2895232==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232[40d==2895232== --pid is optional if only one valgrind process is running[43d[1;119H[41d==2895232==[43d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[44d(B[0;7m^X(B[m Exit[44;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[42d[?25l[26d[?12l[?25h[?25l[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H--2895232-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strl$[23;1H--2895232-- REDIR: 0x401e0d0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (vgPlain_amd64_linux_REDIR_FOR_index)[24;1H--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_core-amd64-linux.so[25d--2895232--   Considering /usr/lib/debug/.build-id/34/fbc4cdfbfce1bfc3d2e522a01a050bf724c930.debug ..[26d--2895232--   .. build-id is valid[27d--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so[28d--2895232--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..[29d--2895232--   .. build-id is valid[30d==2895232== WARNING: new redirection conflicts with existing -- ignoring it[31d--2895232--     old: 0x0401e2f0 (strlen[31;54H) R-> (0000.0) 0x580c9ce2 vgPlain_amd64_linux_REDIR_FOR_strlen[32d--2895232--     new: 0x0401e2f0 (strlen[32;54H) R-> (2007.0) 0x04838d80 strlen[33d--2895232-- REDIR: 0x401ab10 (ld-linux-x86-64.so.2:strcmp) redirected to 0x4839e40 (strcmp)[34d--2895232-- REDIR: 0x401e830 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x483d860 (mempcpy)[35d--2895232-- Reading syms from /lib/x86_64-linux-gnu/libc-2.28.so[36d--2895232--   Considering /usr/lib/debug/.build-id/18/b9a9a8c523e5cfe5b5d946d605d09242f09798.debug ..[37d--2895232--   .. build-id is valid[38d--2895232-- REDIR: 0x4906f70 (libc.so.6:memmove) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[39d--2895232-- REDIR: 0x4906160 (libc.so.6:strncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[40d--2895232-- REDIR: 0x4907250 (libc.so.6:strcasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[41d--2895232-- REDIR: 0x4905b70 (libc.so.6:strcat) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H--2895232-- REDIR: 0x4906190 (libc.so.6:rindex) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[23d--2895232-- REDIR: 0x4908890 (libc.so.6:rawmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[24d--2895232-- REDIR: 0x4921230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[25d--2895232-- REDIR: 0x4920cd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[26d--2895232-- REDIR: 0x49070e0 (libc.so.6:mempcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[27d--2895232-- REDIR: 0x4906f10 (libc.so.6:bcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[28d--2895232-- REDIR: 0x4906100 (libc.so.6:strncmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[29d--2895232-- REDIR: 0x4905be0 (libc.so.6:strcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[30d--2895232-- REDIR: 0x4907040 (libc.so.6:memset) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[31d--2895232-- REDIR: 0x4920ca0 (libc.so.6:wcschr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[32d--2895232-- REDIR: 0x49060a0 (libc.so.6:strnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[33d--2895232-- REDIR: 0x4905c70 (libc.so.6:strcspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[34d--2895232-- REDIR: 0x49072a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[35d--2895232-- REDIR: 0x4905c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[36d--2895232-- REDIR: 0x49073e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[37d--2895232-- REDIR: 0x49224d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[38d--2895232-- REDIR: 0x49061c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[39d--2895232-- REDIR: 0x4905ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[40d--2895232-- REDIR: 0x4906070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[41d--2895232-- REDIR: 0x490d280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[2;41r[2;1H[20T[1;44r[3;1H--2895232--   .. build-id is valid[4d--2895232--    object doesn't have a dynamic symbol table[5d--2895232-- Scheduler: using generic scheduler lock implementation.[6d--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp[7d==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???[8d==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???[9d==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???[10d==2895232==[11d==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably[12d==2895232== don't want to do, unless you know exactly what you're doing,[13d==2895232== or are doing some strange experiment):[14d==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...[15d==2895232==[16d==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this[17d==2895232==   /path/to/gdb ./bug-program[18d==2895232== and then give GDB the following command[19d==2895232==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232[20d==2895232== --pid is optional if only one valgrind process is running[21d==2895232==[22d--2895232-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strl$[18;1H[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[7d[?12l[?25h[?25l[8d[?12l[?25h[?25l[9d[?12l[?25h[?25l[10d[?12l[?25h[?25l[11d[?12l[?25h[?25l[12d[?12l[?25h[?25l[13d[?12l[?25h[?25l[14d[?12l[?25h[?25l[15d[?12l[?25h[?25l[16d[?12l[?25h[?25l[17d[?12l[?25h[?25l[18d[?12l[?25h[?25l[19d[?12l[?25h[?25l[20d[?12l[?25h[?25l[21d[?12l[?25h[?25l[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H--2895232-- REDIR: 0x4906190 (libc.so.6:rindex) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[23d--2895232-- REDIR: 0x4908890 (libc.so.6:rawmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[24d--2895232-- REDIR: 0x4921230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[25d--2895232-- REDIR: 0x4920cd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[26d--2895232-- REDIR: 0x49070e0 (libc.so.6:mempcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[27d--2895232-- REDIR: 0x4906f10 (libc.so.6:bcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[28d--2895232-- REDIR: 0x4906100 (libc.so.6:strncmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[29d--2895232-- REDIR: 0x4905be0 (libc.so.6:strcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[30d--2895232-- REDIR: 0x4907040 (libc.so.6:memset) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[31d--2895232-- REDIR: 0x4920ca0 (libc.so.6:wcschr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[32d--2895232-- REDIR: 0x49060a0 (libc.so.6:strnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[33d--2895232-- REDIR: 0x4905c70 (libc.so.6:strcspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[34d--2895232-- REDIR: 0x49072a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[35d--2895232-- REDIR: 0x4905c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[36d--2895232-- REDIR: 0x49073e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[37d--2895232-- REDIR: 0x49224d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[38d--2895232-- REDIR: 0x49061c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[39d--2895232-- REDIR: 0x4905ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[40d--2895232-- REDIR: 0x4906070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[41d--2895232-- REDIR: 0x490d280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H--2895232-- REDIR: 0x49072f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[23d--2895232-- REDIR: 0x4906ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[24d--2895232-- REDIR: 0x4920db0 (libc.so.6:wcslen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[25d--2895232-- REDIR: 0x4906460 (libc.so.6:strspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[26d--2895232-- REDIR: 0x4907220 (libc.so.6:stpncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[27d--2895232-- REDIR: 0x49071f0 (libc.so.6:stpcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[28d--2895232-- REDIR: 0x49088c0 (libc.so.6:strchrnul) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[29d--2895232-- REDIR: 0x4907340 (libc.so.6:strncasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[30d--2895232-- REDIR: 0x49d9fa0 (libc.so.6:__strrchr_avx2) redirected to 0x4838790 (rindex)[31d--2895232-- REDIR: 0x4902350 (libc.so.6:malloc) redirected to 0x4835710 (malloc)[32d--2895232-- REDIR: 0x491b100 (libc.so.6:__strcpy_sse2_unaligned) redirected to 0x4838db0 (strcpy)[33d==2895232== Invalid write of size 1[34d==2895232==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)[35d==2895232==    by 0x10930E: add_key_value (bug-program.c:30)[36d==2895232==    by 0x10930E: make_key_values (bug-program.c:61)[37d==2895232==    by 0x10930E: main (bug-program.c:70)[38d==2895232==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd[39d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[40d==2895232==    by 0x1092F6: add_key_value (bug-program.c:24)[41d==2895232==    by 0x1092F6: make_key_values (bug-program.c:61)[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H==2895232==    by 0x1092F6: main (bug-program.c:70)[23d==2895232==[24d==2895232== Invalid write of size 4[25d==2895232==    at 0x109312: add_key_value (bug-program.c:33)[26d==2895232==    by 0x109312: make_key_values (bug-program.c:61)[27d==2895232==    by 0x109312: main (bug-program.c:70)[28d==2895232==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd[29d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[30d==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[31d==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[32d==2895232==    by 0x1092D3: main (bug-program.c:70)[33d==2895232==[34d==2895232== Invalid write of size 8[35d==2895232==    at 0x109315: add_key_value (bug-program.c:33)[36d==2895232==    by 0x109315: make_key_values (bug-program.c:61)[37d==2895232==    by 0x109315: main (bug-program.c:70)[38d==2895232==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd[39d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[40d==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[41d==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l[3d==[10G==[K[4d==[10G== Invalid write of size 4[K[5d==[10G==    at 0x109312: add_key_value (bug-program.c:33)[K[6d==[10G==    by 0x109312: make_key_values (bug-program.c:61)[K[7d==[10G==    by 0x109312: main (bug-program.c:70)[K[8d==[10G==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd[K[9d==[10G==    at 0x483577F: malloc (vg_replace_malloc.c:299)[K[10d==[10G==    by 0x1092D3: add_key_value (bug-program.c:21)[K[11d==[10G==    by 0x1092D3: make_key_values (bug-program.c:61)[K[12d==[10G==    by 0x1092D3: main (bug-program.c:70)[K[13;13H[K[14dInvalid write of size 8[K[15;16Hat[25G15[15;59H3[16;25H15[17d15[18d2050 is 8[18;65H8[20;25HD3[20;59H1[21;25HD3[22dD3[24;21Hread[1P[25d30: main (bug-program.c:72)[K[26;14HAddress 0x4a42e08 is 0 bytes after a block of size 8 alloc'd[27;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[28;14H  by 0x1092D3: add_key_value (bug-program.c:21)[K[29;16Hby 0x1092D3: make_key_values (bug-program.c:61)[30;29Hmain (bug-program.c:70)[K[31;16H[K[32d--[10G-- REDIR: 0x49d9db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)[33d--[10G-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)[34;21Hread of size 1[K[35;21H4838C74: strlen (vg_replace_strmem.c:460)[36;21H48CF9EE: vfprintf (vfprintf.c:1638)[K[37;21H48D6605: printf (printf.c:33)[K[38;14H  by 0x109343: main (bug-program.c:72)[K[39;14HAddress 0x4a42e58 is 0 bytes after a block of size 8 alloc'd[40;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[41;25HF6: add_key_value (bug-program.c:24)[K[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H==2895232==    by 0x1092F6: make_key_values (bug-program.c:61)[23d==2895232==    by 0x1092F6: main (bug-program.c:70)[24d==2895232==[25d--2895232-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)[26d==2895232== Invalid read of size 8[27d==2895232==    at 0x109344: main (bug-program.c:71)[28d==2895232==  Address 0x4a42e10 is 8 bytes after a block of size 8 alloc'd[29d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[30d==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[31d==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[32d==2895232==    by 0x1092D3: main (bug-program.c:70)[33d==2895232==[34d--2895232-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)[35d==2895232== Invalid read of size 8[36d==2895232==    at 0x109355: free_key_values (bug-program.c:43)[37d==2895232==    by 0x109355: main (bug-program.c:74)[38d==2895232==  Address 0x4a42e10 is 8 bytes after a block of size 8 free'd[39d==2895232==    at 0x48369AB: free (vg_replace_malloc.c:530)[40d==2895232==    by 0x109354: free_key_values (bug-program.c:44)[41d==2895232==    by 0x109354: main (bug-program.c:74)[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H==2895232==  Block was alloc'd at[23d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[24d==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[25d==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[26d==2895232==    by 0x1092D3: main (bug-program.c:70)[27d==2895232==[28d==2895232==[29d==2895232== HEAP SUMMARY:[30d==2895232==     in use at exit: 100 bytes in 23 blocks[31d==2895232==   total heap usage: 47 allocs, 24 frees, 1,308 bytes allocated[32d==2895232==[33d==2895232== Searching for pointers to 23 not-freed blocks[34d==2895232== Checked 69,560 bytes[35d==2895232==[36d==2895232== 100 bytes in 23 blocks are definitely lost in loss record 1 of 1[37d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[38d==2895232==    by 0x1092F6: add_key_value (bug-program.c:24)[39d==2895232==    by 0x1092F6: make_key_values (bug-program.c:61)[40d==2895232==    by 0x1092F6: main (bug-program.c:70)[41d==2895232==[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l[3;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[4;16Hby 0x1092D3: add_key_value (bug-program.c:21)[5d==[10G==    by 0x1092D3: make_key_values (bug-program.c:61)[K[6;13H   by 0x1092D3: main (bug-program.c:70)[7;16H[K[8d[K[9dHEAP SUMMARY:[K[10;16H in use at exit: 100 bytes in 23 blocks[K[11;15Htotal heap usage: 47 allocs, 24 frees, 1,308 bytes allocated[12;16H[K[13;13HSearching for pointers to 23 not-freed blocks[14d==[10G== Checked 69,560 bytes[K[15;13H[K[16d100 bytes in 23 blocks are definitely lost in loss record 1 of 1[17;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[18;14H  by 0x1092F6: add_key_value (bug-program.c:24)[K[19;16Hby 0x1092F6: make_key_values (bug-program.c:61)[20;24H2F6: main (bug-program.c:70)[K[21;16H[K[22;13HLEAK SUMMARY:[K[23;16Hdefinitely lost: 100 bytes in 23 blocks[K[24;16Hindirectly lost: 0 bytes in 0 blocks[K[25;16H  possibly lost: 0 bytes in 0 blocks[K[26;16Hstill reachable: 0 bytes in 0 blocks[27;21Hsuppressed: 0 bytes in 0 blocks[29;13HERROR SUMMARY: 162 errors from 8 contexts (suppressed: 0 from 0)[30;17H[K[31;13H23 errors in context 1 of 8:[K[32;13HInvalid read of size 8[33;13H   at 0x109355: free_key_values (bug-program.c:43)[34;13H   by 0x109355: main (bug-program.c:74)[35;14HAddress 0x4a42e10 is 8 bytes after a block of size 8 free'd[36;13H   at 0x48369AB: free (vg_replace_malloc.c:530)[K[37;16Hby 0x109354: free_key_values (bug-program.c:44)[38;24H354: main (bug-program.c:74)[K[39;14HBlock was alloc'd at[K[40;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[41;16Hby 0x1092D3: add_key_value (bug-program.c:21)[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[23d==2895232==    by 0x1092D3: main (bug-program.c:70)[24d==2895232==[25d==2895232==[26d==2895232== 23 errors in context 2 of 8:[27d==2895232== Invalid read of size 8[28d==2895232==    at 0x109344: main (bug-program.c:71)[29d==2895232==  Address 0x4a42e10 is 8 bytes after a block of size 8 alloc'd[30d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[31d==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[32d==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[33d==2895232==    by 0x1092D3: main (bug-program.c:70)[34d==2895232==[35d==2895232==[36d==2895232== 23 errors in context 3 of 8:[37d==2895232== Invalid read of size 1[38d==2895232==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[39d==2895232==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[40d==2895232==    by 0x48D6605: printf (printf.c:33)[41d==2895232==    by 0x109343: main (bug-program.c:72)[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H==2895232==  Address 0x4a42e58 is 0 bytes after a block of size 8 alloc'd[23d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[24d==2895232==    by 0x1092F6: add_key_value (bug-program.c:24)[25d==2895232==    by 0x1092F6: make_key_values (bug-program.c:61)[26d==2895232==    by 0x1092F6: main (bug-program.c:70)[27d==2895232==[28d==2895232==[29d==2895232== 23 errors in context 4 of 8:[30d==2895232== Invalid read of size 4[31d==2895232==    at 0x109330: main (bug-program.c:72)[32d==2895232==  Address 0x4a42e08 is 0 bytes after a block of size 8 alloc'd[33d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[34d==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[35d==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[36d==2895232==    by 0x1092D3: main (bug-program.c:70)[37d==2895232==[38d==2895232==[39d==2895232== 23 errors in context 5 of 8:[40d==2895232== Invalid write of size 8[41d==2895232==    at 0x109315: add_key_value (bug-program.c:33)[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1H==2895232==    by 0x109315: make_key_values (bug-program.c:61)[23d==2895232==    by 0x109315: main (bug-program.c:70)[24d==2895232==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd[25d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[26d==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[27d==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[28d==2895232==    by 0x1092D3: main (bug-program.c:70)[29d==2895232==[30d==2895232==[31d==2895232== 23 errors in context 6 of 8:[32d==2895232== Invalid write of size 4[33d==2895232==    at 0x109312: add_key_value (bug-program.c:33)[34d==2895232==    by 0x109312: make_key_values (bug-program.c:61)[35d==2895232==    by 0x109312: main (bug-program.c:70)[36d==2895232==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd[37d==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[38d==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[39d==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[40d==2895232==    by 0x1092D3: main (bug-program.c:70)[41d==2895232==[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l[3;16Hby 0x109315: main (bug-program.c:70)[K[4;14HAddress 0x4a42050 is 8 bytes after a block of size 8 alloc'd[5;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[K[6;25HD3: add_key_value (bug-program.c:21)[7;16Hby 0x1092D3: make_key_values (bug-program.c:61)[8;16Hby 0x1092D3: main (bug-program.c:70)[9;13H[K[10d[K[11d23 errors in context 6 of 8:[K[12;13HInvalid write of size 4[K[13;21H109312: add_key_value (bug-program.c:33)[K[14;24H312: make_key_values (bug-program.c:61)[15;24H312: main (bug-program.c:70)[K[16;14HAddress 0x4a42048 is 0 bytes after a block of size 8 alloc'd[17;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[18;16Hby 0x1092D3: add_key_value (bug-program.c:21)[19;13H   by 0x1092D3: make_key_values (bug-program.c:61)[20;13H   by 0x1092D3: main (bug-program.c:70)[21;16H[K[22d[K[23;13H23 errors in context 7 of 8:[K[24;13HInvalid write of size 1[K[25;24H8DD7: strcpy[25;49Hstrmem.c:512[26;24H30E[26;58H30[27;24H30E[28;24H30E[29;14HAddress 0x4a42094 is 0 bytes after a block of size 4 alloc'd[30;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[31;13H   by 0x1092F6: add_key_value (bug-program.c:24)[32;13H   by 0x1092F6: make_key_values (bug-program.c:61)[33;16Hby[24G2F6: main (bug-program.c:70)[K[34;16H[K[35;13HERROR SUMMARY: 162 errors from 8 contexts (suppressed: 0 from 0)[36d[K[37d[K[38d[K[39d[K[40d[K[41d[K[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[43d[J[44;120H[?12l[?25h[44;1H[?1049l[23;0;0t[?1l>]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ nano big[K[Kug-program.c
[?1049h[22;0;0t[1;44r(B[m[4l[?7h[39;49m[?1h=[?1h=[?1h=[?25l[39;49m(B[m[H[2J[42;53H(B[0;7m[ Reading File ](B[m[42;52H(B[0;7m[ Read 76 lines ](B[m[H(B[0;7m  GNU nano 3.2                                         bug-program.c                                                    [1;119H(B[m[43d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[44d(B[0;7m^X(B[m Exit[44;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[42d[3d(B[0;1m[36m#include[39m(B[m (B[0;1m[33m<errno.h>[4d[36m#include[39m(B[m (B[0;1m[33m<stdio.h>[5d[36m#include[39m(B[m (B[0;1m[33m<stdlib.h>[6d[36m#include[39m(B[m (B[0;1m[33m<string.h>[8d[34m/** A struct used to form a linear chain of key-value pairs. */[9d(B[0m[32mstruct[39m(B[m KeyValue {[10;3H[32mconst[39m(B[m [32mchar[39m(B[m *key;[26G(B[0;1m[34m/** string key */[11;3H(B[0m[32mint[39m(B[m value;[11;26H(B[0;1m[34m/** integer value */[12;3H(B[0m[32mstruct[39m(B[m KeyValue *succ; (B[0;1m[34m/** next key-value in chain */[13d[39m(B[m};[15d(B[0;1m[34m/** Given some chain keyValues of key-value struct's, add the[16d *  key-value (k, v) at head of chain keyValues and return the[17d *  resulting chain.[18d */[19d(B[0m[32mstatic[39m(B[m [32mstruct[39m(B[m KeyValue *[20dadd_key_value([32mstruct[39m(B[m KeyValue *keyValues, [32mconst[39m(B[m [32mchar[39m(B[m *k, [32mint[39m(B[m v)[21d{[22d (B[0;1m[34m//allocate storage for new KeyValue struct[23;3H(B[0m[32mstruct[39m(B[m KeyValue *kv = malloc([32msizeof[39m(B[m([32mstruct[39m(B[m KeyValue *));[25;3H(B[0;1m[34m//allocate storage for string pointed to by k[26;3H(B[0m[32mchar[39m(B[m *s = malloc(strlen(k));[28;3H(B[0;1m[33mif[39m(B[m (kv == (B[0;1m[31mNULL[39m(B[m || s == (B[0;1m[31mNULL[39m(B[m) { (B[0;1m[34m//check if allocations succeeded[29;5H[39m(B[mfprintf(stderr, (B[0;1m[33m"malloc failure: %s\n"[39m(B[m, strerror(errno));[30;5Hexit(1);[31;3H}[32dstrcpy(s, k);  (B[0;1m[34m//copy string k into newly allocated memory pointed to by s[34;3H//initialize fields of *kv.[35;3H[39m(B[mkv->key = s; kv->value = v; kv->succ = keyValues;[37;3H[35mreturn[39m(B[m kv;[38d}[40d(B[0;1m[34m/** Free all the key-value's in keyValues. */[41d(B[0m[32mstatic[39m(B[m [32mvoid[3d[39m(B[m[?12l[?25h[?25l[4d[?12l[?25h[?25l[5d[?12l[?25h[?25l[6d[?12l[?25h[?25l[7d[?12l[?25h[?25l[8d[?12l[?25h[?25l[9d[?12l[?25h[?25l[10d[?12l[?25h[?25l[11d[?12l[?25h[?25l[12d[?12l[?25h[?25l[13d[?12l[?25h[?25l[14d[?12l[?25h[?25l[15d[?12l[?25h[?25l[16d[?12l[?25h[?25l[17d[?12l[?25h[?25l[18d[?12l[?25h[?25l[19d[?12l[?25h[?25l[20d[?12l[?25h[?25l[21d[?12l[?25h[?25l[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[42d[K[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;1Hfree_key_values([32mstruct[39m(B[m KeyValue *keyValues)[23d{[24d (B[0;1m[34m//go thru chain of keyValues[25;3H[33mfor[39m(B[m ([32mstruct[39m(B[m KeyValue *p = keyValues; p != (B[0;1m[31mNULL[39m(B[m; p = p->succ) {[26;5Hfree(p); (B[0;1m[34m//free KeyValue struct[27;3H[39m(B[m}[28d}[30d(B[0;1m[34m/** Make key-values for all the words in the first verse of Carroll's[31d *  Jabberwocky with value being the index of the word.[32d */[33d(B[0m[32mstatic[39m(B[m [32mstruct[39m(B[m KeyValue *[34dmake_key_values([32mvoid[39m(B[m) {[35;3H[32mconst[39m(B[m [32mchar[39m(B[m *keys[] = {[36;5H(B[0;1m[33m"twas"[39m(B[m, (B[0;1m[33m"brillig"[39m(B[m, (B[0;1m[33m"and"[39m(B[m, (B[0;1m[33m"the"[39m(B[m, (B[0;1m[33m"slithy"[39m(B[m, (B[0;1m[33m"toves"[39m(B[m,[37;5H(B[0;1m[33m"did"[39m(B[m, (B[0;1m[33m"gyre"[39m(B[m, (B[0;1m[33m"and"[39m(B[m, (B[0;1m[33m"gimble"[39m(B[m, (B[0;1m[33m"in"[39m(B[m, (B[0;1m[33m"the"[39m(B[m, (B[0;1m[33m"wabe"[39m(B[m,[38;5H(B[0;1m[33m"all"[39m(B[m, (B[0;1m[33m"mimsy"[39m(B[m, (B[0;1m[33m"were"[39m(B[m, (B[0;1m[33m"the"[39m(B[m, (B[0;1m[33m"borogoves"[39m(B[m,[39;5H(B[0;1m[33m"and"[39m(B[m, (B[0;1m[33m"the"[39m(B[m, (B[0;1m[33m"mome"[39m(B[m, (B[0;1m[33m"raths"[39m(B[m, (B[0;1m[33m"outgrabe"[39m(B[m,[40;3H};[41d[32mstruct[39m(B[m KeyValue *p = (B[0;1m[31mNULL[39m(B[m;[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;3H(B[0;1m[33mfor[39m(B[m ([32mint[39m(B[m i = 0; i < [32msizeof[39m(B[m(keys)/[32msizeof[39m(B[m(keys[0]); i++) {[23;5Hp = add_key_value(p, keys[i], i);[24;3H}[25d[35mreturn[39m(B[m p;[26d}[28d(B[0;1m[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[29d *  paired with their index in the verse.[30d */[31d(B[0m[32mint[39m(B[m main() {[32;3H[32mstruct[39m(B[m KeyValue *keyValues = make_key_values();[33;3H(B[0;1m[33mfor[39m(B[m ([32mstruct[39m(B[m KeyValue *p = keyValues; p != (B[0;1m[31mNULL[39m(B[m; p = p->succ) {[34;5Hprintf((B[0;1m[33m"%s: %d\n"[39m(B[m, p->key, p->value);[35;3H}[36dfree_key_values(keyValues);[37;3H[35mreturn[39m(B[m 0;[38d}[22d[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[2;41r[2;1H[20T[1;44r[3;3H[32mstruct[39m(B[m KeyValue *kv = malloc([32msizeof[39m(B[m([32mstruct[39m(B[m KeyValue *));[5;3H(B[0;1m[34m//allocate storage for string pointed to by k[6;3H(B[0m[32mchar[39m(B[m *s = malloc(strlen(k));[8;3H(B[0;1m[33mif[39m(B[m (kv == (B[0;1m[31mNULL[39m(B[m || s == (B[0;1m[31mNULL[39m(B[m) { (B[0;1m[34m//check if allocations succeeded[9;5H[39m(B[mfprintf(stderr, (B[0;1m[33m"malloc failure: %s\n"[39m(B[m, strerror(errno));[10;5Hexit(1);[11;3H}[12dstrcpy(s, k);  (B[0;1m[34m//copy string k into newly allocated memory pointed to by s[14;3H//initialize fields of *kv.[15;3H[39m(B[mkv->key = s; kv->value = v; kv->succ = keyValues;[17;3H[35mreturn[39m(B[m kv;[18d}[20d(B[0;1m[34m/** Free all the key-value's in keyValues. */[21d(B[0m[32mstatic[39m(B[m [32mvoid[22d[39m(B[mfree_key_values([32mstruct[39m(B[m KeyValue *keyValues)[?12l[?25h[?25l[A[?12l[?25h[?25l[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[40d[?12l[?25h[?25l[41d[?12l[?25h[?25l7[3;42r8[42d[20S[1;44r[22;3H(B[0;1m[33mfor[39m(B[m ([32mint[39m(B[m i = 0; i < [32msizeof[39m(B[m(keys)/[32msizeof[39m(B[m(keys[0]); i++) {[23;5Hp = add_key_value(p, keys[i], i);[24;3H}[25d[35mreturn[39m(B[m p;[26d}[28d(B[0;1m[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[29d *  paired with their index in the verse.[30d */[31d(B[0m[32mint[39m(B[m main() {[32;3H[32mstruct[39m(B[m KeyValue *keyValues = make_key_values();[33;3H(B[0;1m[33mfor[39m(B[m ([32mstruct[39m(B[m KeyValue *p = keyValues; p != (B[0;1m[31mNULL[39m(B[m; p = p->succ) {[34;5Hprintf((B[0;1m[33m"%s: %d\n"[39m(B[m, p->key, p->value);[35;3H}[36dfree_key_values(keyValues);[37;3H[35mreturn[39m(B[m 0;[38d}[22d[?12l[?25h[?25l[23d[?12l[?25h[?25l[24d[?12l[?25h[?25l[25d[?12l[?25h[?25l[26d[?12l[?25h[?25l[27d[?12l[?25h[?25l[28d[?12l[?25h[?25l[29d[?12l[?25h[?25l[30d[?12l[?25h[?25l[31d[?12l[?25h[?25l[32d[?12l[?25h[?25l[33d[?12l[?25h[?25l[34d[?12l[?25h[?25l[35d[?12l[?25h[?25l[36d[?12l[?25h[?25l[37d[?12l[?25h[?25l[38d[?12l[?25h[?25l[39d[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[A[?12l[?25h[?25l[43d[J[44;120H[?12l[?25h[44;1H[?1049l[23;0;0t[?1l>]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ nano bug-program.cvalgrind [1P[1P[1P[1P[1@v[1@i[1@m[1P
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;44r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[44;1H"bug-program.valgrind" 273L, 16568C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2895232== Memcheck, a memory error detector
==2895232== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2895232== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info
==2895232== Command: ./bug-program
==2895232==
--2895232-- Valgrind options:
--2895232--    -v
--2895232--    --leak-check=yes
--2895232-- Contents of /proc/version:
--2895232--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), GNN[11;1HU ld (GNU Binutils for Debian) 2.31.1) #1 SMP Debian 5.7.10-1~bpo10+1 (2020-07-30)
--2895232--
--2895232-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi
--2895232-- Page sizes: currently 4096, max supported 4096
--2895232-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind
--2895232-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[17;1H--2895232-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so
--2895232--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..
--2895232--   .. build-id is valid
--2895232-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux
--2895232--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..
--2895232--   .. build-id is valid
--2895232--    object doesn't have a dynamic symbol table
--2895232-- Scheduler: using generic scheduler lock implementation.
--2895232-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp
==2895232== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2895232-by-fantona1-on-???
==2895232== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2895232-by-fantona1-on-???
==2895232== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2895232-by-fantona1-on-???
==2895232==
==2895232== TO CONTROL THIS PROCESS USING vgdb (which you probably
==2895232== don't want to do, unless you know exactly what you're doing,
==2895232== or are doing some strange experiment):
==2895232==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232 ...command...
==2895232==
==2895232== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==2895232==   /path/to/gdb ./bug-program
==2895232== and then give GDB the following command
==2895232==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2895232
==2895232== --pid is optional if only one valgrind process is running
==2895232==
--2895232-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strlee[42;1Hn)
--2895232-- REDIR: 0x401e0d0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (vgPlain_amd64_linux_REDIR_FOR_index)[44;103H1,1[11CTop[1;1H[?25h[?25l[44;93H\[1;1H[44;93H [1;1H[?25h[?25l[44;93H/[1;1H[44;1H[K[44;1H/[?2004h[?25hb[?25l[2;53H[7mb[m[44;103H2,53[10CTop[44;103H[K[44;3H[?25hu[?25l[2;53Hb[4;24H[7mbu[m[44;103H4,24[10CTop[44;103H[K[44;4H[?25hg[?25l[4;26H[7mg[m[44;103H4,24[10CTop[44;103H[K[44;5H[?25h-[?25l[4;27H[7m-[m[44;103H4,24[10CTop[44;103H[K[44;6H[?25hp[?25l[4;28H[7mp[m[44;103H4,24[10CTop[44;103H[K[44;7H[?25hr[?25l[4;29H[7mr[m[44;103H4,24[10CTop[44;103H[K[44;8H[?25hro[?25l[4;30H[7mo[m[44;103H4,24[10CTop[44;103H[K[44;9H[?25hg[?25l[4;31H[7mg[m[44;103H4,24[10CTop[44;103H[K[44;10H[?25hr[?25l[4;32H[7mr[m[44;103H4,24[10CTop[44;103H[K[44;11H[?25ha[?25l[4;33H[7ma[m[44;103H4,24[10CTop[44;103H[K[44;12H[?25hm[?25l[4;34H[7mm[m[44;103H4,24[10CTop[44;103H[K[44;13H[?25h[?25l[4;24Hbug-program[44;103H4,24[10CTop[4;24H[?25h[?25l[44;93H~@k[4;24H[44;93H   [5;12H[44;103H5,12[5;12H[?25h[?25l[44;93H~@k[5;12H[44;93H   [4;24H[44;103H4,24[4;24H[?25h[?25l[44;93H/[4;24H[44;1H[K[44;1H/[?2004h[?25hb[?25l[10;37H[7mb[m[82CNN[11;1HU[44;103H10,37[9CTop[44;103H[K[44;3H[?25hu[?25l[10;37Hb[82CNN[11;1HU[16;98H[7mbu[m[44;103H15,98[9CTop[44;103H[K[44;4H[?25hg[?25l[16;100H[7mg[m[44;103H15,98[9CTop[44;103H[K[44;5H[?25h-[?25l[16;101H[7m-[m[44;103H15,98[9CTop[44;103H[K[44;6H[?25hp[?25l[16;102H[7mp[m[44;103H15,98[9CTop[44;103H[K[44;7H[?25hr[?25l[16;103H[7mr[m[44;103H15,98[9CTop[44;103H[K[44;8H[?25ho[?25l[16;104H[7mo[m[44;103H15,98[9CTop[44;103H[K[44;9H[?25ho[?25l[16;98Hbug-pro[44;103H4,24[10CTop[44;103H[K[44;10H[?25h[?25l[44;9H[K[16;98H[7mbug-pro[m[44;103H15,98[9CTop[44;103H[K[44;9H[?25hg[?25l[16;105H[7mg[m[44;103H15,98[9CTop[44;103H[K[44;10H[?25hr[?25l[16;106H[7mr[m[44;103H15,98[9CTop[44;103H[K[44;11H[?25ha[?25l[16;107H[7ma[m[44;103H15,98[9CTop[44;103H[K[44;12H[?25hm[?25l[16;108H[7mm[m[44;103H15,98[9CTop[44;103H[K[44;13H[?25hm[34m^I[?25l[m[16;98Hbug-program[44;103H4,24[10CTop[44;103H[K[44;15H[?25h[?25l[44;13H[K[16;98H[7mbug-program[m[44;103H15,98[9CTop[44;103H[K[44;13H[?25h[?25l[16;98Hbug-program[44;103H15,98[9CTop[16;98H[?25h[?25l[44;93H^I[16;98H[44;93H  [16;98H[?25h[?25l[44;93H^I[16;98H[44;93H  [16;98H[?25h[?25l[44;93H^I[16;98H[44;93H  [16;98H[?25h[?25l[44;93H^I[16;98H[44;93H  [16;98H[?25h[?25l[44;93H^I[16;98H[44;93H  [16;98H[?25h[?25l[44;93H~@k[16;98H[44;93H   [16;99H[44;107H9[16;99H[?25h[?25l[44;93H/[16;99H[44;1H[K[44;1H/[?2004h[?25hb[?25l[16;110H[7mb[m[44;103H15,110[8CTop[44;103H[K[44;3H[?25hu[?25l[16;111H[7mu[m[44;103H15,110[8CTop[44;103H[K[44;4H[?25hg[?25l[16;112H[7mg[m[44;103H15,110[8CTop[44;103H[K[44;5H[?25h-[?25l[16;113H[7m-[m[44;103H15,110[8CTop[44;103H[K[44;6H[?25hp[?25l[16;114H[7mp[m[44;103H15,110[8CTop[44;103H[K[44;7H[?25hr[?25l[16;115H[7mr[m[44;103H15,110[8CTop[44;103H[K[44;8H[?25ho[?25l[16;116H[7mo[m[44;103H15,110[8CTop[44;103H[K[44;9H[?25hg[?25l[16;117H[7mg[m[44;103H15,110[8CTop[44;103H[K[44;10H[?25hr[?25l[16;118H[7mr[m[44;103H15,110[8CTop[44;103H[K[44;11H[?25ha[?25l[16;119H[7ma[m[44;103H15,110[8CTop[44;103H[K[44;12H[?25hm[?25l[16;120H[7mm[m[44;103H15,110[8CTop[44;103H[K[44;13H[?25hn[?25l[16;110Hbug-program[44;103H15,99[9CTop[44;103H[K[44;14H[?25hn[?25l[88C15,99[9CTop[44;103H[K[44;15H[?25hn[?25l[87C15,99[9CTop[44;103H[K[44;16H[?25h[?25l[44;15H[K[44;103H15,99[9CTop[44;103H[K[44;15H[?25h[?25l[44;14H[K[44;103H15,99[9CTop[44;103H[K[44;14H[?25h[?25l[44;13H[K[16;110H[7mbug-program[m[44;103H15,110[8CTop[44;103H[K[44;13H[?25h[?25l[16;110Hbug-program[44;103H15,110[8CTop[16;110H[?25h[?25l[44;93Hn[16;110H[44;93H[K[44;1H[36;30H[44;103H35,30[9CTop[36;30H[?25h[?25l[44;93Hn[36;30H[44;93H[K[44;1H[22;44H[27m[23m[29m[m[H[2J[1;1H--2895232-- REDIR: 0x49072a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x4905c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x49073e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x49224d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x49061c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x4905ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x4906070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x490d280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x49072f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x4906ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x4920db0 (libc.so.6:wcslen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x4906460 (libc.so.6:strspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x4907220 (libc.so.6:stpncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x49071f0 (libc.so.6:stpcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x49088c0 (libc.so.6:strchrnul) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x4907340 (libc.so.6:strncasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2895232-- REDIR: 0x49d9fa0 (libc.so.6:__strrchr_avx2) redirected to 0x4838790 (rindex)
--2895232-- REDIR: 0x4902350 (libc.so.6:malloc) redirected to 0x4835710 (malloc)
--2895232-- REDIR: 0x491b100 (libc.so.6:__strcpy_sse2_unaligned) redirected to 0x4838db0 (strcpy)
==2895232== Invalid write of size 1
==2895232==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==2895232==    by 0x10930E: add_key_value (bug-program.c:30)
==2895232==    by 0x10930E: make_key_values (bug-program.c:61)
==2895232==    by 0x10930E: main (bug-program.c:70)
==2895232==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895232==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895232==    by 0x1092F6: main (bug-program.c:70)
==2895232==
==2895232== Invalid write of size 4
==2895232==    at 0x109312: add_key_value (bug-program.c:33)
==2895232==    by 0x109312: make_key_values (bug-program.c:61)
==2895232==    by 0x109312: main (bug-program.c:70)
==2895232==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895232==    by 0x1092D3: main (bug-program.c:70)
==2895232==
==2895232== Invalid write of size 8
==2895232==    at 0x109315: add_key_value (bug-program.c:33)
==2895232==    by 0x109315: make_key_values (bug-program.c:61)[44;103H93,44[9C30%[22;44H[?25h[?25l[44;93Hn[22;44H[44;1H/bug-program[44;93H[K[44;1H[23;46H[44;103H94,46[9C30%[23;46H[?25h[?25l[44;93Hn[23;46H[44;93H[K[44;1H[24;35H[44;103H95,35[9C30%[24;35H[?25h[?25l[44;93Hn[24;35H[44;93H[K[44;1H[27;44H[44;103H98,44[9C30%[27;44H[?25h[?25l[44;93Hn[27;44H[44;93H[K[44;1H[28;46H[44;103H99,46[9C30%[28;46H[?25h[?25l[44;93Hn[28;46H[44;93H[K[44;1H[29;35H[44;103H100,35[8C30%[29;35H[?25h[?25l[44;93Hn[29;35H[44;93H[K[44;1H[32;44H[44;103H103,44[8C30%[32;44H[?25h[?25l[44;93Hn[32;44H[44;93H[K[44;1H[33;46H[44;103H104,46[8C30%[33;46H[?25h[?25l[44;93Hn[33;46H[44;93H[K[44;1H[34;35H[44;103H105,35[8C30%[34;35H[?25h[?25l[44;93Hn[34;35H[44;93H[K[44;1H[37;44H[44;103H108,44[8C30%[37;44H[?25h[?25l[44;93Hn[37;44H[44;93H[K[44;1H[38;46H[44;103H109,46[8C30%[38;46H[?25h[?25l[44;93Hn[38;46H[44;93H[K[44;1H[38;35H[1;43r[43;1H
[1;44r[43;1H==2895232==    by 0x109315: main (bug-program.c:70)[44;1H[K[44;103H110,35[8C31%[38;35H[?25h[?25l[44;93Hn[38;35H[44;1H/bug-program[44;93H[K[44;1H[38;44H[1;43r[1;1H[3M[1;44r[41;1H==2895232==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[44;1H[K[44;103H113,44[8C32%[38;44H[?25h[?25l[44;93Hn[38;44H[44;1H/bug-program[44;93H[K[44;1H[38;46H[1;43r[43;1H
[1;44r[43;1H==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)[44;1H[K[44;103H114,46[8C33%[38;46H[?25h[?25l[44;93Hn[38;46H[44;1H/bug-program[44;93H[K[44;1H[38;35H[1;43r[43;1H
[1;44r[43;1H==2895232==    by 0x1092D3: main (bug-program.c:70)[44;1H[K[44;103H115,35[8C33%[38;35H[?25h[?25l[44;93Hn[38;35H[44;1H/bug-program[44;93H[K[44;1H[38;44H[1;43r[1;1H[3M[1;44r[41;1H==2895232==
==2895232== Invalid read of size 4
==2895232==    at 0x109330: main (bug-program.c:72)[44;1H[K[44;103H118,44[8C34%[38;44H[?25h[?25l[44;93Hn[38;44H[44;1H/bug-program[44;93H[K[44;1H[38;46H[1;43r[43;1H
[1;44r[43;1H==2895232==  Address 0x4a42e08 is 0 bytes after a block of size 8 alloc'd[44;1H[K[44;103H119,46[8C35%[38;46H[?25h[?25l[44;93H~@k[38;46H[44;93H   [38;46H[1;43r[43;1H
[1;44r[43;1H==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H120,46[8C35%[38;46H[?25h[?25l[44;93H~@k[38;46H[44;93H   [38;12H[1;43r[43;1H
[1;44r[43;1H==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)[44;103H[K[44;103H121,12[8C36%[38;12H[?25h[?25l[44;93H~@k[38;12H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895232==    by 0x1092D3: main (bug-program.c:70)
==2895232==
--2895232-- REDIR: 0x49d9db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)
--2895232-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
==2895232== Invalid read of size 1
==2895232==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2895232==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2895232==    by 0x48D6605: printf (printf.c:33)
==2895232==    by 0x109343: main (bug-program.c:72)
==2895232==  Address 0x4a42e58 is 0 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895232==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895232==    by 0x1092F6: main (bug-program.c:70)
==2895232==
--2895232-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
==2895232== Invalid read of size 8
==2895232==    at 0x109344: main (bug-program.c:71)
==2895232==  Address 0x4a42e10 is 8 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895232==    by 0x1092D3: main (bug-program.c:70)
==2895232==
--2895232-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2895232== Invalid read of size 8
==2895232==    at 0x109355: free_key_values (bug-program.c:43)
==2895232==    by 0x109355: main (bug-program.c:74)
==2895232==  Address 0x4a42e10 is 8 bytes after a block of size 8 free'd
==2895232==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2895232==    by 0x109354: free_key_values (bug-program.c:44)
==2895232==    by 0x109354: main (bug-program.c:74)
==2895232==  Block was alloc'd at
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895232==    by 0x1092D3: main (bug-program.c:70)
==2895232==
==2895232==
==2895232== HEAP SUMMARY:[44;103H130,1[9C53%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2895232==
==2895232== HEAP SUMMARY:
==2895232==     in use at exit: 100 bytes in 23 blocks
==2895232==   total heap usage: 47 allocs, 24 frees, 1,308 bytes allocated
==2895232==
==2895232== Searching for pointers to 23 not-freed blocks
==2895232== Checked 69,560 bytes
==2895232==
==2895232== 100 bytes in 23 blocks are definitely lost in loss record 1 of 1
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895232==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895232==    by 0x1092F6: main (bug-program.c:70)
==2895232==
==2895232== LEAK SUMMARY:
==2895232==    definitely lost: 100 bytes in 23 blocks
==2895232==    indirectly lost: 0 bytes in 0 blocks
==2895232==      possibly lost: 0 bytes in 0 blocks
==2895232==    still reachable: 0 bytes in 0 blocks
==2895232==[9Csuppressed: 0 bytes in 0 blocks
==2895232==
==2895232== ERROR SUMMARY: 162 errors from 8 contexts (suppressed: 0 from 0)
==2895232==
==2895232== 23 errors in context 1 of 8:
==2895232== Invalid read of size 8
==2895232==    at 0x109355: free_key_values (bug-program.c:43)
==2895232==    by 0x109355: main (bug-program.c:74)
==2895232==  Address 0x4a42e10 is 8 bytes after a block of size 8 free'd
==2895232==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2895232==    by 0x109354: free_key_values (bug-program.c:44)
==2895232==    by 0x109354: main (bug-program.c:74)
==2895232==  Block was alloc'd at
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895232==    by 0x1092D3: main (bug-program.c:70)
==2895232==
==2895232==
==2895232== 23 errors in context 2 of 8:
==2895232== Invalid read of size 8
==2895232==    at 0x109344: main (bug-program.c:71)
==2895232==  Address 0x4a42e10 is 8 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H171,1[9C71%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2895232==  Address 0x4a42e10 is 8 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895232==    by 0x1092D3: main (bug-program.c:70)
==2895232==
==2895232==
==2895232== 23 errors in context 3 of 8:
==2895232== Invalid read of size 1
==2895232==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2895232==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2895232==    by 0x48D6605: printf (printf.c:33)
==2895232==    by 0x109343: main (bug-program.c:72)
==2895232==  Address 0x4a42e58 is 0 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895232==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895232==    by 0x1092F6: main (bug-program.c:70)
==2895232==
==2895232==
==2895232== 23 errors in context 4 of 8:
==2895232== Invalid read of size 4
==2895232==    at 0x109330: main (bug-program.c:72)
==2895232==  Address 0x4a42e08 is 0 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895232==    by 0x1092D3: main (bug-program.c:70)
==2895232==
==2895232==
==2895232== 23 errors in context 5 of 8:
==2895232== Invalid write of size 8
==2895232==    at 0x109315: add_key_value (bug-program.c:33)
==2895232==    by 0x109315: make_key_values (bug-program.c:61)
==2895232==    by 0x109315: main (bug-program.c:70)
==2895232==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895232==    by 0x1092D3: main (bug-program.c:70)
==2895232==
==2895232==
==2895232== 23 errors in context 6 of 8:[44;103H212,1[9C89%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2895232==
==2895232== 23 errors in context 6 of 8:
==2895232== Invalid write of size 4
==2895232==    at 0x109312: add_key_value (bug-program.c:33)
==2895232==    by 0x109312: make_key_values (bug-program.c:61)
==2895232==    by 0x109312: main (bug-program.c:70)
==2895232==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092D3: add_key_value (bug-program.c:21)
==2895232==    by 0x1092D3: make_key_values (bug-program.c:61)
==2895232==    by 0x1092D3: main (bug-program.c:70)
==2895232==
==2895232==
==2895232== 23 errors in context 7 of 8:
==2895232== Invalid write of size 1
==2895232==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==2895232==    by 0x10930E: add_key_value (bug-program.c:30)
==2895232==    by 0x10930E: make_key_values (bug-program.c:61)
==2895232==    by 0x10930E: main (bug-program.c:70)
==2895232==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2895232==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2895232==    by 0x1092F6: add_key_value (bug-program.c:24)
==2895232==    by 0x1092F6: make_key_values (bug-program.c:61)
==2895232==    by 0x1092F6: main (bug-program.c:70)
==2895232==
==2895232== ERROR SUMMARY: 162 errors from 8 contexts (suppressed: 0 from 0)
[94m~                                                                                                                       [28;1H~                                                                                                                       [29;1H~                                                                                                                       [30;1H~                                                                                                                       [31;1H~                                                                                                                       [32;1H~                                                                                                                       [33;1H~                                                                                                                       [34;1H~                                                                                                                       [35;1H~                                                                                                                       [36;1H~                                                                                                                       [37;1H~                                                                                                                       [38;1H~                                                                                                                       [39;1H~                                                                                                                       [40;1H~                                                                                                                       [41;1H~                                                                                                                       [42;1H~                                                                                                                       [43;1H~                                                                                                                       [m[44;103H253,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[20M[1;44r[24;1H[94m~                                                                                                                       [25;1H~                                                                                                                       [26;1H~                                                                                                                       [27;1H~                                                                                                                       [28;1H~                                                                                                                       [29;1H~                                                                                                                       [30;1H~                                                                                                                       [31;1H~                                                                                                                       [32;1H~                                                                                                                       [33;1H~                                                                                                                       [34;1H~                                                                                                                       [35;1H~                                                                                                                       [36;1H~                                                                                                                       [37;1H~                                                                                                                       [38;1H~                                                                                                                       [39;1H~                                                                                                                       [40;1H~                                                                                                                       [41;1H~                                                                                                                       [42;1H~                                                                                                                       [43;1H~                                                                                                                       [m[44;103H[K[44;103H273,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[?25h[?25l[44;93H^[[6;1H[44;93H  [6;1H[44;93H^[[6;1H[44;93H  [6;1H[?25h[?25l[44;93H^[[6;1H[44;93H  [6;1H[44;93H^[[6;1H[44;93H  [6;1H[?25h[?25l[44;93H:[6;1H[44;93H[K[44;1H:[?2004h[?25hq[?25l[?25h![?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[44;1H[K[44;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.valgrind [6Pnano bug-program.c
[?1049h[22;0;0t[1;44r(B[m[4l[?7h[39;49m[?1h=[?1h=[?1h=[?25l[39;49m(B[m[H[2J[42;53H(B[0;7m[ Reading File ](B[m[42;52H(B[0;7m[ Read 76 lines ](B[m[H(B[0;7m  GNU nano 3.2                                         bug-program.c                                                    [1;119H(B[m[43d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[44d(B[0;7m^X(B[m Exit[44;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[42d[3d(B[0;1m[36m#include[39m(B[m (B[0;1m[33m<errno.h>[4d[36m#include[39m(B[m (B[0;1m[33m<stdio.h>[5d[36m#include[39m(B[m (B[0;1m[33m<stdlib.h>[6d[36m#include[39m(B[m (B[0;1m[33m<string.h>[8d[34m/** A struct used to form a linear chain of key-value pairs. */[9d(B[0m[32mstruct[39m(B[m KeyValue {[10;3H[32mconst[39m(B[m [32mchar[39m(B[m *key;[26G(B[0;1m[34m/** string key */[11;3H(B[0m[32mint[39m(B[m value;[11;26H(B[0;1m[34m/** integer value */[12;3H(B[0m[32mstruct[39m(B[m KeyValue *succ; (B[0;1m[34m/** next key-value in chain */[13d[39m(B[m};[15d(B[0;1m[34m/** Given some chain keyValues of key-value struct's, add the[16d *  key-value (k, v) at head of chain keyValues and return the[17d *  resulting chain.[18d */[19d(B[0m[32mstatic[39m(B[m [32mstruct[39m(B[m KeyValue *[20dadd_key_value([32mstruct[39m(B[m KeyValue *keyValues, [32mconst[39m(B[m [32mchar[39m(B[m *k, [32mint[39m(B[m v)[21d{[22d (B[0;1m[34m//allocate storage for new KeyValue struct[23;3H(B[0m[32mstruct[39m(B[m KeyValue *kv = malloc([32msizeof[39m(B[m([32mstruct[39m(B[m KeyValue *));[25;3H(B[0;1m[34m//allocate storage for string pointed to by k[26;3H(B[0m[32mchar[39m(B[m *s = malloc(strlen(k));[28;3H(B[0;1m[33mif[39m(B[m (kv == (B[0;1m[31mNULL[39m(B[m || s == (B[0;1m[31mNULL[39m(B[m) { (B[0;1m[34m//check if allocations succeeded[29;5H[39m(B[mfprintf(stderr, (B[0;1m[33m"malloc failure: %s\n"[39m(B[m, strerror(errno));[30;5Hexit(1);[31;3H}[32dstrcpy(s, k);  (B[0;1m[34m//copy string k into newly allocated memory pointed to by s[34;3H//initialize fields of *kv.[35;3H[39m(B[mkv->key = s; kv->value = v; kv->succ = keyValues;[37;3H[35mreturn[39m(B[m kv;[38d}[40d(B[0;1m[34m/** Free all the key-value's in keyValues. */[41d(B[0m[32mstatic[39m(B[m [32mvoid[3d[39m(B[m[?12l[?25h[?25l[42d[J[44;120H[?12l[?25h[44;1H[?1049l[23;0;0t[?1l>]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi big[K[Kug-pe[Krogram.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;44r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[44;1H"bug-program.c" 76L, 2199C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s; kv->value = v; kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//go thru chain of keyValues[m
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;103H1,1[11CTop[1;1H[?25h[?25l[44;93H/[1;1H[44;1H[K[44;1H/[?2004h[?25hl[?25l[1;5H[7m[35ml[m[44;103H1,5[11CTop[44;103H[K[44;3H[?25hi[?25l[1;5H[35ml[m[3;14H[7m[31mli[m[44;103H3,14[10CTop[44;103H[K[44;4H[?25hn[?25l[3;14H[31mli[m[6;29H[7m[34mlin[m[44;103H6,29[10CTop[44;103H[K[44;5H[?25he[?25l[6;32H[7m[34me[m[44;103H6,29[10CTop[44;103H[K[44;6H[?25hn[?25l[6;29H[34mline[m[44;103H1,1[11CTop[44;103H[K[44;7H[?25hu[?25l[95C1,1[11CTop[44;103H[K[44;8H[?25hm[?25l[94C1,1[11CTop[44;103H[K[44;9H[?25hb[?25l[93C1,1[11CTop[44;103H[K[44;10H[?25he[?25l[92C1,1[11CTop[44;103H[K[44;11H[?25hr[?25l[91C1,1[11CTop[44;103H[K[44;12H[?25h[?25l[44;11H[K[44;103H1,1[11CTop[44;103H[K[44;11H[?25h[?25l[44;10H[K[44;103H1,1[11CTop[44;103H[K[44;10H[?25h[?25l[44;9H[K[44;103H1,1[11CTop[44;103H[K[44;9H[?25h[?25l[44;8H[K[44;103H1,1[11CTop[44;103H[K[44;8H[?25h[?25l[44;7H[K[44;103H1,1[11CTop[44;103H[K[44;7H[?25h[?25l[44;6H[K[6;29H[7m[34mline[m[44;103H6,29[10CTop[44;103H[K[44;6H[?25h[?25l[44;5H[K[6;32H[34me[m[44;103H6,29[10CTop[44;103H[K[44;5H[?25h[?25l[44;4H[K[3;14H[7m[31mli[m[6;29H[34mlin[m[44;103H3,14[10CTop[44;103H[K[44;4H[?25h[?25l[44;3H[K[1;5H[7m[35ml[m[3;14H[31mli[m[44;103H1,5[11CTop[44;103H[K[44;3H[?25h[?25l[44;2H[K[1;5H[35ml[m[44;103H1,1[11CTop[44;103H[K[44;2H[?25h [?25l[1;1H[44;103H1,1[11CTop[1;1H[?25h[?25l[44;93H~@k[1;1H[44;93H   [1;1H[?25h[?25l[44;93H~@k[1;1H[44;93H   [1;1H[?25h[?25l[44;93H~@k[1;1H[44;93H   [1;1H[?25h[?25l[44;93H~@k[1;1H[44;93H   [1;1H[?25h[?25l[44;93H:[1;1H[44;93H[K[44;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hl[?25l[?25hi[?25l[?25hn[?25l[?25he[?25l[?25hu[?25l[?25h[?25l[44;10H[K[44;10H[?25hn[?25l[?25hu[?25l[?25hm[?25l[?25he[?25l[?25h[?25l[44;13H[K[44;13H[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l [?25ho[?25l[?25hn[?25l[?25h[?25l[97m[41mE518: Unknown option: linenumber [1;1H[m[44;103H1,1[11CTop[1;1H[?25h[?25l[44;93H:[1;1H[44;1H[K[44;1H:[?2004h[?25hs[?25l[?25ht[?25l[?25he[?25l[?25h[?25l [?25hn[?25l[?25h[?25l[44;6H[K[44;6H[?25h[?25l[?25h[?25l[44;4H[K[44;4H[?25h[?25l[44;3H[K[44;3H[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[1;5H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m
[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m
[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;       [34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[9C    [34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;
[38;5;130m 34 
 35 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 36 [m}
[38;5;130m 37 
 38 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 39 [m[32mstatic[m [32mvoid[m
[38;5;130m 40 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 41 [m{
[38;5;130m 42 [m  [34m//go thru chain of keyValues[m
[38;5;130m 43 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;103H1,1[11CTop[1;5H[?25h[?25l[44;93H^[[1;5H[44;93H  [1;5H[44;93H^[[1;5H[44;93H  [1;5H[?25h[?25l[44;93H:[1;5H[44;1H[K[44;1H:[?2004h[?25hw[?25l[?25h[?25l"bug-program.c" 76L, 2199C written[1;5H[44;103H1,1[11CTop[44;103H[K[44;103H1,1[11CTop[1;5H[?25h[?25l[44;93H~@k[1;5H[44;93H   [2;5H[44;103H2[2;5H[?25h[?25l[44;93H~@k[2;5H[44;93H   [3;5H[44;103H3[3;5H[?25h[?25l[44;93H~@k[3;5H[44;93H   [4;5H[44;103H4[4;5H[?25h[?25l[44;93H~@k[4;5H[44;93H   [5;5H[44;103H5,0-1[5;5H[?25h[?25l[44;93H~@k[5;5H[44;93H   [6;5H[44;103H6,1  [6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [7;5H[44;103H7[7;5H[?25h[?25l[44;93H~@k[7;5H[44;93H   [8;5H[44;103H8[8;5H[?25h[?25l[44;93H~@k[8;5H[44;93H   [9;5H[44;103H9[9;5H[?25h[?25l[44;93H~@k[9;5H[44;93H   [10;5H[44;103H10,1[10;5H[?25h[?25l[44;93H~@k[10;5H[44;93H   [11;5H[7;21H[106m{[11;5H}[m[44;104H1[11;5H[?25h[?25l[44;93H~@k[11;5H[44;93H   [12;5H[7;21H{[11;5H}[44;104H2,0-1[12;5H[?25h[?25l[44;93H~@k[12;5H[44;93H   [13;5H[44;104H3,1  [13;5H[?25h[?25l[44;93H~@k[13;5H[44;93H   [14;5H[44;104H4[14;5H[?25h[?25l[44;93H~@k[14;5H[44;93H   [15;5H[44;104H5[15;5H[?25h[?25l[44;93H~@k[15;5H[44;93H   [16;5H[44;104H6[16;5H[?25h[?25l[44;93H~@k[16;5H[44;93H   [17;5H[44;104H7[17;5H[?25h[?25l[44;93H~@k[17;5H[44;93H   [18;5H[44;104H8[18;5H[?25h[?25l[44;93H~@k[18;5H[44;93H   [19;5H[106m{[36;5H}[m[44;104H9[19;5H[?25h[?25l[44;93H~@k[19;5H[44;93H   [20;5H[19;5H{[36;5H}[44;103H20[20;5H[?25h[?25l[44;93H~@k[20;5H[44;93H   [21;5H[44;104H1[21;5H[?25h[?25l[44;93H~@k[21;5H[44;93H   [22;5H[44;104H2,0-1[22;5H[?25h[?25l[44;93H~@k[22;5H[44;93H   [23;5H[44;104H3,1  [23;5H[?25h[?25l[44;93H~@k[23;5H[44;93H   [24;5H[44;104H4[24;5H[?25h[?25l[44;93H~@k[24;5H[44;93H   [25;5H[44;104H5,0-1[25;5H[?25h[?25l[44;93H~@k[25;5H[44;93H   [26;5H[44;104H6,1  [26;5H[?25h[?25l[44;93H~@k[26;5H[44;93H   [27;5H[44;104H7[27;5H[?25h[?25l[44;93H~@k[27;5H[44;93H   [28;5H[44;104H8[28;5H[?25h[?25l[44;93H~@k[28;5H[44;93H   [29;5H[44;104H9[29;5H[?25h[?25l[44;93H~@k[29;5H[44;93H   [30;5H[44;103H30[30;5H[?25h[?25l[44;93H~@k[30;5H[44;93H   [31;5H[44;104H1,0-1[31;5H[?25h[?25l[44;93H~@k[31;5H[44;93H   [30;5H[44;104H0,1  [30;5H[?25h[?25l[44;93H~@k[30;5H[44;93H   [29;5H[44;103H29[29;5H[?25h[?25l[44;93H~@k[29;5H[44;93H   [28;5H[44;104H8[28;5H[?25h[?25l[44;93H~@k[28;5H[44;93H   [27;5H[44;104H7[27;5H[?25h[?25l[44;93H~@k[27;5H[44;93H   [26;5H[44;104H6[26;5H[?25h[?25l[44;93H~@k[26;5H[44;93H   [25;5H[44;104H5,0-1[25;5H[?25h[?25l[44;93H~@k[25;5H[44;93H   [24;5H[44;104H4,1  [24;5H[?25h[?25l[44;93H~@k[24;5H[44;93H   [23;5H[44;104H3[23;5H[?25h[?25l[44;93H~@k[23;5H[44;93H   [22;5H[44;104H2,0-1[22;5H[?25h[?25l[44;93H~@k[22;5H[44;93H   [21;5H[44;104H1,1  [21;5H[?25h[?25l[44;93H~@k[21;5H[44;93H   [20;5H[44;104H0[20;5H[?25h[?25l[44;93H~@k[20;5H[44;93H   [19;5H[106m{[36;5H}[m[44;103H19[19;5H[?25h[?25l[44;93H~@k[19;5H[44;93H   [18;5H[19;5H{[36;5H}[44;104H8[18;5H[?25h[?25l[44;93H~@k[18;5H[44;93H   [17;5H[44;104H7[17;5H[?25h[?25l[44;93H~@k[17;5H[44;93H   [18;5H[44;104H8[18;5H[?25h[?25l[44;93H~@k[18;5H[44;93H   [19;5H[106m{[36;5H}[m[44;104H9[19;5H[?25h[?25l[44;93H~@k[19;5H[44;93H   [20;5H[19;5H{[36;5H}[44;103H20[20;5H[?25h[?25l[44;93H~@k[20;5H[44;93H   [21;5H[44;104H1[21;5H[?25h[?25l[44;93H~@k[21;5H[44;93H   [22;5H[44;104H2,0-1[22;5H[?25h[?25l[44;93H~@k[22;5H[44;93H   [23;5H[44;104H3,1  [23;5H[?25h[?25l[44;93H~@k[23;5H[44;93H   [24;5H[44;104H4[24;5H[?25h[?25l[44;93H~@k[24;5H[44;93H   [25;5H[44;104H5,0-1[25;5H[?25h[?25l[44;93H~@k[25;5H[44;93H   [26;5H[44;104H6,1  [26;5H[?25h[?25l[44;93H~@k[26;5H[44;93H   [27;5H[44;104H7[27;5H[?25h[?25l[44;93H~@k[27;5H[44;93H   [28;5H[44;104H8[28;5H[?25h[?25l[44;93H~@k[28;5H[44;93H   [29;5H[44;104H9[29;5H[?25h[?25l[44;93H~@k[29;5H[44;93H   [30;5H[44;103H30[30;5H[?25h[?25l[44;93H~@k[30;5H[44;93H   [31;5H[44;104H1,0-1[31;5H[?25h[?25l[44;93H~@k[31;5H[44;93H   [32;5H[44;104H2,1  [32;5H[?25h[?25l[44;93H~@k[32;5H[44;93H   [33;5H[44;104H3[33;5H[?25h[?25l[44;93H~@k[33;5H[44;93H   [34;5H[44;104H4,0-1[34;5H[?25h[?25l[44;93H~@k[34;5H[44;93H   [35;5H[44;104H5,1  [35;5H[?25h[?25l[44;93H~@k[35;5H[44;93H   [36;5H[19;5H[106m{[36;5H}[m[44;104H6[36;5H[?25h[?25l[44;93H~@k[36;5H[44;93H   [37;5H[19;5H{[36;5H}[44;104H7,0-1[37;5H[?25h[?25l[44;93H~@k[37;5H[44;93H   [38;5H[44;104H8,1  [38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 44 [m    free(p); [34m//free KeyValue struct[m[44;1H[K[44;103H39,1[11C3%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 45 [m  }[44;103H[K[44;103H40,1[11C6%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[38;5H[106m{[m[43;1H[38;5;130m 46 [m[106m}[m[44;103H[K[44;103H41,1[11C9%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[37;5H{[42;5H}
[38;5;130m 47 [m[44;103H[K[44;103H42,1[10C12%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 48 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m[44;103H[K[44;103H43,1[10C15%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 49 [m[34m *  Jabberwocky with value being the index of the word.[m[44;103H[K[44;103H44,1[10C18%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 50 [m[34m */[m[44;103H[K[44;103H45,1[10C21%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[33;5H[106m{[38;5H}[m[43;1H[38;5;130m 51 [m[32mstatic[m [32mstruct[m KeyValue *[44;103H[K[44;103H46,1[10C24%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[32;5H{[37;5H}[43;1H[38;5;130m 52 [mmake_key_values([32mvoid[m) {[44;103H[K[44;103H47,0-1[8C27%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 53 [m  [32mconst[m [32mchar[m *keys[] = {[44;103H[K[44;103H48,1[10C30%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 54 [m    [31m"twas"[m, [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[44;103H[K[44;103H49,1[10C33%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 55 [m    [31m"did"[m, [31m"gyre"[m, [31m"and"[m, [31m"gimble"[m, [31m"in"[m, [31m"the"[m, [31m"wabe"[m,[44;103H[K[44;103H50,1[10C36%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 56 [m    [31m"all"[m, [31m"mimsy"[m, [31m"were"[m, [31m"the"[m, [31m"borogoves"[m,[44;103H[K[44;103H51,1[10C39%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 57 [m    [31m"and"[m, [31m"the"[m, [31m"mome"[m, [31m"raths"[m, [31m"outgrabe"[m,[44;103H[K[44;103H52,1[10C42%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 58 [m  };[44;103H[K[44;103H53,1[10C45%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 59 [m  [32mstruct[m KeyValue *p = [31mNULL[m;[44;103H[K[44;103H54,1[10C48%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 60 [m  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[44;103H[K[44;103H55,1[10C51%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 61 [m    p = add_key_value(p, keys[i], i);[44;103H[K[44;103H56,1[10C54%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 62 [m  }[44;103H[K[44;103H57,1[10C57%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 63 [m  [38;5;130mreturn[m p;[44;103H[K[44;103H58,1[10C60%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 64 [m}[44;103H[K[44;103H59,1[10C63%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 65 [m[44;103H[K[44;103H60,1[10C66%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 66 [m[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m[44;103H[K[44;103H61,1[10C69%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 67 [m[34m *  paired with their index in the verse.[m[44;103H[K[44;103H62,1[10C72%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 68 [m[34m */[m[44;103H[K[44;103H63,1[10C75%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[26;27H[106m{[38;5H}[m[43;1H[38;5;130m 69 [m[32mint[m main() {[44;103H[K[44;103H64,1[10C78%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[25;27H{[37;5H}[43;1H[38;5;130m 70 [m  [32mstruct[m KeyValue *keyValues = make_key_values();[44;103H[K[44;103H65,0-1[8C81%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 71 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;103H[K[44;103H66,1[10C84%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 72 [m    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[44;103H[K[44;103H67,1[10C87%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 73 [m  }[44;103H[K[44;103H68,1[10C90%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 74 [m  free_key_values(keyValues);[44;103H[K[44;103H69,1[10C93%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 75 [m  [38;5;130mreturn[m [31m0[m;[44;103H[K[44;103H70,1[10C96%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 76 [m}[44;103H[K[44;103H71,1[10CBot[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [39;5H[44;104H2[39;5H[?25h[?25l[44;93H~@k[39;5H[44;93H   [40;5H[44;104H3[40;5H[?25h[?25l[44;93H~@k[40;5H[44;93H   [41;5H[44;104H4[41;5H[?25h[?25l[44;93H~@k[41;5H[44;93H   [42;5H[44;104H5[42;5H[?25h[?25l[44;93H~@k[42;5H[44;93H   [43;5H[36;16H[106m{[43;5H}[m[44;104H6[43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [43;5H[?25h[?25l[44;93H~@k[43;5H[44;93H   [42;5H[36;16H{[43;5H}[44;104H5[42;5H[?25h[?25l[44;93H~@k[42;5H[44;93H   [41;5H[44;104H4[41;5H[?25h[?25l[44;93H~@k[41;5H[44;93H   [40;5H[44;104H3[40;5H[?25h[?25l[44;93H~@k[40;5H[44;93H   [39;5H[44;104H2[39;5H[?25h[?25l[44;93H~@k[39;5H[44;93H   [38;5H[44;104H1[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [37;5H[44;104H0[37;5H[?25h[?25l[44;93H~@k[37;5H[44;93H   [36;5H[44;103H69[36;5H[?25h[?25l[44;93H~@k[36;5H[44;93H   [35;5H[44;104H8[35;5H[?25h[?25l[44;93H~@k[35;5H[44;93H   [34;5H[44;104H7[34;5H[?25h[?25l[44;93H~@k[34;5H[44;93H   [33;5H[44;104H6[33;5H[?25h[?25l[44;93H~@k[33;5H[44;93H   [32;5H[44;104H5,0-1[32;5H[?25h[?25l[44;93H~@k[32;5H[44;93H   [31;5H[19;27H[106m{[31;5H}[m[44;104H4,1  [31;5H[?25h[?25l[44;93H~@k[31;5H[44;93H   [30;5H[19;27H{[31;5H}[44;104H3[30;5H[?25h[?25l[44;93H~@k[30;5H[44;93H   [29;5H[44;104H2[29;5H[?25h[?25l[44;93H~@k[29;5H[44;93H   [28;5H[44;104H1[28;5H[?25h[?25l[44;93H~@k[28;5H[44;93H   [27;5H[44;104H0[27;5H[?25h[?25l[44;93H~@k[27;5H[44;93H   [26;5H[44;103H59[26;5H[?25h[?25l[44;93H~@k[26;5H[44;93H   [25;5H[44;104H8[25;5H[?25h[?25l[44;93H~@k[25;5H[44;93H   [24;5H[44;104H7[24;5H[?25h[?25l[44;93H~@k[24;5H[44;93H   [23;5H[44;104H6[23;5H[?25h[?25l[44;93H~@k[23;5H[44;93H   [22;5H[44;104H5[22;5H[?25h[?25l[44;93H~@k[22;5H[44;93H   [21;5H[44;104H4[21;5H[?25h[?25l[44;93H~@k[21;5H[44;93H   [20;5H[44;104H3[20;5H[?25h[?25l[44;93H~@k[20;5H[44;93H   [19;5H[44;104H2[19;5H[?25h[?25l[44;93H~@k[19;5H[44;93H   [18;5H[44;104H1[18;5H[?25h[?25l[44;93H~@k[18;5H[44;93H   [17;5H[44;104H0[17;5H[?25h[?25l[44;93H~@k[17;5H[44;93H   [16;5H[44;103H49[16;5H[?25h[?25l[44;93H~@k[16;5H[44;93H   [15;5H[44;104H8[15;5H[?25h[?25l[44;93H~@k[15;5H[44;93H   [14;5H[44;104H7,0-1[14;5H[?25h[?25l[44;93H~@k[14;5H[44;93H   [13;5H[8;5H[106m{[13;5H}[m[44;104H6,1  [13;5H[?25h[?25l[44;93H~@k[13;5H[44;93H   [12;5H[8;5H{[13;5H}[44;104H5[12;5H[?25h[?25l[44;93H~@k[12;5H[44;93H   [11;5H[44;104H4[11;5H[?25h[?25l[44;93H~@k[11;5H[44;93H   [10;5H[44;104H3[10;5H[?25h[?25l[44;93H~@k[10;5H[44;93H   [9;5H[44;104H2[9;5H[?25h[?25l[44;93H~@k[9;5H[44;93H   [8;5H[106m{[13;5H}[m[44;104H1[8;5H[?25h[?25l[44;93H~@k[8;5H[44;93H   [7;5H[8;5H{[13;5H}[44;104H0[7;5H[?25h[?25l[44;93H~@k[7;5H[44;93H   [6;5H[44;103H39[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;[44;103H[K[44;103H38,1[10C96%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 32 [m  [34m//initialize fields of *kv.[m[44;103H[K[44;103H37,0-1[8C93%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 31 [m[44;103H[K[44;103H36,1[10C90%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m[44;103H[K[44;103H35,1[10C87%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 29 [m  }[44;103H[K[44;103H34,0-1[8C84%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 28 [m    exit([31m1[m);[44;103H[K[44;103H33,1[10C81%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));[44;103H[K[44;103H32,1[10C78%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m[44;103H[K[44;103H31,0-1[8C75%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 25 [m[44;103H[K[44;103H30,1[10C72%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));[44;103H[K[44;103H29,1[10C69%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 23 [m  [34m//allocate storage for string pointed to by k[m[44;103H[K[44;103H28,1[10C66%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 22 [m[44;103H[K[44;103H27,1[10C63%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));[44;103H[K[44;103H26,1[10C60%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m[44;103H[K[44;103H25,0-1[8C57%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 19 [m{[44;103H[K[44;103H24,1[10C54%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)[44;103H[K[44;103H23,1[10C51%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *[44;103H[K[44;103H22,0-1[8C48%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 16 [m[34m */[m[44;103H[K[44;103H21,1[10C45%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 15 [m[34m *  resulting chain.[m[44;103H[K[44;103H20,1[10C42%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m[6;5H[106m{[23;5H}[m[44;103H[K[44;103H19,1[10C39%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m[7;5H{[24;5H}[44;103H[K[44;103H18,1[10C36%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 12 [m[44;103H[K[44;103H17,1[10C33%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 11 [m};[44;103H[K[44;103H16,1[10C30%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m[44;103H[K[44;103H15,1[10C27%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  9 [m  [32mint[m value;[13C[34m/** integer value */[m[44;103H[K[44;103H14,1[10C24%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m[44;103H[K[44;103H13,1[10C21%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  7 [m[32mstruct[m KeyValue {[44;103H[K[44;103H12,0-1[8C18%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m[2;21H[106m{[6;5H}[m[44;103H[K[44;103H11,1[10C15%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  5 [m[3;21H{[7;5H}[44;103H[K[44;103H10,1[10C12%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  4 [m[35m#include [m[31m<string.h>[m[44;103H[K[44;103H9,1[12C9%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m[44;103H[K[44;103H8,1[12C6%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m[44;103H[K[44;103H7,1[12C3%[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [6;5H[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m[44;103H[K[44;103H6,1[11CTop[6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [5;5H[44;103H5,0-1[5;5H[?25h[?25l[44;93H~@k[5;5H[44;93H   [6;5H[44;103H6,1  [6;5H[?25h[?25l[44;93H~@k[6;5H[44;93H   [7;5H[44;103H7[7;5H[?25h[?25l[44;93H~@k[7;5H[44;93H   [8;5H[44;103H8[8;5H[?25h[?25l[44;93H~@k[8;5H[44;93H   [9;5H[44;103H9[9;5H[?25h[?25l[44;93H~@k[9;5H[44;93H   [10;5H[44;103H10,1[10;5H[?25h[?25l[44;93H~@k[10;5H[44;93H   [11;5H[7;21H[106m{[11;5H}[m[44;104H1[11;5H[?25h[?25l[44;93H~@k[11;5H[44;93H   [12;5H[7;21H{[11;5H}[44;104H2,0-1[12;5H[?25h[?25l[44;93H~@k[12;5H[44;93H   [13;5H[44;104H3,1  [13;5H[?25h[?25l[44;93H~@k[13;5H[44;93H   [14;5H[44;104H4[14;5H[?25h[?25l[44;93H~@k[14;5H[44;93H   [15;5H[44;104H5[15;5H[?25h[?25l[44;93H~@k[15;5H[44;93H   [16;5H[44;104H6[16;5H[?25h[?25l[44;93H~@k[16;5H[44;93H   [17;5H[44;104H7[17;5H[?25h[?25l[44;93H~@k[17;5H[44;93H   [18;5H[44;104H8[18;5H[?25h[?25l[44;93H~@k[18;5H[44;93H   [19;5H[106m{[36;5H}[m[44;104H9[19;5H[?25h[?25l[44;93H~@k[19;5H[44;93H   [20;5H[19;5H{[36;5H}[44;103H20[20;5H[?25h[?25l[44;93H~@k[20;5H[44;93H   [21;5H[44;104H1[21;5H[?25h[?25l[44;93H~@k[21;5H[44;93H   [22;5H[44;104H2,0-1[22;5H[?25h[?25l[44;93H~@k[22;5H[44;93H   [23;5H[44;104H3,1  [23;5H[?25h[?25l[44;93H~@k[23;5H[44;93H   [24;5H[44;104H4[24;5H[?25h[?25l[44;93H~@k[24;5H[44;93H   [25;5H[44;104H5,0-1[25;5H[?25h[?25l[44;93H~@k[25;5H[44;93H   [26;5H[44;104H6,1  [26;5H[?25h[?25l[44;93H~@k[26;5H[44;93H   [27;5H[44;104H7[27;5H[?25h[?25l[44;93H~@k[27;5H[44;93H   [28;5H[44;104H8[28;5H[?25h[?25l[44;93H~@k[28;5H[44;93H   [29;5H[44;104H9[29;5H[?25h[?25l[44;93H~@k[29;5H[44;93H   [30;5H[44;103H30[30;5H[?25h[?25l[44;93H~@k[30;5H[44;93H   [31;5H[44;104H1,0-1[31;5H[?25h[?25l[44;93H~@k[31;5H[44;93H   [32;5H[44;104H2,1  [32;5H[?25h[?25l[44;93H~@k[32;5H[44;93H   [33;5H[44;104H3[33;5H[?25h[?25l[44;93H~@k[33;5H[44;93H   [34;5H[44;104H4,0-1[34;5H[?25h[?25l[44;93H~@k[34;5H[44;93H   [35;5H[44;104H5,1  [35;5H[?25h[?25l[44;93H~@k[35;5H[44;93H   [36;5H[19;5H[106m{[36;5H}[m[44;104H6[36;5H[?25h[?25l[44;93H~@k[36;5H[44;93H   [37;5H[19;5H{[36;5H}[44;104H7,0-1[37;5H[?25h[?25l[44;93H~@k[37;5H[44;93H   [38;5H[44;104H8,1  [38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 44 [m    free(p); [34m//free KeyValue struct[m[44;103H[K[44;103H39,1[11C3%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 45 [m  }[44;103H[K[44;103H40,1[11C6%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[38;5H[106m{[m[43;1H[38;5;130m 46 [m[106m}[m[44;103H[K[44;103H41,1[11C9%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[37;5H{[42;5H}
[38;5;130m 47 [m[44;103H[K[44;103H42,1[10C12%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 48 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m[44;103H[K[44;103H43,1[10C15%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 49 [m[34m *  Jabberwocky with value being the index of the word.[m[44;103H[K[44;103H44,1[10C18%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 50 [m[34m */[m[44;103H[K[44;103H45,1[10C21%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[33;5H[106m{[38;5H}[m[43;1H[38;5;130m 51 [m[32mstatic[m [32mstruct[m KeyValue *[44;103H[K[44;103H46,1[10C24%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[32;5H{[37;5H}[43;1H[38;5;130m 52 [mmake_key_values([32mvoid[m) {[44;103H[K[44;103H47,0-1[8C27%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 53 [m  [32mconst[m [32mchar[m *keys[] = {[44;103H[K[44;103H48,1[10C30%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 54 [m    [31m"twas"[m, [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[44;103H[K[44;103H49,1[10C33%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 55 [m    [31m"did"[m, [31m"gyre"[m, [31m"and"[m, [31m"gimble"[m, [31m"in"[m, [31m"the"[m, [31m"wabe"[m,[44;103H[K[44;103H50,1[10C36%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 56 [m    [31m"all"[m, [31m"mimsy"[m, [31m"were"[m, [31m"the"[m, [31m"borogoves"[m,[44;103H[K[44;103H51,1[10C39%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 57 [m    [31m"and"[m, [31m"the"[m, [31m"mome"[m, [31m"raths"[m, [31m"outgrabe"[m,[44;103H[K[44;103H52,1[10C42%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 58 [m  };[44;103H[K[44;103H53,1[10C45%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 59 [m  [32mstruct[m KeyValue *p = [31mNULL[m;[44;103H[K[44;103H54,1[10C48%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 60 [m  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[44;103H[K[44;103H55,1[10C51%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 61 [m    p = add_key_value(p, keys[i], i);[44;103H[K[44;103H56,1[10C54%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 62 [m  }[44;103H[K[44;103H57,1[10C57%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 63 [m  [38;5;130mreturn[m p;[44;103H[K[44;103H58,1[10C60%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 64 [m}[44;103H[K[44;103H59,1[10C63%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 65 [m[44;103H[K[44;103H60,1[10C66%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 66 [m[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m[44;103H[K[44;103H61,1[10C69%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 67 [m[34m *  paired with their index in the verse.[m[44;103H[K[44;103H62,1[10C72%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 68 [m[34m */[m[44;103H[K[44;103H63,1[10C75%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[26;27H[106m{[38;5H}[m[43;1H[38;5;130m 69 [m[32mint[m main() {[44;103H[K[44;103H64,1[10C78%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[25;27H{[37;5H}[43;1H[38;5;130m 70 [m  [32mstruct[m KeyValue *keyValues = make_key_values();[44;103H[K[44;103H65,0-1[8C81%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 71 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;103H[K[44;103H66,1[10C84%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 72 [m    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[44;103H[K[44;103H67,1[10C87%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 73 [m  }[44;103H[K[44;103H68,1[10C90%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 74 [m  free_key_values(keyValues);[44;103H[K[44;103H69,1[10C93%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [38;5H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 75 [m  [38;5;130mreturn[m [31m0[m;[44;103H[K[44;103H70,1[10C96%[38;5H[?25h[?25l[44;93H~@k[38;5H[44;93H   [37;5H[44;103H69[37;5H[?25h[?25l[44;93H~@k[37;5H[44;93H   [36;5H[44;104H8[36;5H[?25h[?25l[44;93H~@k[36;5H[44;93H   [35;5H[44;104H7[35;5H[?25h[?25l[44;93H~@k[35;5H[44;93H   [34;5H[44;104H6[34;5H[?25h[?25l[44;93H~@k[34;5H[44;93H   [33;5H[44;104H5,0-1[33;5H[?25h[?25l[44;93H~@k[33;5H[44;93H   [32;5H[20;27H[106m{[32;5H}[m[44;104H4,1  [32;5H[?25h[?25l[44;93H~@k[32;5H[44;93H   [31;5H[20;27H{[32;5H}[44;104H3[31;5H[?25h[?25l[44;93H~@k[31;5H[44;93H   [30;5H[44;104H2[30;5H[?25h[?25l[44;93H~@k[30;5H[44;93H   [29;5H[44;104H1[29;5H[?25h[?25l[44;93H~@k[29;5H[44;93H   [28;5H[44;104H0[28;5H[?25h[?25l[44;93H~@k[28;5H[44;93H   [27;5H[44;103H59[27;5H[?25h[?25l[44;93H~@k[27;5H[44;93H   [26;5H[44;104H8[26;5H[?25h[?25l[44;93H~@k[26;5H[44;93H   [25;5H[44;104H7[25;5H[?25h[?25l[44;93H~@k[25;5H[44;93H   [24;5H[44;104H6[24;5H[?25h[?25l[44;93H~@k[24;5H[44;93H   [23;5H[44;104H5[23;5H[?25h[?25l[44;93H~@k[23;5H[44;93H   [22;5H[44;104H4[22;5H[?25h[?25l[44;93H~@k[22;5H[44;93H   [23;5H[44;104H5[23;5H[?25h[?25l[44;93H\[23;5H[44;93H [23;5H[?25h[?25l[44;93H\[23;5H[44;93H [23;5H[?25h[?25l[44;93Hi[23;5H[44;93H [23;5H[44;1H[1m-- INSERT --[m[44;103H[K[44;103H55,1[10C96%[23;5H[?25h[?25l/    [31m"did"[m, [31m"gyre"[m, [31m"and"[m, [31m"gimble"[m, [31m"in"[m, [31m"the"[m, [31m"wabe"[m,[44;106H2[23;6H[?25h[?25l[34m//    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[44;106H3[23;7H[?25h[?25l[44;104H6[24;7H[?25h[?25l[44;106H2[24;6H[?25h[?25l  [31m"all"[m, [31m"mimsy"[m, [31m"were"[m, [31m"the"[m, [31m"borogoves"[m,[24;51H[K[44;106H1[24;5H[?25h[?25l    [31m"all"[m, [31m"mimsy"[m, [31m"were"[m, [31m"the"[m, [31m"borogoves"[m,[44;106H2[24;6H[?25h[?25l[44;104H5[23;6H[?25h[?25l/    [31m"did"[m, [31m"gyre"[m, [31m"and"[m, [31m"gimble"[m, [31m"in"[m, [31m"the"[m, [31m"wabe"[m,[23;62H[K[44;106H1[23;5H[?25h[?25l    [31m"did"[m, [31m"gyre"[m, [31m"and"[m, [31m"gimble"[m, [31m"in"[m, [31m"the"[m, [31m"wabe"[m,[23;61H[K[23;5H[?25h[?25l[44;104H4[22;5H[?25h[?25l[44;106H2[22;6H[?25h[?25l[44;106H3[22;7H[?25h[?25l[44;106H4[22;8H[?25h[?25l[44;106H5[22;9H[?25h[?25l[44;106H6[22;10H[?25h[?25l[44;106H7[22;11H[?25h[?25l[44;106H8[22;12H[?25h[?25l[44;106H9[22;13H[?25h[?25l[44;106H10[22;14H[?25h[?25l[44;107H1[22;15H[?25h[?25l[44;107H2[22;16H[?25h[?25l} [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[21;28H[106m{[22;16H}[m[44;107H3[22;17H[?25h[?25l; [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[21;28H{[22;16H}[44;107H4[22;18H[?25h[?25l\ [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[44;107H5[22;19H[?25h[?25l* [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[44;107H6[22;20H[?25h[?25l [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[22;63H[K[44;107H5[22;19H[?25h[?25l [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[22;62H[K[44;107H4[22;18H[?25h[?25l/ [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[44;107H5[22;19H[?25h[?25l[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[23;5H    [5C, [6C, [5C, [8C, [4C, [5C, [6C,[24;5H    [5C, [7C, [6C, [5C, [11C,[25;5H    [5C, [5C, [6C, [7C, [10C,[26;5H  };[27;5H  struct KeyValue *p = NULL;[28;5H  for (int i = [1C; i < sizeof(keys)/sizeof(keys[[1C]); i++) {[29;5H    p = add_key_value(p, keys[i], i);[30;5H  }[31;5H  return p;[32;5H}[m[34;5H[97m[101m/[m[44;107H6[22;20H[?25h[?25l[44;104H5[23;20H[?25h[?25l[44;104H6[24;20H[?25h[?25l[44;104H7[25;20H[?25h[?25l[44;104H8,5 [26;9H[?25h[?25l[34m*[m[44;106H6[26;10H[?25h[?25l[34m/[m[27;5H  [32mstruct[m KeyValue *p = [31mNULL[m;[28;5H  [38;5;130mfor[m ([32mint[m i = [1C; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[1C]); i++) {[29;5H    p = add_key_value(p, keys[i], i);[30;5H  }[31;5H  [38;5;130mreturn[m p;[32;5H}[34;5H[34m/[m[44;106H7[26;11H[?25h[44;1H[K[26;10H[?25l[44;93H^[[26;10H[44;93H  [26;11H[44;103H58,6[10C96%[26;10H[?25h[?25l[44;93H:[26;10H[44;93H[K[44;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 76L, 2205C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.c[2@nano[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi bug-program.valgrind [6Pnano bug-program.cvalgrind valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[39Pnano bug-program.valgrind valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ci bug-program.c[K[2@nano[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi bug-program.valgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;44r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[44;1H"bug-program.valgrind" 273L, 16568C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897619==    by 0x1092D3: add_key_value (bug-program.c:21)
==2897619==    by 0x1092D3: make_key_values (bug-program.c:61)
==2897619==    by 0x1092D3: main (bug-program.c:70)
==2897619==
==2897619==
==2897619== 23 errors in context 5 of 8:
==2897619== Invalid write of size 8
==2897619==    at 0x109315: add_key_value (bug-program.c:33)
==2897619==    by 0x109315: make_key_values (bug-program.c:61)
==2897619==    by 0x109315: main (bug-program.c:70)
==2897619==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897619==    by 0x1092D3: add_key_value (bug-program.c:21)
==2897619==    by 0x1092D3: make_key_values (bug-program.c:61)
==2897619==    by 0x1092D3: main (bug-program.c:70)
==2897619==
==2897619==
==2897619== 23 errors in context 6 of 8:
==2897619== Invalid write of size 4
==2897619==    at 0x109312: add_key_value (bug-program.c:33)
==2897619==    by 0x109312: make_key_values (bug-program.c:61)
==2897619==    by 0x109312: main (bug-program.c:70)
==2897619==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897619==    by 0x1092D3: add_key_value (bug-program.c:21)
==2897619==    by 0x1092D3: make_key_values (bug-program.c:61)
==2897619==    by 0x1092D3: main (bug-program.c:70)
==2897619==
==2897619==
==2897619== 23 errors in context 7 of 8:
==2897619== Invalid write of size 1
==2897619==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==2897619==    by 0x10930E: add_key_value (bug-program.c:30)
==2897619==    by 0x10930E: make_key_values (bug-program.c:61)
==2897619==    by 0x10930E: main (bug-program.c:70)
==2897619==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897619==    by 0x1092F6: add_key_value (bug-program.c:24)
==2897619==    by 0x1092F6: make_key_values (bug-program.c:61)
==2897619==    by 0x1092F6: main (bug-program.c:70)
==2897619==
==2897619== ERROR SUMMARY: 162 errors from 8 contexts (suppressed: 0 from 0)[44;103H273,1[9CBot[43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [43;1H[?25h[?25l[44;93H~@k[43;1H[44;93H   [42;1H[44;105H2[42;1H[?25h[?25l[44;93H~@k[42;1H[44;93H   [41;1H[44;105H1[41;1H[?25h[?25l[44;93H~@k[41;1H[44;93H   [40;1H[44;105H0[40;1H[?25h[?25l[44;93H~@k[40;1H[44;93H   [39;1H[44;104H69[39;1H[?25h[?25l[44;93H~@k[39;1H[44;93H   [38;1H[44;105H8[38;1H[?25h[?25l[44;93H~@k[38;1H[44;93H   [37;1H[44;105H7[37;1H[?25h[?25l[44;93H~@k[37;1H[44;93H   [36;1H[44;105H6[36;1H[?25h[?25l[44;93H~@k[36;1H[44;93H   [35;1H[44;105H5[35;1H[?25h[?25l[44;93H~@k[35;1H[44;93H   [34;1H[44;105H4[34;1H[?25h[?25l[44;93H~@k[34;1H[44;93H   [33;1H[44;105H3[33;1H[?25h[?25l[44;93H~@k[33;1H[44;93H   [32;1H[44;105H2[32;1H[?25h[?25l[44;93H~@k[32;1H[44;93H   [31;1H[44;105H1[31;1H[?25h[?25l[44;93H~@k[31;1H[44;93H   [30;1H[44;105H0[30;1H[?25h[?25l[44;93H~@k[30;1H[44;93H   [29;1H[44;104H59[29;1H[?25h[?25l[44;93H~@k[29;1H[44;93H   [28;1H[44;105H8[28;1H[?25h[?25l[44;93H~@k[28;1H[44;93H   [27;1H[44;105H7[27;1H[?25h[?25l[44;93H~@k[27;1H[44;93H   [26;1H[44;105H6[26;1H[?25h[?25l[44;93H~@k[26;1H[44;93H   [25;1H[44;105H5[25;1H[?25h[?25l[44;93H~@k[25;1H[44;93H   [24;1H[44;105H4[24;1H[?25h[?25l[44;93H~@k[24;1H[44;93H   [23;1H[44;105H3[23;1H[?25h[?25l[44;93H~@k[23;1H[44;93H   [22;1H[44;105H2[22;1H[?25h[?25l[44;93H~@k[22;1H[44;93H   [21;1H[44;105H1[21;1H[?25h[?25l[44;93H~@k[21;1H[44;93H   [20;1H[44;105H0[20;1H[?25h[?25l[44;93H~@k[20;1H[44;93H   [19;1H[44;104H49[19;1H[?25h[?25l[44;93H~@k[19;1H[44;93H   [18;1H[44;105H8[18;1H[?25h[?25l[44;93H~@k[18;1H[44;93H   [17;1H[44;105H7[17;1H[?25h[?25l[44;93H~@k[17;1H[44;93H   [16;1H[44;105H6[16;1H[?25h[?25l[44;93H~@k[16;1H[44;93H   [15;1H[44;105H5[15;1H[?25h[?25l[44;93H~@k[15;1H[44;93H   [14;1H[44;105H4[14;1H[?25h[?25l[44;93H~@k[14;1H[44;93H   [13;1H[44;105H3[13;1H[?25h[?25l[44;93H~@k[13;1H[44;93H   [12;1H[44;105H2[12;1H[?25h[?25l[44;105H1[11;1H[?25h[?25l[44;93H~@k[11;1H[44;93H   [10;1H[44;105H0[10;1H[?25h[?25l[44;93H~@k[10;1H[44;93H   [9;1H[44;104H39[9;1H[?25h[?25l[44;93H~@k[9;1H[44;93H   [8;1H[44;105H8[8;1H[?25h[?25l[44;93H~@k[8;1H[44;93H   [7;1H[44;105H7[7;1H[?25h[?25l[44;93H~@k[7;1H[44;93H   [6;1H[44;105H6[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==  Address 0x4a42e08 is 0 bytes after a block of size 8 alloc'd[44;1H[K[44;103H235,1[9C99%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x109330: main (bug-program.c:72)[44;103H[K[44;103H234,1[9C99%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== Invalid read of size 4[44;103H[K[44;103H233,1[9C98%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== 23 errors in context 4 of 8:[44;103H[K[44;103H232,1[9C98%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H231,1[9C97%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H230,1[9C97%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092F6: main (bug-program.c:70)[44;103H[K[44;103H229,1[9C96%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092F6: make_key_values (bug-program.c:61)[44;103H[K[44;103H228,1[9C96%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092F6: add_key_value (bug-program.c:24)[44;103H[K[44;103H227,1[9C96%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H226,1[9C95%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==  Address 0x4a42e58 is 0 bytes after a block of size 8 alloc'd[44;103H[K[44;103H225,1[9C95%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x109343: main (bug-program.c:72)[44;103H[K[44;103H224,1[9C94%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x48D6605: printf (printf.c:33)[44;103H[K[44;103H223,1[9C94%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[44;103H[K[44;103H222,1[9C93%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[44;103H[K[44;103H221,1[9C93%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== Invalid read of size 1[44;103H[K[44;103H220,1[9C93%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== 23 errors in context 3 of 8:[44;103H[K[44;103H219,1[9C92%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H218,1[9C92%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H217,1[9C91%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: main (bug-program.c:70)[44;103H[K[44;103H216,1[9C91%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: make_key_values (bug-program.c:61)[44;103H[K[44;103H215,1[9C90%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: add_key_value (bug-program.c:21)[44;103H[K[44;103H214,1[9C90%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H213,1[9C90%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==  Address 0x4a42e10 is 8 bytes after a block of size 8 alloc'd[44;103H[K[44;103H212,1[9C89%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x109344: main (bug-program.c:71)[44;103H[K[44;103H211,1[9C89%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== Invalid read of size 8[44;103H[K[44;103H210,1[9C88%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== 23 errors in context 2 of 8:[44;103H[K[44;103H209,1[9C88%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H208,1[9C87%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H207,1[9C87%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: main (bug-program.c:70)[44;103H[K[44;103H206,1[9C86%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: make_key_values (bug-program.c:61)[44;103H[K[44;103H205,1[9C86%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: add_key_value (bug-program.c:21)[44;103H[K[44;103H204,1[9C86%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H203,1[9C85%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==  Block was alloc'd at[44;103H[K[44;103H202,1[9C85%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x109354: main (bug-program.c:74)[44;103H[K[44;103H201,1[9C84%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x109354: free_key_values (bug-program.c:44)[44;103H[K[44;103H200,1[9C84%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x48369AB: free (vg_replace_malloc.c:530)[44;103H[K[44;103H199,1[9C83%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==  Address 0x4a42e10 is 8 bytes after a block of size 8 free'd[44;103H[K[44;103H198,1[9C83%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x109355: main (bug-program.c:74)[44;103H[K[44;103H197,1[9C83%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x109355: free_key_values (bug-program.c:43)[44;103H[K[44;103H196,1[9C82%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== Invalid read of size 8[44;103H[K[44;103H195,1[9C82%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== 23 errors in context 1 of 8:[44;103H[K[44;103H194,1[9C81%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H193,1[9C81%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== ERROR SUMMARY: 162 errors from 8 contexts (suppressed: 0 from 0)[44;103H[K[44;103H192,1[9C80%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H191,1[9C80%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[9Csuppressed: 0 bytes in 0 blocks[44;103H[K[44;103H190,1[9C80%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    still reachable: 0 bytes in 0 blocks[44;103H[K[44;103H189,1[9C79%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==      possibly lost: 0 bytes in 0 blocks[44;103H[K[44;103H188,1[9C79%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    indirectly lost: 0 bytes in 0 blocks[44;103H[K[44;103H187,1[9C78%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    definitely lost: 100 bytes in 23 blocks[44;103H[K[44;103H186,1[9C78%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== LEAK SUMMARY:[44;103H[K[44;103H185,1[9C77%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H184,1[9C77%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092F6: main (bug-program.c:70)[44;103H[K[44;103H183,1[9C76%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092F6: make_key_values (bug-program.c:61)[44;103H[K[44;103H182,1[9C76%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092F6: add_key_value (bug-program.c:24)[44;103H[K[44;103H181,1[9C76%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H180,1[9C75%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== 100 bytes in 23 blocks are definitely lost in loss record 1 of 1[44;103H[K[44;103H179,1[9C75%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H178,1[9C74%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== Checked 69,560 bytes[44;103H[K[44;103H177,1[9C74%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== Searching for pointers to 23 not-freed blocks[44;103H[K[44;103H176,1[9C73%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H175,1[9C73%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==   total heap usage: 47 allocs, 24 frees, 1,308 bytes allocated[44;103H[K[44;103H174,1[9C73%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==     in use at exit: 100 bytes in 23 blocks[44;103H[K[44;103H173,1[9C72%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== HEAP SUMMARY:[44;103H[K[44;103H172,1[9C72%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H171,1[9C71%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H170,1[9C71%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: main (bug-program.c:70)[44;103H[K[44;103H169,1[9C70%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: make_key_values (bug-program.c:61)[44;103H[K[44;103H168,1[9C70%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: add_key_value (bug-program.c:21)[44;103H[K[44;103H167,1[9C70%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H166,1[9C69%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==  Block was alloc'd at[44;103H[K[44;103H165,1[9C69%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x109354: main (bug-program.c:74)[44;103H[K[44;103H164,1[9C68%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x109354: free_key_values (bug-program.c:44)[44;103H[K[44;103H163,1[9C68%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x48369AB: free (vg_replace_malloc.c:530)[44;103H[K[44;103H162,1[9C67%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==  Address 0x4a42e10 is 8 bytes after a block of size 8 free'd[44;103H[K[44;103H161,1[9C67%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x109355: main (bug-program.c:74)[44;103H[K[44;103H160,1[9C66%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x109355: free_key_values (bug-program.c:43)[44;103H[K[44;103H159,1[9C66%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== Invalid read of size 8[44;103H[K[44;103H158,1[9C66%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H--2897619-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)[44;103H[K[44;103H157,1[9C65%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H156,1[9C65%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: main (bug-program.c:70)[44;103H[K[44;103H155,1[9C64%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: make_key_values (bug-program.c:61)[44;103H[K[44;103H154,1[9C64%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092D3: add_key_value (bug-program.c:21)[44;103H[K[44;103H153,1[9C63%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H152,1[9C63%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==  Address 0x4a42e10 is 8 bytes after a block of size 8 alloc'd[44;103H[K[44;103H151,1[9C63%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x109344: main (bug-program.c:71)[44;103H[K[44;103H150,1[9C62%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619== Invalid read of size 8[44;103H[K[44;103H149,1[9C62%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H--2897619-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)[44;103H[K[44;103H148,1[9C61%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==[44;103H[K[44;103H147,1[9C61%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092F6: main (bug-program.c:70)[44;103H[K[44;103H146,1[9C60%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092F6: make_key_values (bug-program.c:61)[44;103H[K[44;103H145,1[9C60%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x1092F6: add_key_value (bug-program.c:24)[44;103H[K[44;103H144,1[9C60%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H143,1[9C59%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==  Address 0x4a42e58 is 0 bytes after a block of size 8 alloc'd[44;103H[K[44;103H142,1[9C59%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x109343: main (bug-program.c:72)[44;103H[K[44;103H141,1[9C58%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x48D6605: printf (printf.c:33)[44;103H[K[44;103H140,1[9C58%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[44;103H[K[44;103H139,1[9C57%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897619==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[44;103H[K[44;103H138,1[9C57%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [7;1H[44;105H9[7;1H[?25h[?25l[44;93H~@k[7;1H[44;93H   [8;1H[44;104H40[8;1H[?25h[?25l[44;93H~@k[8;1H[44;93H   [9;1H[44;105H1[9;1H[?25h[?25l[44;93H~@k[9;1H[44;93H   [10;1H[44;105H2[10;1H[?25h[?25l[44;93H~@k[10;1H[44;93H   [11;1H[44;105H3[11;1H[?25h[?25l[44;93H~@k[11;1H[44;93H   [12;1H[44;105H4[12;1H[?25h[?25l[44;93H~@k[12;1H[44;93H   [13;1H[44;105H5[13;1H[?25h[?25l[44;93H~@k[13;1H[44;93H   [14;1H[44;105H6[14;1H[?25h[?25l[44;93H~@k[14;1H[44;93H   [15;1H[44;105H7[15;1H[?25h[?25l[44;93H~@k[15;1H[44;93H   [16;1H[44;105H8[16;1H[?25h[?25l[44;93H~@k[16;1H[44;93H   [17;1H[44;105H9[17;1H[?25h[?25l[44;93H~@k[17;1H[44;93H   [18;1H[44;104H50[18;1H[?25h[?25l[44;93H~@k[18;1H[44;93H   [19;1H[44;105H1[19;1H[?25h[?25l[44;93H~@k[19;1H[44;93H   [20;1H[44;105H2[20;1H[?25h[?25l[44;93H~@k[20;1H[44;93H   [21;1H[44;105H3[21;1H[?25h[?25l[44;93H:[21;1H[44;93H[K[44;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[44;1H[K[44;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.valgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;44r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[44;1H"bug-program.valgrind" 270L, 16323C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2897718==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2897718==    by 0x48D6605: printf (printf.c:33)
==2897718==    by 0x1091F3: main (bug-program.c:72)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
--2897718-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
==2897718== Invalid read of size 8
==2897718==    at 0x1091F4: main (bug-program.c:71)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
--2897718-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2897718== Invalid read of size 8
==2897718==    at 0x109205: free_key_values (bug-program.c:43)
==2897718==    by 0x109205: main (bug-program.c:74)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 free'd
==2897718==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2897718==    by 0x109204: free_key_values (bug-program.c:44)
==2897718==    by 0x109204: main (bug-program.c:74)
==2897718==  Block was alloc'd at
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== HEAP SUMMARY:
==2897718==     in use at exit: 4 bytes in 1 blocks
==2897718==   total heap usage: 3 allocs, 2 frees, 1,036 bytes allocated
==2897718==
==2897718== Searching for pointers to 1 not-freed blocks
==2897718== Checked 69,560 bytes
==2897718==
==2897718== 4 bytes in 1 blocks are definitely lost in loss record 1 of 1
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)[44;103H153,1[9C57%[22;1H[?25h[?25l[44;93H~@k[22;1H[44;93H   [23;1H[44;105H4[23;1H[?25h[?25l[44;93H~@k[23;1H[44;93H   [24;1H[44;105H5[24;1H[?25h[?25l[44;93H~@k[24;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718== LEAK SUMMARY:
==2897718==    definitely lost: 4 bytes in 1 blocks
==2897718==    indirectly lost: 0 bytes in 0 blocks
==2897718==      possibly lost: 0 bytes in 0 blocks
==2897718==    still reachable: 0 bytes in 0 blocks
==2897718==[9Csuppressed: 0 bytes in 0 blocks
==2897718==
==2897718== ERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)
==2897718==
==2897718== 1 errors in context 1 of 8:
==2897718== Invalid read of size 8
==2897718==    at 0x109205: free_key_values (bug-program.c:43)
==2897718==    by 0x109205: main (bug-program.c:74)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 free'd
==2897718==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2897718==    by 0x109204: free_key_values (bug-program.c:44)
==2897718==    by 0x109204: main (bug-program.c:74)
==2897718==  Block was alloc'd at
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 2 of 8:
==2897718== Invalid read of size 8
==2897718==    at 0x1091F4: main (bug-program.c:71)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 3 of 8:
==2897718== Invalid read of size 1
==2897718==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2897718==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[44;103H178,1[9C75%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2897718==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2897718==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2897718==    by 0x48D6605: printf (printf.c:33)
==2897718==    by 0x1091F3: main (bug-program.c:72)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 4 of 8:
==2897718== Invalid read of size 4
==2897718==    at 0x1091E1: main (bug-program.c:72)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 5 of 8:
==2897718== Invalid write of size 8
==2897718==    at 0x1091CF: add_key_value (bug-program.c:33)
==2897718==    by 0x1091CF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091CF: main (bug-program.c:70)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 6 of 8:
==2897718== Invalid write of size 4
==2897718==    at 0x1091C8: add_key_value (bug-program.c:33)
==2897718==    by 0x1091C8: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C8: main (bug-program.c:70)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)[44;103H219,1[9C93%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 7 of 8:
==2897718== Invalid write of size 1
==2897718==    at 0x1091C0: add_key_value (bug-program.c:30)
==2897718==    by 0x1091C0: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C0: main (bug-program.c:70)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718== ERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)
[94m~                                                                                                                       [18;1H~                                                                                                                       [19;1H~                                                                                                                       [20;1H~                                                                                                                       [21;1H~                                                                                                                       [22;1H~                                                                                                                       [23;1H~                                                                                                                       [24;1H~                                                                                                                       [25;1H~                                                                                                                       [26;1H~                                                                                                                       [27;1H~                                                                                                                       [28;1H~                                                                                                                       [29;1H~                                                                                                                       [30;1H~                                                                                                                       [31;1H~                                                                                                                       [32;1H~                                                                                                                       [33;1H~                                                                                                                       [34;1H~                                                                                                                       [35;1H~                                                                                                                       [36;1H~                                                                                                                       [37;1H~                                                                                                                       [38;1H~                                                                                                                       [39;1H~                                                                                                                       [40;1H~                                                                                                                       [41;1H~                                                                                                                       [42;1H~                                                                                                                       [43;1H~                                                                                                                       [m[44;103H260,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[10M[1;44r[34;1H[94m~                                                                                                                       [35;1H~                                                                                                                       [36;1H~                                                                                                                       [37;1H~                                                                                                                       [38;1H~                                                                                                                       [39;1H~                                                                                                                       [40;1H~                                                                                                                       [41;1H~                                                                                                                       [42;1H~                                                                                                                       [43;1H~                                                                                                                       [m[44;103H[K[44;103H270,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd[44;103H[K[44;103H269,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091C0: main (bug-program.c:70)[44;103H[K[44;103H268,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091C0: make_key_values (bug-program.c:61)[44;103H[K[44;103H267,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x1091C0: add_key_value (bug-program.c:30)[44;103H[K[44;103H266,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== Invalid write of size 1[44;103H[K[44;103H265,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== 1 errors in context 7 of 8:[44;103H[K[44;103H264,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H263,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H262,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: main (bug-program.c:70)[44;103H[K[44;103H261,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)[44;103H[K[44;103H260,1[9CBot[6;1H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)[44;103H[K[44;103H259,1[9CBot[6;1H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H258,1[9CBot[6;1H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd[44;103H[K[44;103H257,1[9CBot[6;1H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091C8: main (bug-program.c:70)[44;103H[K[44;103H256,1[9CBot[6;1H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091C8: make_key_values (bug-program.c:61)[44;103H[K[44;103H255,1[9CBot[6;1H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x1091C8: add_key_value (bug-program.c:33)[44;103H[K[44;103H254,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== Invalid write of size 4[44;103H[K[44;103H253,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== 1 errors in context 6 of 8:[44;103H[K[44;103H252,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H251,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H250,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: main (bug-program.c:70)[44;103H[K[44;103H249,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)[44;103H[K[44;103H248,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)[44;103H[K[44;103H247,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H246,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd[44;103H[K[44;103H245,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091CF: main (bug-program.c:70)[44;103H[K[44;103H244,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091CF: make_key_values (bug-program.c:61)[44;103H[K[44;103H243,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x1091CF: add_key_value (bug-program.c:33)[44;103H[K[44;103H242,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== Invalid write of size 8[44;103H[K[44;103H241,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== 1 errors in context 5 of 8:[44;103H[K[44;103H240,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H239,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H238,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: main (bug-program.c:70)[44;103H[K[44;103H237,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)[44;103H[K[44;103H236,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)[44;103H[K[44;103H235,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H234,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd[44;103H[K[44;103H233,1[9CBot[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x1091E1: main (bug-program.c:72)[44;103H[K[44;103H232,1[9C99%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== Invalid read of size 4[44;103H[K[44;103H231,1[9C99%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== 1 errors in context 4 of 8:[44;103H[K[44;103H230,1[9C98%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H229,1[9C98%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H228,1[9C97%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091AF: main (bug-program.c:70)[44;103H[K[44;103H227,1[9C97%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)[44;103H[K[44;103H226,1[9C96%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)[44;103H[K[44;103H225,1[9C96%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H224,1[9C96%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd[44;103H[K[44;103H223,1[9C95%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091F3: main (bug-program.c:72)[44;103H[K[44;103H222,1[9C95%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x48D6605: printf (printf.c:33)[44;103H[K[44;103H221,1[9C94%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[44;103H[K[44;103H220,1[9C94%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[44;103H[K[44;103H219,1[9C93%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== Invalid read of size 1[44;103H[K[44;103H218,1[9C93%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== 1 errors in context 3 of 8:[44;103H[K[44;103H217,1[9C92%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H216,1[9C92%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H215,1[9C92%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: main (bug-program.c:70)[44;103H[K[44;103H214,1[9C91%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)[44;103H[K[44;103H213,1[9C91%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)[44;103H[K[44;103H212,1[9C90%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H211,1[9C90%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd[44;103H[K[44;103H210,1[9C89%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x1091F4: main (bug-program.c:71)[44;103H[K[44;103H209,1[9C89%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== Invalid read of size 8[44;103H[K[44;103H208,1[9C88%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== 1 errors in context 2 of 8:[44;103H[K[44;103H207,1[9C88%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H206,1[9C88%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H205,1[9C87%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: main (bug-program.c:70)[44;103H[K[44;103H204,1[9C87%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)[44;103H[K[44;103H203,1[9C86%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)[44;103H[K[44;103H202,1[9C86%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H201,1[9C85%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==  Block was alloc'd at[44;103H[K[44;103H200,1[9C85%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x109204: main (bug-program.c:74)[44;103H[K[44;103H199,1[9C85%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x109204: free_key_values (bug-program.c:44)[44;103H[K[44;103H198,1[9C84%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x48369AB: free (vg_replace_malloc.c:530)[44;103H[K[44;103H197,1[9C84%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 free'd[44;103H[K[44;103H196,1[9C83%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x109205: main (bug-program.c:74)[44;103H[K[44;103H195,1[9C83%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x109205: free_key_values (bug-program.c:43)[44;103H[K[44;103H194,1[9C82%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== Invalid read of size 8[44;103H[K[44;103H193,1[9C82%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== 1 errors in context 1 of 8:[44;103H[K[44;103H192,1[9C81%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [7;1H[44;105H3[7;1H[?25h[?25l[44;93H~@k[7;1H[44;93H   [8;1H[44;105H4[8;1H[?25h[?25l[44;93H~@k[8;1H[44;93H   [9;1H[44;105H5[9;1H[?25h[?25l[44;93H~@k[9;1H[44;93H   [10;1H[44;105H6[10;1H[?25h[?25l[44;93H~@k[10;1H[44;93H   [11;1H[44;105H7[11;1H[?25h[?25l[44;93H~@k[11;1H[44;93H   [12;1H[44;105H8[12;1H[?25h[?25l[44;93H~@k[12;1H[44;93H   [13;1H[44;105H9[13;1H[?25h[?25l[44;93H~@k[13;1H[44;93H   [14;1H[44;103H200[14;1H[?25h[?25l[44;93H~@k[14;1H[44;93H   [15;1H[44;105H1[15;1H[?25h[?25l[44;93H~@k[15;1H[44;93H   [16;1H[44;105H2[16;1H[?25h[?25l[44;93H~@k[16;1H[44;93H   [17;1H[44;105H3[17;1H[?25h[?25l[44;93H~@k[17;1H[44;93H   [18;1H[44;105H4[18;1H[?25h[?25l[44;93H~@k[18;1H[44;93H   [17;1H[44;105H3[17;1H[?25h[?25l[44;93H~@k[17;1H[44;93H   [16;1H[44;105H2[16;1H[?25h[?25l[44;93H~@k[16;1H[44;93H   [15;1H[44;105H1[15;1H[?25h[?25l[44;93H~@k[15;1H[44;93H   [14;1H[44;105H0[14;1H[?25h[?25l[44;93H~@k[14;1H[44;93H   [13;1H[44;103H199[13;1H[?25h[?25l[44;93H~@k[13;1H[44;93H   [12;1H[44;105H8[12;1H[?25h[?25l[44;93H~@k[12;1H[44;93H   [11;1H[44;105H7[11;1H[?25h[?25l[44;93H~@k[11;1H[44;93H   [10;1H[44;105H6[10;1H[?25h[?25l[44;93H~@k[10;1H[44;93H   [9;1H[44;105H5[9;1H[?25h[?25l[44;93H~@k[9;1H[44;93H   [8;1H[44;105H4[8;1H[?25h[?25l[44;93H~@k[8;1H[44;93H   [7;1H[44;105H3[7;1H[?25h[?25l[44;93H~@k[7;1H[44;93H   [6;1H[44;105H2[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H191,1[9C81%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== ERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)[44;103H[K[44;103H190,1[9C81%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H189,1[9C80%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[9Csuppressed: 0 bytes in 0 blocks[44;103H[K[44;103H188,1[9C80%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    still reachable: 0 bytes in 0 blocks[44;103H[K[44;103H187,1[9C79%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==      possibly lost: 0 bytes in 0 blocks[44;103H[K[44;103H186,1[9C79%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    indirectly lost: 0 bytes in 0 blocks[44;103H[K[44;103H185,1[9C78%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    definitely lost: 4 bytes in 1 blocks[44;103H[K[44;103H184,1[9C78%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== LEAK SUMMARY:[44;103H[K[44;103H183,1[9C77%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H182,1[9C77%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091AF: main (bug-program.c:70)[44;103H[K[44;103H181,1[9C77%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)[44;103H[K[44;103H180,1[9C76%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)[44;103H[K[44;103H179,1[9C76%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H178,1[9C75%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== 4 bytes in 1 blocks are definitely lost in loss record 1 of 1[44;103H[K[44;103H177,1[9C75%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H176,1[9C74%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== Checked 69,560 bytes[44;103H[K[44;103H175,1[9C74%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== Searching for pointers to 1 not-freed blocks[44;103H[K[44;103H174,1[9C74%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H173,1[9C73%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==   total heap usage: 3 allocs, 2 frees, 1,036 bytes allocated[44;103H[K[44;103H172,1[9C73%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==     in use at exit: 4 bytes in 1 blocks[44;103H[K[44;103H171,1[9C72%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718== HEAP SUMMARY:[44;103H[K[44;103H170,1[9C72%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H169,1[9C71%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==[44;103H[K[44;103H168,1[9C71%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: main (bug-program.c:70)[44;103H[K[44;103H167,1[9C70%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)[44;103H[K[44;103H166,1[9C70%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)[44;103H[K[44;103H165,1[9C70%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[1;43r[1;1H[L[1;44r[1;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H164,1[9C69%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [7;1H[44;105H5[7;1H[?25h[?25l[44;93H~@k[7;1H[44;93H   [8;1H[44;105H6[8;1H[?25h[?25l[44;93H~@k[8;1H[44;93H   [9;1H[44;105H7[9;1H[?25h[?25l[44;93H~@k[9;1H[44;93H   [10;1H[44;105H8[10;1H[?25h[?25l[44;93H~@k[10;1H[44;93H   [11;1H[44;105H9[11;1H[?25h[?25l[44;93H~@k[11;1H[44;93H   [12;1H[44;104H70[12;1H[?25h[?25l[44;93H~@k[12;1H[44;93H   [13;1H[44;105H1[13;1H[?25h[?25l[44;93H~@k[13;1H[44;93H   [14;1H[44;105H2[14;1H[?25h[?25l[44;93H~@k[14;1H[44;93H   [15;1H[44;105H3[15;1H[?25h[?25l[44;93H~@k[15;1H[44;93H   [16;1H[44;105H4[16;1H[?25h[?25l[44;93H~@k[16;1H[44;93H   [17;1H[44;105H5[17;1H[?25h[?25l[44;93H~@k[17;1H[44;93H   [18;1H[44;105H6[18;1H[?25h[?25l[44;93H~@k[18;1H[44;93H   [19;1H[44;105H7[19;1H[?25h[?25l[44;93H~@k[19;1H[44;93H   [20;1H[44;105H8[20;1H[?25h[?25l[44;93H~@k[20;1H[44;93H   [21;1H[44;105H9[21;1H[?25h[?25l[44;93H~@k[21;1H[44;93H   [22;1H[44;104H80[22;1H[?25h[?25l[44;93H~@k[22;1H[44;93H   [23;1H[44;105H1[23;1H[?25h[?25l[44;93H~@k[23;1H[44;93H   [24;1H[44;105H2[24;1H[?25h[?25l[44;93H~@k[24;1H[44;93H   [25;1H[44;105H3[25;1H[?25h[?25l[44;93H~@k[25;1H[44;93H   [26;1H[44;105H4[26;1H[?25h[?25l[44;93H~@k[26;1H[44;93H   [27;1H[44;105H5[27;1H[?25h[?25l[44;93H~@k[27;1H[44;93H   [27;2H[44;107H2[27;2H[?25h[?25l[44;93H~@k[27;2H[44;93H   [27;3H[44;107H3[27;3H[?25h[?25l[44;93H~@k[27;3H[44;93H   [27;4H[44;107H4[27;4H[?25h[?25l[44;93H~@k[27;4H[44;93H   [27;5H[44;107H5[27;5H[?25h[?25l[44;93H~@k[27;5H[44;93H   [27;6H[44;107H6[27;6H[?25h[?25l[44;93H~@k[27;6H[44;93H   [27;7H[44;107H7[27;7H[?25h[?25l[44;93H~@k[27;7H[44;93H   [27;8H[44;107H8[27;8H[?25h[?25l[44;93H~@k[27;8H[44;93H   [27;9H[44;107H9[27;9H[?25h[?25l[44;93H~@k[27;9H[44;93H   [27;10H[44;107H10[27;10H[?25h[?25l[44;93H~@k[27;10H[44;93H   [27;11H[44;108H1[27;11H[?25h[?25l[44;93H~@k[27;11H[44;93H   [27;12H[44;108H2[27;12H[?25h[?25l[44;93H~@k[27;12H[44;93H   [27;13H[44;108H3[27;13H[?25h[?25l[44;93H~@k[27;13H[44;93H   [27;14H[44;108H4[27;14H[?25h[?25l[44;93H~@k[27;14H[44;93H   [27;15H[44;108H5[27;15H[?25h[?25l[44;93H~@k[27;15H[44;93H   [27;16H[44;108H6[27;16H[?25h[?25l[44;93H~@k[27;16H[44;93H   [27;17H[44;108H7[27;17H[?25h[?25l[44;93H~@k[27;17H[44;93H   [27;18H[44;108H8[27;18H[?25h[?25l[44;93H~@k[27;18H[44;93H   [27;19H[44;108H9[27;19H[?25h[?25l[44;93H~@k[27;19H[44;93H   [27;20H[44;107H20[27;20H[?25h[?25l[44;93H~@k[27;20H[44;93H   [27;21H[44;108H1[27;21H[?25h[?25l[44;93H~@k[27;21H[44;93H   [27;22H[44;108H2[27;22H[?25h[?25l[44;93H~@k[27;22H[44;93H   [27;23H[44;108H3[27;23H[?25h[?25l[44;93H~@k[27;23H[44;93H   [27;24H[44;108H4[27;24H[?25h[?25l[44;93H~@k[27;24H[44;93H   [27;25H[44;108H5[27;25H[?25h[?25l[44;93H~@k[27;25H[44;93H   [27;26H[44;108H6[27;26H[?25h[?25l[44;93H~@k[27;26H[44;93H   [27;27H[44;108H7[27;27H[?25h[?25l[44;93H~@k[27;27H[44;93H   [27;28H[44;108H8[27;28H[?25h[?25l[44;93H~@k[27;28H[44;93H   [27;29H[44;108H9[27;29H[?25h[?25l[44;93H~@k[27;29H[44;93H   [27;30H[44;107H30[27;30H[?25h[?25l[44;93H~@k[27;30H[44;93H   [27;31H[44;108H1[27;31H[?25h[?25l[44;93H~@k[27;31H[44;93H   [27;32H[44;108H2[27;32H[?25h[?25l[44;93H~@k[27;32H[44;93H   [27;33H[44;108H3[27;33H[?25h[?25l[44;93H~@k[27;33H[44;93H   [28;12H[44;105H6,12[28;12H[?25h[?25l[44;93H~@k[28;12H[44;93H   [29;33H[44;105H7,33[29;33H[?25h[?25l[44;93H~@k[29;33H[44;93H   [30;33H[44;105H8[30;33H[?25h[?25l[44;93H~@k[30;33H[44;93H   [31;33H[44;105H9[31;33H[?25h[?25l[44;93H~@k[31;33H[44;93H   [30;33H[44;105H8[30;33H[?25h[?25l[44;93H~@k[30;33H[44;93H   [30;34H[44;108H4[30;34H[?25h[?25l[44;93H~@k[30;34H[44;93H   [30;34H[?25h[?25l[44;93H~@k[30;34H[44;93H   [30;34H[?25h[?25l[44;93H~@k[30;34H[44;93H   [30;33H[44;108H3[30;33H[?25h[?25l[44;93H~@k[30;33H[44;93H   [30;32H[44;108H2[30;32H[?25h[?25l[44;93H~@k[30;32H[44;93H   [30;33H[44;108H3[30;33H[?25h[?25l[44;93H~@k[30;33H[44;93H   [30;34H[44;108H4[30;34H[?25h[?25l[44;93H~@k[30;34H[44;93H   [30;34H[?25h[?25l[44;93H~@k[30;34H[44;93H   [30;34H[?25h[?25l[44;93H~@k[30;34H[44;93H   [31;34H[44;105H9[31;34H[?25h[?25l[44;93H~@k[31;34H[44;93H   [32;34H[106m([16C)[m[44;104H90[32;34H[?25h[?25l[44;93H~@k[32;34H[44;93H   [33;34H[32;34H([16C)[44;105H1[33;34H[?25h[?25l[44;93H~@k[33;34H[44;93H   [34;34H[44;105H2[34;34H[?25h[?25l[44;93H~@k[34;34H[44;93H   [35;34H[44;105H3[35;34H[?25h[?25l[44;93H~@k[35;34H[44;93H   [36;34H[106m([16C)[m[44;105H4[36;34H[?25h[?25l[44;93H~@k[36;34H[44;93H   [37;33H[36;34H([16C)[44;105H5,33[37;33H[?25h[?25l[44;93H~@k[37;33H[44;93H   [38;34H[44;105H6,34[38;34H[?25h[?25l[44;93H~@k[38;34H[44;93H   [38;34H[1;43r[43;1H
[1;44r[43;1H==2897718== 1 errors in context 2 of 8:[44;103H[K[44;103H197,34[8C70%[38;34H[?25h[?25l[44;93H~@k[38;34H[44;93H   [38;34H[1;43r[43;1H
[1;44r[43;1H==2897718== Invalid read of size 8[44;103H[K[44;103H198,34[8C70%[38;34H[?25h[?25l[44;93H~@k[38;34H[44;93H   [38;34H[1;43r[43;1H
[1;44r[38;34H[106m([16C)[m[43;1H==2897718==    at 0x1091F4: main (bug-program.c:71)[44;103H[K[44;103H199,34[8C70%[38;34H[?25h[?25l[44;93H~@k[38;34H[44;93H   [38;12H[1;43r[43;1H
[1;44r[37;34H([16C)[43;1H==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd[44;103H[K[44;103H200,12[8C71%[38;12H[?25h[?25l[44;93H~@k[38;12H[44;93H   [38;12H[1;43r[43;1H
[1;44r[43;1H==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H[K[44;103H201,12[8C71%[38;12H[?25h[?25l[44;93H~@k[38;12H[44;93H   [38;34H[1;43r[43;1H
[1;44r[43;1H==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)[44;103H[K[44;103H202,34[8C72%[38;34H[?25h[?25l[44;93H~@k[38;34H[44;93H   [38;34H[1;43r[43;1H
[1;44r[43;1H==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)[44;103H[K[44;103H203,34[8C72%[38;34H[?25h[?25l[44;93H~@k[38;34H[44;93H   [38;34H[1;43r[43;1H
[1;44r[38;34H[106m([16C)[m[43;1H==2897718==    by 0x1091A2: main (bug-program.c:70)[44;103H[K[44;103H204,34[8C73%[38;34H[?25h[?25l[44;93H~@k[38;34H[44;93H   [38;34H[1;43r[43;1H
[1;44r[37;34H([16C)[43;1H==2897718==[44;103H[K[44;103H205,34[8C73%[38;34H[?25h[?25l[44;93Hq[38;34H[?25h[?25l[44;94Hq[38;34H[44;1H[1mrecording @q[m[44;93H[K[44;103H205,34[8C73%[38;34H[?25h[?25l[44;93Hq[38;34H[44;1H[K[38;34H[44;103H205,34[8C73%[38;34H[?25h[?25l[44;93Hq[38;34H[?25h[?25l[44;94Hq[38;34H[44;1H[1mrecording @q[m[44;93H[K[44;103H205,34[8C73%[38;34H[?25h[?25l[44;93Hq[38;34H[44;1H[K[38;34H[44;103H205,34[8C73%[38;34H[?25h[?25l[44;93Hq[38;34H[?25h[?25l[44;94H:[38;34H[44;93H  [38;34H[44;103H[K[44;1H:[?2004h[1;16Hby 0x1091AF: main (bug-program.c:70)[2;13H[K[3;13HLEAK SUMMARY:[3;26H[K[4;16Hdefinitely lost: 4 bytes in 1 blocks[5;13H   indirectly lost: 0 bytes in 0 blocks[5;53H[K[6;16H  possibly lost: 0 bytes in 0 blocks[6;52H[K[7;16Hstill reachable: 0 bytes in 0 blocks[7;52H[K[8;16H     suppressed: 0 bytes in 0 blocks[8;52H[K[9;16H[K[10;13HERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)[11;13H[K[12;13H1 errors in context 1 of 8:[12;41H[K[13;13HInvalid read of size 8[13;35H[K[14;16Hat 0x109205: free_key_values (bug-program.c:43)[15;16Hby 0x109205: main (bug-program.c:74)[16;14HAddress 0x4a42050 is 8 bytes after a block of size 8 free'd[17;16Hat 0x48369AB: free (vg_replace_malloc.c:530)[18;13H   by 0x109204: free_key_values (bug-program.c:44)[18;63H[K[19;16Hby 0x109204: main (bug-program.c:74)[20;13H Block was alloc'd at[20;35H[K[21;13H   at 0x483577F: malloc (vg_replace_malloc.c:299)[22;16Hby 0x1091A2: add_key_value (bug-program.c:21)[22;61H[K[23;24H1A2: make_key_values (bug-program.c:61)[24;14H  by 0x1091A2: main (bug-program.c:70)[24;52H[K[25;16H[K[26;16H[K[27;13H1 errors in context 2 of 8:[27;40H[K[28;13HInvalid read of size 8[29;21H1091F4: main (bug-program.c:71)[29;52H[K[30;14HAddress 0x4a42050 is 8 bytes after a block of size 8 alloc'd[31;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[31;62H[K[32;29Hadd_key_value (bug-program.c:21)[33;16Hby 0x1091A2: make_key_values (bug-program.c:61)[34;16Hby 0x1091A2: main (bug-program.c:70)
[7mbug-program.valgrind                                                                                  205,34         74%[m[36;1H[94m:[m[38;5;130mq[m![36;4H[K[37;1H[94m:[m[38;5;130mset[m linenumber on[37;19H[K[38;1H[94m:[m[38;5;130mset[m [35mnumber[m[38;14H[K[39;1H[94m:[m[38;5;130mw[m[39;3H[K[40;1H[94m:[m[38;5;130mwq[m[40;4H[K[41;1H[94m:[m[38;5;130mq[m[41;3H[K[42;1H[94m:[m[42;2H[K[43;1H[1m[7m[Command Line]                                                                                        15,0-1         Bot[42;2H[?25h[?25l[m[44;110H:q[42;2H[?25h[?25l[44;112H^[[42;2H[44;112H  [42;2H[44;112H^[[42;2H[44;110H    [42;2H[?25h[?25l[44;110H:[42;2H[44;1H[K[44;1H:[?2004h[?25hq[?25l[?25h![?25l[?25h[?25l[42;2H[44;1H[K[1;13HChecked 69,560 bytes[1;34H[K[3;13H4 bytes in 1 blocks are definitely lost in loss record 1 of 1[4;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[5;16Hby 0x1091AF: add_key_value (bug-program.c:24)[6;16Hby 0x1091AF: make_key_values (bug-program.c:61)[7;16Hby 0x1091AF: main (bug-program.c:70)[8;21H[K[9;13HLEAK SUMMARY:[10;13H   definitely lost: 4 bytes in 1 block[10;53H[K[11;16Hindirectly lost: 0 bytes in 0 blocks[12;13H     possibly lost: 0 bytes in 0 blocks[13;13H   still reachable: 0 bytes in 0 blocks[14;16H     suppressed: 0 bytes in 0 blocks[14;52H[K[15;16H[K[16;13HERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)[17;16H[K[18;13H1 errors in context 1 of 8:[18;40H[K[19;13HInvalid read of size 8[19;35H[K[20;14H  at 0x109205: free_key_values (bug-program.c:43)[21;16Hby 0x109205: main (bug-program.c:74)[21;52H[K[22;14HAddress 0x4a42050 is 8 bytes after a block of size 8 free'd[23;16Hat 0x48369AB: free (vg_replace_malloc.c:530)[23;60H[K[24;24H204: free_key_values (bug-program.c:44)[25;16Hby 0x109204: main (bug-program.c:74)[26;14HBlock was alloc'd at[27;13H   at 0x483577F: malloc (vg_replace_malloc.c:299)[28;13H   by 0x1091A2: add_key_value (bug-program.c:21)[29;16Hby[7CA2: make_key_values (bug-program.c:61)[30;14H  by 0x1091A2: main (bug-program.c:70)[30;52H[K[31;16H[K[32;16H[K[33;13H1 errors in context 2 of 8:[33;40H[K[34;13HInvalid read of size 8[34;35H[K[35;1H==2897718==    at 0x1091F4: main (bug-program.c:71)[35;52H[K[36;1H==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 3 of 8:[43;40H[K[44;103H205,34[8C74%[36;34H[?25h[?25l[44;93H^M[36;34H[44;93H  [37;1H[44;105H6,1 [37;1H[?25h[?25l[44;93H:[37;1H[44;93H[K[44;1H:[?2004h[?25hq[?25l[?25h![?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[44;1H[K[44;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ci bug-program.c[K[2@nano[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi bug-program.valgrind [6Pnano bug-program.c
[?1049h[22;0;0t[1;44r(B[m[4l[?7h[39;49m[?1h=[?1h=[?1h=[?25l[39;49m(B[m[H[2J[42;53H(B[0;7m[ Reading File ](B[m[42;52H(B[0;7m[ Read 76 lines ](B[m[H(B[0;7m  GNU nano 3.2                                         bug-program.c                                                    [1;119H(B[m[43d(B[0;7m^G(B[m Get Help    (B[0;7m^O(B[m Write Out   (B[0;7m^W(B[m Where Is    (B[0;7m^K(B[m Cut Text    (B[0;7m^J(B[m Justify     (B[0;7m^C(B[m Cur Pos     (B[0;7mM-U(B[m Undo[106G(B[0;7mM-A(B[m Mark Text[44d(B[0;7m^X(B[m Exit[44;16H(B[0;7m^R(B[m Read File   (B[0;7m^\(B[m Replace     (B[0;7m^U(B[m Uncut Text  (B[0;7m^T(B[m To Spell    (B[0;7m^_(B[m Go To Line  (B[0;7mM-E(B[m Redo[106G(B[0;7mM-6(B[m Copy Text[42d[3d(B[0;1m[36m#include[39m(B[m (B[0;1m[33m<errno.h>[4d[36m#include[39m(B[m (B[0;1m[33m<stdio.h>[5d[36m#include[39m(B[m (B[0;1m[33m<stdlib.h>[6d[36m#include[39m(B[m (B[0;1m[33m<string.h>[8d[34m/** A struct used to form a linear chain of key-value pairs. */[9d(B[0m[32mstruct[39m(B[m KeyValue {[10;3H[32mconst[39m(B[m [32mchar[39m(B[m *key;[26G(B[0;1m[34m/** string key */[11;3H(B[0m[32mint[39m(B[m value;[11;26H(B[0;1m[34m/** integer value */[12;3H(B[0m[32mstruct[39m(B[m KeyValue *succ; (B[0;1m[34m/** next key-value in chain */[13d[39m(B[m};[15d(B[0;1m[34m/** Given some chain keyValues of key-value struct's, add the[16d *  key-value (k, v) at head of chain keyValues and return the[17d *  resulting chain.[18d */[19d(B[0m[32mstatic[39m(B[m [32mstruct[39m(B[m KeyValue *[20dadd_key_value([32mstruct[39m(B[m KeyValue *keyValues, [32mconst[39m(B[m [32mchar[39m(B[m *k, [32mint[39m(B[m v)[21d{[22d (B[0;1m[34m//allocate storage for new KeyValue struct[23;3H(B[0m[32mstruct[39m(B[m KeyValue *kv = malloc([32msizeof[39m(B[m([32mstruct[39m(B[m KeyValue *));[25;3H(B[0;1m[34m//allocate storage for string pointed to by k[26;3H(B[0m[32mchar[39m(B[m *s = malloc(strlen(k));[28;3H(B[0;1m[33mif[39m(B[m (kv == (B[0;1m[31mNULL[39m(B[m || s == (B[0;1m[31mNULL[39m(B[m) { (B[0;1m[34m//check if allocations succeeded[29;5H[39m(B[mfprintf(stderr, (B[0;1m[33m"malloc failure: %s\n"[39m(B[m, strerror(errno));[30;5Hexit(1);[31;3H}[32dstrcpy(s, k);  (B[0;1m[34m//copy string k into newly allocated memory pointed to by s[34;3H//initialize fields of *kv.[35;3H[39m(B[mkv->key = s; kv->value = v; kv->succ = keyValues;[37;3H[35mreturn[39m(B[m kv;[38d}[40d(B[0;1m[34m/** Free all the key-value's in keyValues. */[41d(B[0m[32mstatic[39m(B[m [32mvoid[3d[39m(B[m[?12l[?25h[?25l[42d[J[44;120H[?12l[?25h[44;1H[?1049l[23;0;0t[?1l>]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-programc[K.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;44r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[44;1H"bug-program.c" 76L, 2205C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;3H[32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s; kv->value = v; kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//go thru chain of keyValues[m
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    free(p); [34m//free KeyValue struct[m
  }
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;[44;103H58,6[10C60%[38;6H[?25h[?25l[44;93H/[38;6H[44;1H[K[44;1H/[?2004h[?25hs[?25l[1;43r[43;1H
[1;44r[38;3H[7m[32ms[m[43;1H}[44;1H[K[44;103H59,3[10C63%/s[44;103H[K[44;3H[?25he[?25l[1;43r[1;1H[7M[1;44r[31;3H[32ms[m[38;1H[34m/** Print out all the words in the first ver[m[7m[34mse[m[34m of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m
[32mint[m main() {
  [32mstruct[m KeyValue *keyValues = make_key_values();
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;1H[K[44;103H66,45[9C84%/se[44;103H[K[44;4H[?25ht[?25l[1;43r[1;1H[8L[1;44r[1;3H[32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);[44;1H[K[44;103H58,6[10C60%/set[44;103H[K[44;5H[?25h[?25l[98C58,6[10C60%[44;103H[K[44;6H[?25hn[?25l[96C58,6[10C60%[44;103H[K[44;7H[?25hu[?25l[95C58,6[10C60%[44;103H[K[44;8H[?25hm[?25l[94C58,6[10C60%[44;103H[K[44;9H[?25hb[?25l[93C58,6[10C60%[44;103H[K[44;10H[?25he[?25l[92C58,6[10C60%[44;103H[K[44;11H[?25hr[?25l[91C58,6[10C60%[44;103H[K[44;12H[?25h[?25l[31msearch hit BOTTOM, continuing at TOP[m[97m[41mE486: Pattern not found: set number[m[44;36H[K[38;6H[44;103H58,6[10C60%[38;6H[?25h[?25l[44;93H:[38;6H[44;1H[K[44;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[38;10H[1;1H[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;
[38;5;130m 34 
 35 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 36 [m}
[38;5;130m 37 
 38 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 39 [m[32mstatic[m [32mvoid[m
[38;5;130m 40 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 41 [m{
[38;5;130m 42 [m  [34m//go thru chain of keyValues[m
[38;5;130m 43 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
[38;5;130m 44 [m    free(p); [34m//free KeyValue struct[m
[38;5;130m 45 [m  }
[38;5;130m 46 [m}
[38;5;130m 47 
 48 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m
[38;5;130m 49 [m[34m *  Jabberwocky with value being the index of the word.[m
[38;5;130m 50 [m[34m */[m
[38;5;130m 51 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 52 [mmake_key_values([32mvoid[m) {
[38;5;130m 53 [m  [32mconst[m [32mchar[m *keys[] = {
[38;5;130m 54 [m    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[1C[31mand"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m
[38;5;130m 55 [m[34m    [m[1C[31mdid"[m[34m, [m[31m"gyre"[m[34m, [m[1C[31mand"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"wabe"[m[34m,[m
[38;5;130m 56 [m[34m    [m[1C[31mall"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"borogoves"[m[34m,[m
[38;5;130m 57 [m[34m    [m[1C[31mand"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m
[38;5;130m 58 [m[34m  };*/[m
[38;5;130m 59 [m  [32mstruct[m KeyValue *p = [31mNULL[m;
[38;5;130m 60 [m  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
[38;5;130m 61 [m    p = add_key_value(p, keys[i], i);
[38;5;130m 62 [m  }
[38;5;130m 63 [m  [1C[38;5;130meturn[m p;[44;103H58,6[10C60%[38;10H[?25h[?25l[44;93H~@k[38;10H[44;93H   [38;10H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 64 [m}[44;1H[K[44;103H59,6[10C63%[38;10H[?25h[?25l[44;93H~@k[38;10H[44;93H   [38;10H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 65 [m[44;103H[K[44;103H60,6[10C66%[38;10H[?25h[?25l[44;93H~@k[38;10H[44;93H   [38;10H[1;43r[43;1H
[1;44r[43;1H[38;5;130m 66 [m[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m[44;103H[K[44;103H61,6[10C69%[38;10H[?25h[?25l[44;93Hi[38;10H[44;93H [38;10H[44;1H[1m-- INSERT --[m[44;103H[K[44;103H61,6[10C69%[38;10H[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[38;5;130m 67 [m[34m *  paired with their index in the verse.[m[44;103H[K[44;103H62,4[10C72%[36;62H[106m{[38;7H}[?25h[?25l[1;43r[m[43;1H
[1;44r[43;1H[38;5;130m 68 [m[34m */[m[44;103H[K[44;103H63,6[10C75%[35;62H{[37;7H}[38;10H[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[38;5;130m 69 [m[32mint[m main() {[44;103H[K[44;103H64,2[10C78%[26;27H[106m{[38;5H}[?25h[?25l[1;43r[m[43;1H
[1;44r[43;1H[38;5;130m 70 [m  [32mstruct[m KeyValue *keyValues = make_key_values();[44;103H[K[44;103H65,1[10C81%[25;27H{[37;5H}[38;5H[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[38;5;130m 71 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;103H[K[44;103H66,6[10C84%[38;10H[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[38;5;130m 72 [m    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[44;103H[K[44;103H67,6[10C87%[38;10H[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[38;5;130m 73 [m  }[44;103H[K[44;103H68,4[10C90%[38;8H[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[38;5;130m 74 [m  free_key_values(keyValues);[44;103H[K[44;103H69,6[10C93%[38;10H[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[38;5;130m 75 [m  [38;5;130mreturn[m [31m0[m;[44;103H[K[44;103H70,6[10C96%[38;10H[?25h[?25l[1;43r[43;1H
[1;44r[43;1H[38;5;130m 76 [m}[44;103H[K[44;103H71,6[10CBot[38;10H[?25h[?25l[44;104H2[39;10H[?25h[?25l[38;68H[106m{[40;7H}[m[44;104H3,4[40;8H[?25h[?25l[38;68H{[40;7H}[44;104H4,6[41;10H[?25h[?25l[38;68H[106m{[40;7H}[m[44;104H3,4[40;8H[?25h[?25l[38;68H{[40;7H}[44;104H2,6[39;10H[?25h[?25l[44;104H1[38;10H[?25h[?25l[44;104H0[37;10H[?25h[?25l[44;103H69[36;10H[?25h[?25l[44;104H8,4[35;8H[?25h[?25l[44;104H7,6[34;10H[?25h[?25l[44;104H6[33;10H[?25h[?25l[44;104H5,1[32;5H[?25h[?25l[19;27H[106m{[31;5H}[m[44;104H4,2[31;6H[?25h[?25l[19;27H{[31;5H}[44;104H3,6[30;10H[?25h[?25l[27;62H[106m{[29;7H}[m[44;104H2,4[29;8H[?25h[?25l[27;62H{[29;7H}[44;104H1,6[28;10H[?25h[?25l[44;104H0[27;10H[?25h[?25l[44;103H59[26;10H[?25h[?25l[44;104H8[25;10H[?25h[?25l[44;104H7[24;10H[?25h[?25l[44;104H6[23;10H[?25h[?25l[44;104H5[22;10H[?25h[?25l[44;104H4[21;10H[?25h[?25l[44;104H3[20;10H[?25h[?25l[44;104H2[19;10H[?25h[?25l[44;104H1[18;10H[?25h[?25l[44;104H0,4[17;8H[?25h[?25l[44;103H49,6[16;10H[?25h[?25l[44;104H8[15;10H[?25h[?25l[44;104H7,1[14;5H[?25h[?25l[8;5H[106m{[13;5H}[m[44;104H6,2[13;6H[?25h[?25l[8;5H{[10;68H[106m{[12;7H}[m[13;5H}[44;104H5,4[12;8H[?25h[?25l[10;68H{[12;7H}[44;104H4,6[11;10H[?25h[?25l[44;104H3[10;10H[?25h[?25l[44;104H2[9;10H[?25h[?25l[8;5H[106m{[13;5H}[m[44;104H1,2[8;6H[?25h[?25l{[13;5H}[44;104H0,6[7;10H[?25h[?25l[44;103H39[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;[44;103H[K[44;103H38,6[10C96%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 32 [m  [34m//initialize fields of *kv.[m[44;103H[K[44;103H37,1[10C93%[6;5H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 31 [m[44;103H[K[44;103H36,2[10C90%[6;6H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m[44;103H[K[44;103H35,6[10C87%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 29 [m  }[44;103H[K[44;103H34,1[10C84%[6;5H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 28 [m    exit([31m1[m);[44;103H[K[44;103H33,6[10C81%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));[44;103H[K[44;103H32,6[10C78%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m[44;103H[K[44;103H31,1[10C75%[6;5H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 25 [m[44;103H[K[44;103H30,6[10C72%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));[44;103H[K[44;103H29,4[10C69%[3;36H[106m{[6;7H}[?25h[?25l[1;43r[m[1;1H[L[1;44r[1;1H[38;5;130m 23 [m  [34m//allocate storage for string pointed to by k[m[44;103H[K[44;103H28,6[10C66%[4;36H{[7;7H}[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 22 [m[44;103H[K[44;103H27,6[10C63%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));[44;103H[K[44;103H26,6[10C60%[6;10H[106m([23C)[6;10H[?25h[?25l[1;43r[m[1;1H[L[1;44r[1;1H[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m[44;103H[K[44;103H25,1[10C57%[7;10H([23C)[6;5H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 19 [m{[44;103H[K[44;103H24,6[10C54%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)[44;103H[K[44;103H23,6[10C51%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *[44;103H[K[44;103H22,1[10C48%[6;5H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 16 [m[34m */[m[44;103H[K[44;103H21,6[10C45%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 15 [m[34m *  resulting chain.[m[44;103H[K[44;103H20,6[10C42%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m[44;103H[K[44;103H19,2[10C39%[6;5H[106m{[23;5H}[6;6H[?25h[?25l[1;43r[m[1;1H[L[1;44r[1;1H[38;5;130m 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m[44;103H[K[44;103H18,6[10C36%[7;5H{[24;5H}[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 12 [m[44;103H[K[44;103H17,6[10C33%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 11 [m};[44;103H[K[44;103H16,4[10C30%[6;8H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m[44;103H[K[44;103H15,6[10C27%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  9 [m  [32mint[m value;[13C[34m/** integer value */[m[44;103H[K[44;103H14,6[10C24%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m[44;103H[K[44;103H13,6[10C21%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  7 [m[32mstruct[m KeyValue {[44;103H[K[44;103H12,1[10C18%[6;5H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m[44;103H[K[44;103H11,3[10C15%[6;7H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  5 [m[44;103H[K[44;103H10,6[10C12%[6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  4 [m[35m#include [m[31m<string.h>[m[44;103H[K[44;103H9,6[12C9%[6;10H[?25h[?25l[44;103H10,6[7;10H[?25h[?25l[44;104H1,3[8;7H[?25h[?25l[44;104H2,1[9;5H[?25h[?25l[44;104H3,6[10;10H[?25h[?25l[44;104H4[11;10H[?25h[?25l[44;104H5[12;10H[?25h[?25l[44;104H6,4[13;8H[?25h[?25l[44;104H7,6[14;10H[?25h[?25l[44;104H8[15;10H[?25h[?25l[16;5H[106m{[33;5H}[m[44;104H9,2[16;6H[?25h[?25l{[33;5H}[44;104H8,6[15;10H[?25h[?25l[44;104H7[14;10H[?25h[?25l[44;104H6,4[13;8H[?25h[?25l[44;104H5,6[12;10H[?25h[?25l[44;104H4[11;10H[?25h[?25l[44;104H3[10;10H[?25h[?25l[44;104H2,1[9;5H[?25h[?25l[44;104H1,3[8;7H[?25h[?25l[44;104H0,6[7;10H[?25h[?25l[44;103H9,6 [6;10H[?25h[?25l[1;43r[1;1H[L[1;44r[1;1H[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m[44;103H[K[44;103H8,6[12C6%[6;10H[?25h[?25l[44;103H9[7;10H[?25h[?25l[44;103H10,6[8;10H[?25h[?25l[44;104H1,3[9;7H[?25h[?25l[44;104H2,1[10;5H[?25h[?25l[44;104H3,6[11;10H[?25h[?25l[44;104H4[12;10H[?25h[?25l[44;104H5[13;10H[?25h[?25l[44;104H6,4[14;8H[?25h[?25l[44;104H7,6[15;10H[?25h[?25l[44;104H8[16;10H[?25h[?25l[17;5H[106m{[34;5H}[m[44;104H9,2[17;6H[?25h[?25l{[34;5H}[44;103H20,6[18;10H[?25h[?25l[44;104H1[19;10H[?25h[?25l[44;104H2,1[20;5H[?25h[?25l[44;104H3,6[21;10H[?25h[?25l[44;104H2,1[20;5H[?25h[?25l[44;104H1,6[19;10H[?25h[?25l[44;106H7[19;11H[?25h[?25l[44;106H8[19;12H[?25h[?25l[44;106H9[19;13H[?25h[?25l[44;106H10[19;14H[?25h[?25l[44;107H1[19;15H[?25h[?25l[44;107H2[19;16H[?25h[?25l[44;107H3[19;17H[?25h[?25l[44;107H4[19;18H[?25h[?25l[44;107H5[19;19H[?25h[?25l[44;107H6[19;20H[?25h[?25l[44;107H7[19;21H[?25h[?25l[44;107H8[19;22H[?25h[?25l[44;107H9[19;23H[?25h[?25l[44;106H20[19;24H[?25h[?25l[44;107H1[19;25H[?25h[?25l[44;107H2[19;26H[?25h[?25l[44;107H3[19;27H[?25h[?25l[44;107H4[19;28H[?25h[?25l[44;107H5[19;29H[?25h[?25l[44;107H6[19;30H[?25h[?25l[44;107H7[19;31H[?25h[?25l[44;107H8[19;32H[?25h[?25l[44;107H9[19;33H[?25h[?25l[44;106H30[19;34H[?25h[?25lc[106m([25C)[m[44;107H1[19;35H[?25h[?25l[44;107H2[19;36H[?25h[?25l([25C)[44;107H3[19;37H[?25h[?25l[44;107H4[19;38H[?25h[?25l[44;107H5[19;39H[?25h[?25l[44;107H6[19;40H[?25h[?25l[44;107H7[19;41H[?25h[?25l[1C[106m([17C)[m[44;107H8[19;42H[?25h[?25l[44;107H9[19;43H[?25h[?25l([17C)[44;106H40[19;44H[?25h[?25l[44;107H1[19;45H[?25h[?25l[44;107H2[19;46H[?25h[?25l[44;107H3[19;47H[?25h[?25l[44;107H4[19;48H[?25h[?25l[44;107H5[19;49H[?25h[?25l[44;107H6[19;50H[?25h[?25l[44;107H7[19;51H[?25h[?25l[44;107H8[19;52H[?25h[?25l[44;107H9[19;53H[?25h[?25l[44;106H50[19;54H[?25h[?25l[44;107H1[19;55H[?25h[?25l[44;104H2,1 [20;5H[?25h[?25l[44;104H1,51[19;55H[?25h[?25l[44;107H0[19;54H[?25h[?25l[44;106H49[19;53H[?25h[?25l[44;107H8[19;52H[?25h[?25l[44;107H7[19;51H[?25h[?25l[44;107H6[19;50H[?25h[?25l[44;107H5[19;49H[?25h[?25l[44;107H4[19;48H[?25h[?25l[44;107H3[19;47H[?25h[?25l[44;107H2[19;46H[?25h[?25l[44;107H1[19;45H[?25h[?25l[44;107H0[19;44H[?25h[?25l[106m([17C)[m[44;106H39[19;43H[?25h[?25l[44;107H8[19;42H[?25h[?25l([17C)[44;107H7[19;41H[?25h[?25l[44;107H6[19;40H[?25h[?25l[44;107H5[19;39H[?25h[?25l[44;107H4[19;38H[?25h[?25l[44;107H3[19;37H[?25h[?25l[106m([25C)[m[44;107H2[19;36H[?25h[?25l([25C)[44;107H3[19;37H[?25h[?25l[44;107H4[19;38H[?25h[?25l[44;107H5[19;39H[?25h[?25l[44;107H6[19;40H[?25h[?25l[44;107H7[19;41H[?25h[?25l[1C[106m([17C)[m[44;107H8[19;42H[?25h[?25l[44;107H9[19;43H[?25h[?25l([17C)[44;106H40[19;44H[?25h[?25l[44;107H1[19;45H[?25h[?25l[44;107H2[19;46H[?25h[?25l[44;107H3[19;47H[?25h[?25l[44;107H4[19;48H[?25h[?25l[44;107H5[19;49H[?25h[?25l[44;107H6[19;50H[?25h[?25l[44;107H7[19;51H[?25h[?25l[44;107H8[19;52H[?25h[?25l[44;107H9[19;53H[?25h[?25l[44;106H50[19;54H[?25h[?25l[44;107H1[19;55H[?25h[?25l[44;107H2[19;56H[?25h[?25l[44;107H3[19;57H[?25h[?25l[44;107H4[19;58H[?25h[?25l[44;104H2,1 [20;5H[?25h[?25l[44;104H3,48[21;52H[?25h[?25l[44;104H4,31[22;35H[?25h[?25lq[44;107H2[22;36H[?25h[44;1H[K[22;35H[?25l[44;93H^[[22;35H[44;93H  [22;36H[44;103H24,31[10C6%[22;35H[?25h[?25l[44;93Hgq[22;35H[?25h[?25l[44;95Hq[22;35H[44;93H   [22;7H[44;107H [22;7H[?25h[?25l[44;93Hq[22;7H[?25h[?25l[44;94Hq[22;7H[44;1H[1mrecording @q[m[44;93H[K[44;103H24,3[11C6%[22;7H[?25h[?25l[44;93Hq[22;7H[44;1H[K[22;7H[44;103H24,3[11C6%[22;7H[?25h[?25l[44;93Hq[22;7H[?25h[?25l[44;94Hq[22;7H[44;1H[1mrecording @q[m[44;93H[K[44;103H24,3[11C6%[22;7H[?25h[?25l[44;93Hq[22;7H[44;1H[K[22;7H[44;103H24,3[11C6%[22;7H[?25h[?25l[44;93Hq[22;7H[?25h[?25l[44;94Hq[22;7H[44;1H[1mrecording @q[m[44;93H[K[44;103H24,3[11C6%[22;7H[?25h[?25l[44;93Hq[22;7H[44;1H[K[22;7H[44;103H24,3[11C6%[22;7H[?25h[?25l[44;93Hq[22;7H[?25h[?25l[44;94Hq[22;7H[44;1H[1mrecording @q[m[44;93H[K[44;103H24,3[11C6%[22;7H[?25h[?25l[44;93H:[22;7H[44;1H[K[44;1H:[?2004h[?25hq[?25l[?25h![?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[44;1H[K[44;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ man malloc
[?1049h[22;0;0t[?1h=MALLOC(3)                                     Linux Programmer's Manual                                     MALLOC(3)[m
[m
[1mNAME[0m[m
       malloc, free, calloc, realloc - allocate and free dynamic memory[m
[m
[1mSYNOPSIS[0m[m
       [1m#include[0m [1m<stdlib.h>[0m[m
[m
       [1mvoid[0m [1m*malloc(size_t[0m [4msize[24m[1m);[0m[m
       [1mvoid[0m [1mfree(void[0m [4m*ptr[24m[1m);[0m[m
       [1mvoid[0m [1m*calloc(size_t[0m [4mnmemb[24m[1m,[0m [1msize_t[0m [4msize[24m[1m);[0m[m
       [1mvoid[0m [1m*realloc(void[0m [4m*ptr[24m[1m,[0m [1msize_t[0m [4msize[24m[1m);[0m[m
       [1mvoid[0m [1m*reallocarray(void[0m [4m*ptr[24m[1m,[0m [1msize_t[0m [4mnmemb[24m[1m,[0m [1msize_t[0m [4msize[24m[1m);[0m[m
[m
   Feature Test Macro Requirements for glibc (see [1mfeature_test_macros[0m(7)):[m
[m
       [1mreallocarray[0m(): _GNU_SOURCE[m
           Since glibc 2.29:[m
               _DEFAULT_SOURCE[m
           Glibc 2.28 and earlier:[m
               _GNU_SOURCE[m
[m
[1mDESCRIPTION[0m[m
       The  [1mmalloc[0m()  function allocates [4msize[24m bytes and returns a pointer to the allocated memory.  [4mThe[24m [4mmemory[24m [4mis[24m [4mnot[24m[m
       [4minitialized[24m.  If [4msize[24m is 0, then [1mmalloc[0m() returns either NULL, or a unique pointer value  that  can  later  be[m
       successfully passed to [1mfree[0m().[m
[m
       The [1mfree[0m() function frees the memory space pointed to by [4mptr[24m, which must have been returned by a previous call[m
       to [1mmalloc[0m(), [1mcalloc[0m(), or [1mrealloc[0m().  Otherwise, or if [4mfree(ptr)[24m has already been called before, undefined be‐[m
       havior occurs.  If [4mptr[24m is NULL, no operation is performed.[m
[m
       The [1mcalloc[0m() function allocates memory for an array of [4mnmemb[24m elements of [4msize[24m bytes each and returns a pointer[m
       to the allocated memory.  The memory is set to zero.  If [4mnmemb[24m or [4msize[24m is  0,  then  [1mcalloc[0m()  returns  either[m
       NULL,  or  a  unique  pointer value that can later be successfully passed to [1mfree[0m().  If the multiplication of[m
       [4mnmemb[24m and [4msize[24m would result in integer overflow, then [1mcalloc[0m() returns an  error.   By  contrast,  an  integer[m
       overflow  would  not  be detected in the following call to [1mmalloc[0m(), with the result that an incorrectly sized[m
       block of memory would be allocated:[m
[m
           malloc(nmemb * size);[m
[m
       The [1mrealloc[0m() function changes the size of the memory block pointed to by [4mptr[24m to  [4msize[24m  bytes.   The  contents[m
       will  be  unchanged  in the range from the start of the region up to the minimum of the old and new sizes.  If[m
       the new size is larger than the old size, the added memory will [4mnot[24m be initialized.  If [4mptr[24m is NULL, then  the[m
[7m Manual page malloc(3) line 1 (press h for help or q to quit)[27m[K[K[?1l>[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ man mallocvi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;44r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[44;1H"bug-program.c" 76L, 2205C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s; kv->value = v; kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//go thru chain of keyValues[m
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;103H24,3[10CTop[24;3H[?25h[?25l[44;93H:[24;3H[44;1H[K[44;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[44;10H[K[44;10H[?25h[?25l[44;9H[K[44;9H[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[24;7H[1;1H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m
[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m
[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;       [34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[9C    [34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;
[38;5;130m 34 
 35 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 36 [m}
[38;5;130m 37 
 38 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 39 [m[32mstatic[m [32mvoid[m
[38;5;130m 40 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 41 [m{
[38;5;130m 42 [m  [34m//go thru chain of keyValues[m
[38;5;130m 43 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;103H24,3[10CTop[24;7H[?25h[?25l[44;93H~@k[24;7H[44;93H   [25;5H[44;104H5,0-1[25;5H[?25h[?25l[44;93Hi[25;5H[44;93H [25;5H[44;1H[1m-- INSERT --[m[44;103H[K[44;103H25,1[10CTop[25;5H[?25h[?25lq[44;106H2[25;6H[?25h[?25l[25;5H[K[44;106H1[25;5H[?25h[44;1H[K[25;5H[?25l[44;93H^[[25;5H[44;93H  [25;5H[44;103H25,0-1[8CTop[25;5H[?25h[?25l[44;93H:[25;5H[44;93H[K[44;1H:[?2004h[?25hq[?25l[?25h![?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[44;1H[K[44;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ lsvi bug-program.c[6Pman mallocvi bug-program.c[2@nano[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi bug-program.valgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;44r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[44;1H"bug-program.valgrind" 270L, 16323C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2897718== ERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)
==2897718==
==2897718== 1 errors in context 1 of 8:
==2897718== Invalid read of size 8
==2897718==    at 0x109205: free_key_values (bug-program.c:43)
==2897718==    by 0x109205: main (bug-program.c:74)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 free'd
==2897718==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2897718==    by 0x109204: free_key_values (bug-program.c:44)
==2897718==    by 0x109204: main (bug-program.c:74)
==2897718==  Block was alloc'd at
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 2 of 8:
==2897718== Invalid read of size 8
==2897718==    at 0x1091F4: main (bug-program.c:71)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 3 of 8:
==2897718== Invalid read of size 1
==2897718==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2897718==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2897718==    by 0x48D6605: printf (printf.c:33)
==2897718==    by 0x1091F3: main (bug-program.c:72)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 4 of 8:
==2897718== Invalid read of size 4
==2897718==    at 0x1091E1: main (bug-program.c:72)[44;103H206,1[9C81%[22;1H[?25h[?25l[44;93H~@k[22;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2897718== Invalid read of size 4
==2897718==    at 0x1091E1: main (bug-program.c:72)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 5 of 8:
==2897718== Invalid write of size 8
==2897718==    at 0x1091CF: add_key_value (bug-program.c:33)
==2897718==    by 0x1091CF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091CF: main (bug-program.c:70)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 6 of 8:
==2897718== Invalid write of size 4
==2897718==    at 0x1091C8: add_key_value (bug-program.c:33)
==2897718==    by 0x1091C8: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C8: main (bug-program.c:70)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 7 of 8:
==2897718== Invalid write of size 1
==2897718==    at 0x1091C0: add_key_value (bug-program.c:30)
==2897718==    by 0x1091C0: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C0: main (bug-program.c:70)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)[44;103H231,1[9C99%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [38;1H[27m[23m[29m[m[H[2J[1;1H==2897718== ERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)
==2897718==
==2897718== 1 errors in context 1 of 8:
==2897718== Invalid read of size 8
==2897718==    at 0x109205: free_key_values (bug-program.c:43)
==2897718==    by 0x109205: main (bug-program.c:74)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 free'd
==2897718==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2897718==    by 0x109204: free_key_values (bug-program.c:44)
==2897718==    by 0x109204: main (bug-program.c:74)
==2897718==  Block was alloc'd at
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 2 of 8:
==2897718== Invalid read of size 8
==2897718==    at 0x1091F4: main (bug-program.c:71)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 3 of 8:
==2897718== Invalid read of size 1
==2897718==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2897718==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2897718==    by 0x48D6605: printf (printf.c:33)
==2897718==    by 0x1091F3: main (bug-program.c:72)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 4 of 8:
==2897718== Invalid read of size 4
==2897718==    at 0x1091E1: main (bug-program.c:72)[44;103H222,1[9C81%[38;1H[?25h[?25l[44;93H~@k[38;1H[44;93H   [38;1H[27m[23m[29m[m[H[2J[1;1H==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
--2897718-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2897718== Invalid read of size 8
==2897718==    at 0x109205: free_key_values (bug-program.c:43)
==2897718==    by 0x109205: main (bug-program.c:74)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 free'd
==2897718==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2897718==    by 0x109204: free_key_values (bug-program.c:44)
==2897718==    by 0x109204: main (bug-program.c:74)
==2897718==  Block was alloc'd at
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== HEAP SUMMARY:
==2897718==     in use at exit: 4 bytes in 1 blocks
==2897718==   total heap usage: 3 allocs, 2 frees, 1,036 bytes allocated
==2897718==
==2897718== Searching for pointers to 1 not-freed blocks
==2897718== Checked 69,560 bytes
==2897718==
==2897718== 4 bytes in 1 blocks are definitely lost in loss record 1 of 1
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718== LEAK SUMMARY:
==2897718==    definitely lost: 4 bytes in 1 blocks
==2897718==    indirectly lost: 0 bytes in 0 blocks
==2897718==      possibly lost: 0 bytes in 0 blocks
==2897718==    still reachable: 0 bytes in 0 blocks
==2897718==[9Csuppressed: 0 bytes in 0 blocks
==2897718==
==2897718== ERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)
==2897718==[44;103H181,1[9C62%[38;1H[?25h[?25l[44;93H~@k[38;1H[44;93H   [38;1H[27m[23m[29m[m[H[2J[1;1H==2897718==    by 0x1091C8: main (bug-program.c:70)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718== Invalid write of size 8
==2897718==    at 0x1091CF: add_key_value (bug-program.c:33)
==2897718==    by 0x1091CF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091CF: main (bug-program.c:70)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718== Invalid read of size 4
==2897718==    at 0x1091E1: main (bug-program.c:72)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
--2897718-- REDIR: 0x49d9db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)
--2897718-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
==2897718== Invalid read of size 1
==2897718==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2897718==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2897718==    by 0x48D6605: printf (printf.c:33)
==2897718==    by 0x1091F3: main (bug-program.c:72)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
--2897718-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
==2897718== Invalid read of size 8
==2897718==    at 0x1091F4: main (bug-program.c:71)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)[44;103H140,1[9C44%[38;1H[?25h[?25l[44;93H~@k[38;1H[44;93H   [38;1H[27m[23m[29m[m[H[2J[1;1H--2897718-- REDIR: 0x4921230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4920cd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49070e0 (libc.so.6:mempcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906f10 (libc.so.6:bcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906100 (libc.so.6:strncmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905be0 (libc.so.6:strcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4907040 (libc.so.6:memset) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4920ca0 (libc.so.6:wcschr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49060a0 (libc.so.6:strnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905c70 (libc.so.6:strcspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49072a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49073e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49224d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49061c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x490d280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49072f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4920db0 (libc.so.6:wcslen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906460 (libc.so.6:strspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4907220 (libc.so.6:stpncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49071f0 (libc.so.6:stpcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49088c0 (libc.so.6:strchrnul) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4907340 (libc.so.6:strncasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49d9fa0 (libc.so.6:__strrchr_avx2) redirected to 0x4838790 (rindex)
--2897718-- REDIR: 0x4902350 (libc.so.6:malloc) redirected to 0x4835710 (malloc)
==2897718== Invalid write of size 1
==2897718==    at 0x1091C0: add_key_value (bug-program.c:30)
==2897718==    by 0x1091C0: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C0: main (bug-program.c:70)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718== Invalid write of size 4
==2897718==    at 0x1091C8: add_key_value (bug-program.c:33)
==2897718==    by 0x1091C8: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C8: main (bug-program.c:70)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd[44;103H99,1[10C26%[38;1H[?25h[?25l[44;93H~@k[38;1H[44;93H   [38;1H[27m[23m[29m[m[H[2J[1;1H--2897718--    object doesn't have a dynamic symbol table
--2897718-- Scheduler: using generic scheduler lock implementation.
--2897718-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp
==2897718== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2897718-by-fantona1-on-???
==2897718== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2897718-by-fantona1-on-???
==2897718== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2897718-by-fantona1-on-???
==2897718==
==2897718== TO CONTROL THIS PROCESS USING vgdb (which you probably
==2897718== don't want to do, unless you know exactly what you're doing,
==2897718== or are doing some strange experiment):
==2897718==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2897718 ...command...
==2897718==
==2897718== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==2897718==   /path/to/gdb ./bug-program
==2897718== and then give GDB the following command
==2897718==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2897718
==2897718== --pid is optional if only one valgrind process is running
==2897718==
--2897718-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strlee[20;1Hn)
--2897718-- REDIR: 0x401e0d0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (vgPlain_amd64_linux_REDIR_FOR_index)[22;1H--2897718-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_core-amd64-linux.so
--2897718--   Considering /usr/lib/debug/.build-id/34/fbc4cdfbfce1bfc3d2e522a01a050bf724c930.debug ..
--2897718--   .. build-id is valid
--2897718-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so
--2897718--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..
--2897718--   .. build-id is valid
==2897718== WARNING: new redirection conflicts with existing -- ignoring it
--2897718--     old: 0x0401e2f0 (strlen[14C) R-> (0000.0) 0x580c9ce2 vgPlain_amd64_linux_REDIR_FOR_strlen
--2897718--     new: 0x0401e2f0 (strlen[14C) R-> (2007.0) 0x04838d80 strlen
--2897718-- REDIR: 0x401ab10 (ld-linux-x86-64.so.2:strcmp) redirected to 0x4839e40 (strcmp)
--2897718-- REDIR: 0x401e830 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x483d860 (mempcpy)
--2897718-- Reading syms from /lib/x86_64-linux-gnu/libc-2.28.so
--2897718--   Considering /usr/lib/debug/.build-id/18/b9a9a8c523e5cfe5b5d946d605d09242f09798.debug ..
--2897718--   .. build-id is valid
--2897718-- REDIR: 0x4906f70 (libc.so.6:memmove) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906160 (libc.so.6:strncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4907250 (libc.so.6:strcasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905b70 (libc.so.6:strcat) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906190 (libc.so.6:rindex) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4908890 (libc.so.6:rawmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4921230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4920cd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[44;103H58,1[11C9%[38;1H[?25h[?25l[44;93H~@k[38;1H[44;93H   [24;1H[1;43r[1;1H[22L[1;44r[1;1H==2897718== Memcheck, a memory error detector
==2897718== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2897718== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info
==2897718== Command: ./bug-program
==2897718==
--2897718-- Valgrind options:
--2897718--    -v
--2897718--    --leak-check=yes
--2897718-- Contents of /proc/version:
--2897718--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), GNN[11;1HU ld (GNU Binutils for Debian) 2.31.1) #1 SMP Debian 5.7.10-1~bpo10+1 (2020-07-30)
--2897718--
--2897718-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi
--2897718-- Page sizes: currently 4096, max supported 4096
--2897718-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind
--2897718-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program[17;1H--2897718-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so
--2897718--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..
--2897718--   .. build-id is valid
--2897718-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux
--2897718--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..
--2897718--   .. build-id is valid[44;103H[K[44;103H23,1[10CTop[24;1H[?25h[?25l[44;93H~@k[24;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H--2897718-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strlee[2;1Hn)
--2897718-- REDIR: 0x401e0d0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (vgPlain_amd64_linux_REDIR_FOR_index)[4;1H--2897718-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_core-amd64-linux.so
--2897718--   Considering /usr/lib/debug/.build-id/34/fbc4cdfbfce1bfc3d2e522a01a050bf724c930.debug ..
--2897718--   .. build-id is valid
--2897718-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so
--2897718--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..
--2897718--   .. build-id is valid
==2897718== WARNING: new redirection conflicts with existing -- ignoring it
--2897718--     old: 0x0401e2f0 (strlen[14C) R-> (0000.0) 0x580c9ce2 vgPlain_amd64_linux_REDIR_FOR_strlen
--2897718--     new: 0x0401e2f0 (strlen[14C) R-> (2007.0) 0x04838d80 strlen
--2897718-- REDIR: 0x401ab10 (ld-linux-x86-64.so.2:strcmp) redirected to 0x4839e40 (strcmp)
--2897718-- REDIR: 0x401e830 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x483d860 (mempcpy)
--2897718-- Reading syms from /lib/x86_64-linux-gnu/libc-2.28.so
--2897718--   Considering /usr/lib/debug/.build-id/18/b9a9a8c523e5cfe5b5d946d605d09242f09798.debug ..
--2897718--   .. build-id is valid
--2897718-- REDIR: 0x4906f70 (libc.so.6:memmove) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906160 (libc.so.6:strncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4907250 (libc.so.6:strcasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905b70 (libc.so.6:strcat) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906190 (libc.so.6:rindex) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4908890 (libc.so.6:rawmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4921230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4920cd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49070e0 (libc.so.6:mempcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906f10 (libc.so.6:bcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906100 (libc.so.6:strncmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905be0 (libc.so.6:strcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4907040 (libc.so.6:memset) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4920ca0 (libc.so.6:wcschr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49060a0 (libc.so.6:strnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905c70 (libc.so.6:strcspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49072a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49073e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49224d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49061c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4905ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x490d280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49072f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)[44;103H44,1[10C17%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H--2897718-- REDIR: 0x49072f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4920db0 (libc.so.6:wcslen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4906460 (libc.so.6:strspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4907220 (libc.so.6:stpncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49071f0 (libc.so.6:stpcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49088c0 (libc.so.6:strchrnul) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x4907340 (libc.so.6:strncasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2897718-- REDIR: 0x49d9fa0 (libc.so.6:__strrchr_avx2) redirected to 0x4838790 (rindex)
--2897718-- REDIR: 0x4902350 (libc.so.6:malloc) redirected to 0x4835710 (malloc)
==2897718== Invalid write of size 1
==2897718==    at 0x1091C0: add_key_value (bug-program.c:30)
==2897718==    by 0x1091C0: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C0: main (bug-program.c:70)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718== Invalid write of size 4
==2897718==    at 0x1091C8: add_key_value (bug-program.c:33)
==2897718==    by 0x1091C8: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C8: main (bug-program.c:70)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718== Invalid write of size 8
==2897718==    at 0x1091CF: add_key_value (bug-program.c:33)
==2897718==    by 0x1091CF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091CF: main (bug-program.c:70)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718== Invalid read of size 4
==2897718==    at 0x1091E1: main (bug-program.c:72)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd[44;103H85,1[10C34%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2897718==    at 0x1091E1: main (bug-program.c:72)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
--2897718-- REDIR: 0x49d9db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)
--2897718-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
==2897718== Invalid read of size 1
==2897718==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2897718==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2897718==    by 0x48D6605: printf (printf.c:33)
==2897718==    by 0x1091F3: main (bug-program.c:72)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
--2897718-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
==2897718== Invalid read of size 8
==2897718==    at 0x1091F4: main (bug-program.c:71)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
--2897718-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2897718== Invalid read of size 8
==2897718==    at 0x109205: free_key_values (bug-program.c:43)
==2897718==    by 0x109205: main (bug-program.c:74)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 free'd
==2897718==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2897718==    by 0x109204: free_key_values (bug-program.c:44)
==2897718==    by 0x109204: main (bug-program.c:74)
==2897718==  Block was alloc'd at
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==[44;103H126,1[9C52%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== HEAP SUMMARY:
==2897718==     in use at exit: 4 bytes in 1 blocks
==2897718==   total heap usage: 3 allocs, 2 frees, 1,036 bytes allocated
==2897718==
==2897718== Searching for pointers to 1 not-freed blocks
==2897718== Checked 69,560 bytes
==2897718==
==2897718== 4 bytes in 1 blocks are definitely lost in loss record 1 of 1
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718== LEAK SUMMARY:
==2897718==    definitely lost: 4 bytes in 1 blocks
==2897718==    indirectly lost: 0 bytes in 0 blocks
==2897718==      possibly lost: 0 bytes in 0 blocks
==2897718==    still reachable: 0 bytes in 0 blocks
==2897718==[9Csuppressed: 0 bytes in 0 blocks
==2897718==
==2897718== ERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)
==2897718==
==2897718== 1 errors in context 1 of 8:
==2897718== Invalid read of size 8
==2897718==    at 0x109205: free_key_values (bug-program.c:43)
==2897718==    by 0x109205: main (bug-program.c:74)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 free'd
==2897718==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2897718==    by 0x109204: free_key_values (bug-program.c:44)
==2897718==    by 0x109204: main (bug-program.c:74)
==2897718==  Block was alloc'd at
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 2 of 8:
==2897718== Invalid read of size 8
==2897718==    at 0x1091F4: main (bug-program.c:71)[44;103H167,1[9C70%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2897718== Invalid read of size 8
==2897718==    at 0x1091F4: main (bug-program.c:71)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 3 of 8:
==2897718== Invalid read of size 1
==2897718==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2897718==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2897718==    by 0x48D6605: printf (printf.c:33)
==2897718==    by 0x1091F3: main (bug-program.c:72)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 4 of 8:
==2897718== Invalid read of size 4
==2897718==    at 0x1091E1: main (bug-program.c:72)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 5 of 8:
==2897718== Invalid write of size 8
==2897718==    at 0x1091CF: add_key_value (bug-program.c:33)
==2897718==    by 0x1091CF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091CF: main (bug-program.c:70)
==2897718==  Address 0x4a42050 is 8 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==[44;103H208,1[9C88%[6;1H[?25h[?25l[44;93H~@k[6;1H[44;93H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 6 of 8:
==2897718== Invalid write of size 4
==2897718==    at 0x1091C8: add_key_value (bug-program.c:33)
==2897718==    by 0x1091C8: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C8: main (bug-program.c:70)
==2897718==  Address 0x4a42048 is 0 bytes after a block of size 8 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091A2: add_key_value (bug-program.c:21)
==2897718==    by 0x1091A2: make_key_values (bug-program.c:61)
==2897718==    by 0x1091A2: main (bug-program.c:70)
==2897718==
==2897718==
==2897718== 1 errors in context 7 of 8:
==2897718== Invalid write of size 1
==2897718==    at 0x1091C0: add_key_value (bug-program.c:30)
==2897718==    by 0x1091C0: make_key_values (bug-program.c:61)
==2897718==    by 0x1091C0: main (bug-program.c:70)
==2897718==  Address 0x4a42094 is 0 bytes after a block of size 4 alloc'd
==2897718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2897718==    by 0x1091AF: add_key_value (bug-program.c:24)
==2897718==    by 0x1091AF: make_key_values (bug-program.c:61)
==2897718==    by 0x1091AF: main (bug-program.c:70)
==2897718==
==2897718== ERROR SUMMARY: 8 errors from 8 contexts (suppressed: 0 from 0)
[94m~                                                                                                                       [29;1H~                                                                                                                       [30;1H~                                                                                                                       [31;1H~                                                                                                                       [32;1H~                                                                                                                       [33;1H~                                                                                                                       [34;1H~                                                                                                                       [35;1H~                                                                                                                       [36;1H~                                                                                                                       [37;1H~                                                                                                                       [38;1H~                                                                                                                       [39;1H~                                                                                                                       [40;1H~                                                                                                                       [41;1H~                                                                                                                       [42;1H~                                                                                                                       [43;1H~                                                                                                                       [m[44;103H249,1[9CBot[6;1H[?25h[?25l[44;93H^[[6;1H[44;93H  [6;1H[44;93H^[[6;1H[44;93H  [6;1H[?25h[?25l[44;93H:[6;1H[44;93H[K[44;1H:[?2004h[?25hq[?25l[?25h1[?25l[?25h[?25l[44;3H[K[44;3H[?25h![?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[44;1H[K[44;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ cd [K[K[Knano bug-pro[K[K[K[K[K[K[K[K[K[K[K[Kcp bug-program bug-program.old[K[K[Kc.old. bug-program.c.oldc bug-program.c.old
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.c.old  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ na[K[Kvi bug-progra,[Kmc[K.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;44r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[44;1H"bug-program.c" 76L, 2205C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s; kv->value = v; kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//go thru chain of keyValues[m
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;103H25,0-1[8CTop[25;1H[?25h[?25l[44;93H/[25;1H[44;1H[K[44;1H/[?2004h[?25h [?25l[25;1H[44;103H25,0-1[8CTop[25;1H[?25h[?25l[44;93H:[25;1H[44;93H[K[44;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[25;5H[1;1H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m
[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m
[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;       [34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[9C    [34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;
[38;5;130m 34 
 35 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 36 [m}
[38;5;130m 37 
 38 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 39 [m[32mstatic[m [32mvoid[m
[38;5;130m 40 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 41 [m{
[38;5;130m 42 [m  [34m//go thru chain of keyValues[m
[38;5;130m 43 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[44;103H25,0-1[8CTop[25;5H[?25h[?25l[44;93H^[[25;5H[44;93H  [25;5H[44;93H^[[25;5H[44;93H  [25;5H[?25h[?25l[44;93H:[25;5H[44;1H[K[44;1H:[?2004h[?25h[?25l[44;1H[K[25;5H[44;103H25,0-1[8CTop[25;5H[?25h[?25l[44;93Hi[25;5H[44;93H [25;5H[44;1H[1m-- INSERT --[m[44;103H[K[44;103H25,1[10CTop[25;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[13C[34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;
[38;5;130m 34 
 35 [m  [38;5;130mreturn[m kv;
[38;5;130m 36 [m}
[38;5;130m 37 
 38 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 39 [m[32mstatic[m [32mvoid[m
[38;5;130m 40 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 41 [m{
[38;5;130m 42 [m  [34m//go thru chain of keyValues[m
[1m-- INSERT --[m[78C25,1[11C5%[23;5H[?25h[?25l[41;92H4[22;5H[?25h[?25l[41;92H3[21;5H[?25h[?25l[41;92H2[20;5H[?25h[?25l[41;92H1[19;5H[?25h[27m[23m[29m[m[H[2J[?25l[1;1H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m
[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m
[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[13C[34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue *));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;
[38;5;130m 34 
 35 [m  [38;5;130mreturn[m kv;
[38;5;130m 36 [m}
[38;5;130m 37 
 38 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 39 [m[32mstatic[m [32mvoid[m
[38;5;130m 40 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 41 [m{
[38;5;130m 42 [m  [34m//go thru chain of keyValues[m
[38;5;130m 43 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
[38;5;130m 44 [m    free(p); [34m//free KeyValue struct[m
[38;5;130m 45 [m  }
[38;5;130m 46 [m}
[38;5;130m 47 
 48 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m
[1m-- INSERT --[m[158C21,1[10CTop[21;5H[?25h[?25l[49;174H2[21;6H[?25h[?25l[49;174H3[21;7H[?25h[?25l[49;174H4[21;8H[?25h[?25l[49;174H5[21;9H[?25h[?25l[49;174H6[21;10H[?25h[?25l[49;174H7[21;11H[?25h[?25l[49;174H8[21;12H[?25h[?25l[49;174H9[21;13H[?25h[?25l[49;174H10[21;14H[?25h[?25l[49;175H1[21;15H[?25h[?25l[49;175H2[21;16H[?25h[?25l[49;175H3[21;17H[?25h[?25l[49;175H4[21;18H[?25h[?25l[49;175H5[21;19H[?25h[?25l[49;175H6[21;20H[?25h[?25l[49;175H7[21;21H[?25h[?25l[49;175H8[21;22H[?25h[?25l[49;175H9[21;23H[?25h[?25l[49;174H20[21;24H[?25h[?25l[49;175H1[21;25H[?25h[?25l[49;175H2[21;26H[?25h[?25l[49;175H3[21;27H[?25h[?25l[49;175H4[21;28H[?25h[?25l[49;175H5[21;29H[?25h[?25l[49;175H6[21;30H[?25h[?25l[49;175H7[21;31H[?25h[?25l[49;175H8[21;32H[?25h[?25l[49;175H9[21;33H[?25h[?25l[49;174H30[21;34H[?25h[?25lc[106m([25C)[m[49;175H1[21;35H[?25h[?25l[49;175H2[21;36H[?25h[?25l([25C)[49;175H3[21;37H[?25h[?25l[49;175H4[21;38H[?25h[?25l[49;175H5[21;39H[?25h[?25l[49;175H6[21;40H[?25h[?25l[49;175H7[21;41H[?25h[?25l[1C[106m([17C)[m[49;175H8[21;42H[?25h[?25l[49;175H9[21;43H[?25h[?25l([17C)[49;174H40[21;44H[?25h[?25l[49;175H1[21;45H[?25h[?25l[49;175H2[21;46H[?25h[?25l[49;175H3[21;47H[?25h[?25l[49;175H4[21;48H[?25h[?25l[49;175H5[21;49H[?25h[?25l[49;175H6[21;50H[?25h[?25l[49;175H7[21;51H[?25h[?25l[49;175H8[21;52H[?25h[?25l[49;175H9[21;53H[?25h[?25l[49;174H50[21;54H[?25h[?25l[49;175H1[21;55H[?25h[?25l[49;175H2[21;56H[?25h[?25l[49;175H3[21;57H[?25h[?25l[49;175H4[21;58H[?25h[?25l[49;175H5[21;59H[?25h[?25l[21;42H[106m([17C)[m[49;175H6[21;60H[?25h[?25l[21;42H([17C)[49;175H5[21;59H[?25h[?25l[21;42H[106m([17C)[m[49;175H6[21;60H[?25h[?25l)[1C;[21;62H[K[21;59H[106m)[m)[49;175H5[21;59H[?25h[?25l)[1C;[21;61H[K[21;58H[106m)[m)[49;175H4[21;58H[?25h[?25l[21;42H([15C)[49;175H3[21;57H[?25h[?25l[49;175H2[21;56H[?25h[?25l[49;175H1[21;55H[?25h[?25l[49;175H0[21;54H[?25h[?25l[49;174H49[21;53H[?25h[?25l[49;175H8[21;52H[?25h[?25l[49;175H7[21;51H[?25h[?25l[49;175H6[21;50H[?25h[?25l[21;43HstructKeyValue));[21;60H[K[49;175H5[21;49H[?25h[?25lKeyValue));[21;59H[K[49;175H4[21;48H[?25h[?25lKeyValue));[21;58H[K[49;175H3[21;47H[?25h[?25lKeyValue));[21;57H[K[49;175H2[21;46H[?25h[?25lKeyValue));[21;56H[K[49;175H1[21;45H[?25h[?25lKeyValue));[21;54H[K[21;42H[106m([8C)[m[49;174H39[21;43H[?25h[?25l:KeyValu[106me[m));[21;42H([8Ce[49;174H40[21;44H[?25h[?25l:KeyValue));[49;175H1[21;45H[?25h[?25lKeyValue));[21;55H[K[49;175H0[21;44H[?25h[?25lKeyValue));[21;54H[K[21;42H[106m([8C)[m[49;174H39[21;43H[?25h[49;1H[K[21;42H[?25l[49;161H^[[21;42H[49;161H  [21;43H[49;171H21,38[9CTop[21;42H[?25h[?25l[49;161H:[21;42H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 76L, 2196C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kadd_key_value[m[K’:
[01m[Kbug-program.c:21:39:[m[K [01;31m[Kerror: [m[K‘[01m[KKeyValue[m[K’ undeclared (first use in this function)
   struct KeyValue *kv = malloc(sizeof([01;31m[KKeyValue[m[K));
                                       [01;31m[K^~~~~~~~[m[K
[01m[Kbug-program.c:21:39:[m[K [01;36m[Knote: [m[Keach undeclared identifier is reported only once for each function it appears in
make: *** [<builtin>: bug-program] Error 1
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 76L, 2196C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m[106m([mKeyValue[106m)[m);

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s; kv->value = v; kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//go thru chain of keyValues[m
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    free(p); [34m//free KeyValue struct[m
  }
}

[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H21,38[9CTop[21;38H[?25h[?25l[49;161H~@k[21;38H[49;161H   [22;1H[21;38H([8C)[49;172H2,0-1[22;1H[?25h[?25l[49;161H~@k[22;1H[49;161H   [21;38H[106m([8C)[m[49;172H1,38 [21;38H[?25h[?25l[49;161H~@k[21;38H[49;161H   [21;37H[1C([8C)[49;175H7[21;37H[?25h[?25l[49;161H~@k[21;37H[49;161H   [21;36H[49;175H6[21;36H[?25h[?25l[49;161H~@k[21;36H[49;161H   [21;37H[49;175H7[21;37H[?25h[?25l[49;161H~@k[21;37H[49;161H   [21;38H[106m([8C)[m[49;175H8[21;38H[?25h[?25l[49;161H~@k[21;38H[49;161H   [21;39H([8C)[49;175H9[21;39H[?25h[?25l[49;161Hs[21;39H[49;161H [21;39H[49;161Hcl[21;39H[49;161H  [21;39H[49;1H[1m-- INSERT --[m[49;13H[K[49;171H21,39[9CTop[21;39HeyValue));[21;49H[K[21;38H[106m([7C)[21;39H[?25h[?25l[mteyValu[106me[m));[21;38H([7Ce[49;174H40[21;40H[?25h[?25leyValue));[21;49H[K[21;38H[106m([7C)[m[49;174H39[21;39H[?25h[?25lseyValu[106me[m));[21;38H([7Ce[49;174H40[21;40H[?25h[?25lteyValue));[49;175H1[21;41H[?25h[?25lreyValue));[49;175H2[21;42H[?25h[?25lueyValue));[49;175H3[21;43H[?25h[?25lceyValue));[49;175H4[21;44H[?25h[?25lteyValue));[49;175H5[21;45H[?25h[?25l[32mstruct[m eyValue));[49;175H6[21;46H[?25h[?25lKeyValue));[49;175H7[21;47H[?25h[49;1H[K[21;46H[?25l[49;161H^[[21;46H[49;161H  [21;47H[49;171H21,46[9CTop[21;46H[?25h[?25l[49;161H:[21;46H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 76L, 2203C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.cmake[Kvi bug-program.cls[Kcp bug-program.c bug-program.c.oldls[Kvi bug-program.valgrind ls[Kvi bug-program.c[6Pman mallocvi bug-program.c[2@nano[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.cmake[Kvi bug-program.cls[Kcp bug-program.c bug-program.c.oldls[Kvi bug-program.valgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 190L, 12321C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2899484== Memcheck, a memory error detector
==2899484== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2899484== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info
==2899484== Command: ./bug-program
==2899484==
--2899484-- Valgrind options:
--2899484--    -v
--2899484--    --leak-check=yes
--2899484-- Contents of /proc/version:
--2899484--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), GNU ld (GNU Binutils for Debian) 2.31.1) #1 SMP Debian 5.7.10-1~bpo10++[11;1H1 (2020-07-30)
--2899484--
--2899484-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi
--2899484-- Page sizes: currently 4096, max supported 4096
--2899484-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind
--2899484-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program
--2899484-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so
--2899484--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..
--2899484--   .. build-id is valid
--2899484-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux
--2899484--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..
--2899484--   .. build-id is valid
--2899484--    object doesn't have a dynamic symbol table
--2899484-- Scheduler: using generic scheduler lock implementation.
--2899484-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp
==2899484== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2899484-by-fantona1-on-???
==2899484== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2899484-by-fantona1-on-???
==2899484== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2899484-by-fantona1-on-???
==2899484==
==2899484== TO CONTROL THIS PROCESS USING vgdb (which you probably
==2899484== don't want to do, unless you know exactly what you're doing,
==2899484== or are doing some strange experiment):
==2899484==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2899484 ...command...
==2899484==
==2899484== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==2899484==   /path/to/gdb ./bug-program
==2899484== and then give GDB the following command
==2899484==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2899484
==2899484== --pid is optional if only one valgrind process is running
==2899484==
--2899484-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strlen)
--2899484-- REDIR: 0x401e0d0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (vgPlain_amd64_linux_REDIR_FOR_index)
--2899484-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_core-amd64-linux.so
--2899484--   Considering /usr/lib/debug/.build-id/34/fbc4cdfbfce1bfc3d2e522a01a050bf724c930.debug ..
--2899484--   .. build-id is valid
--2899484-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so
--2899484--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..
--2899484--   .. build-id is valid[49;171H1,1[11CTop[1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [6;1H[27m[23m[29m[m[H[2J[1;1H--2899484--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..
--2899484--   .. build-id is valid
==2899484== WARNING: new redirection conflicts with existing -- ignoring it
--2899484--     old: 0x0401e2f0 (strlen[14C) R-> (0000.0) 0x580c9ce2 vgPlain_amd64_linux_REDIR_FOR_strlen
--2899484--     new: 0x0401e2f0 (strlen[14C) R-> (2007.0) 0x04838d80 strlen
--2899484-- REDIR: 0x401ab10 (ld-linux-x86-64.so.2:strcmp) redirected to 0x4839e40 (strcmp)
--2899484-- REDIR: 0x401e830 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x483d860 (mempcpy)
--2899484-- Reading syms from /lib/x86_64-linux-gnu/libc-2.28.so
--2899484--   Considering /usr/lib/debug/.build-id/18/b9a9a8c523e5cfe5b5d946d605d09242f09798.debug ..
--2899484--   .. build-id is valid
--2899484-- REDIR: 0x4906f70 (libc.so.6:memmove) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4906160 (libc.so.6:strncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4907250 (libc.so.6:strcasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4905b70 (libc.so.6:strcat) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4906190 (libc.so.6:rindex) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4908890 (libc.so.6:rawmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4921230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4920cd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49070e0 (libc.so.6:mempcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4906f10 (libc.so.6:bcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4906100 (libc.so.6:strncmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4905be0 (libc.so.6:strcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4907040 (libc.so.6:memset) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4920ca0 (libc.so.6:wcschr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49060a0 (libc.so.6:strnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4905c70 (libc.so.6:strcspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49072a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4905c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49073e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49224d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49061c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4905ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4906070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x490d280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49072f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4906ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4920db0 (libc.so.6:wcslen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4906460 (libc.so.6:strspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4907220 (libc.so.6:stpncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49071f0 (libc.so.6:stpcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49088c0 (libc.so.6:strchrnul) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x4907340 (libc.so.6:strncasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2899484-- REDIR: 0x49d9fa0 (libc.so.6:__strrchr_avx2) redirected to 0x4838790 (rindex)
--2899484-- REDIR: 0x4902350 (libc.so.6:malloc) redirected to 0x4835710 (malloc)
==2899484== Invalid write of size 1
==2899484==    at 0x1091C0: add_key_value (bug-program.c:30)
==2899484==    by 0x1091C0: make_key_values (bug-program.c:61)
==2899484==    by 0x1091C0: main (bug-program.c:70)[49;171H51,1[10C31%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2899484==    by 0x1091C0: make_key_values (bug-program.c:61)
==2899484==    by 0x1091C0: main (bug-program.c:70)
==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)
==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)
==2899484==    by 0x1091AF: main (bug-program.c:70)
==2899484==
--2899484-- REDIR: 0x49d9db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)
--2899484-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
==2899484== Invalid read of size 1
==2899484==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2899484==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2899484==    by 0x48D6605: printf (printf.c:33)
==2899484==    by 0x1091F3: main (bug-program.c:72)
==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)
==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)
==2899484==    by 0x1091AF: main (bug-program.c:70)
==2899484==
--2899484-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
--2899484-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2899484== Invalid read of size 8
==2899484==    at 0x109205: free_key_values (bug-program.c:43)
==2899484==    by 0x109205: main (bug-program.c:74)
==2899484==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd
==2899484==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2899484==    by 0x109204: free_key_values (bug-program.c:44)
==2899484==    by 0x109204: main (bug-program.c:74)
==2899484==  Block was alloc'd at
==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2899484==    by 0x1091A2: add_key_value (bug-program.c:21)
==2899484==    by 0x1091A2: make_key_values (bug-program.c:61)
==2899484==    by 0x1091A2: main (bug-program.c:70)
==2899484==
==2899484==
==2899484== HEAP SUMMARY:
==2899484==     in use at exit: 4 bytes in 1 blocks
==2899484==   total heap usage: 3 allocs, 2 frees, 1,052 bytes allocated
==2899484==
==2899484== Searching for pointers to 1 not-freed blocks
==2899484== Checked 69,560 bytes
==2899484==
==2899484== 4 bytes in 1 blocks are definitely lost in loss record 1 of 1
==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)
==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)[49;171H97,1[10C64%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)
==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)
==2899484==    by 0x1091AF: main (bug-program.c:70)
==2899484==
==2899484== LEAK SUMMARY:
==2899484==    definitely lost: 4 bytes in 1 blocks
==2899484==    indirectly lost: 0 bytes in 0 blocks
==2899484==      possibly lost: 0 bytes in 0 blocks
==2899484==    still reachable: 0 bytes in 0 blocks
==2899484==[9Csuppressed: 0 bytes in 0 blocks
==2899484==
==2899484== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)
==2899484==
==2899484== 1 errors in context 1 of 4:
==2899484== Invalid read of size 8
==2899484==    at 0x109205: free_key_values (bug-program.c:43)
==2899484==    by 0x109205: main (bug-program.c:74)
==2899484==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd
==2899484==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2899484==    by 0x109204: free_key_values (bug-program.c:44)
==2899484==    by 0x109204: main (bug-program.c:74)
==2899484==  Block was alloc'd at
==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2899484==    by 0x1091A2: add_key_value (bug-program.c:21)
==2899484==    by 0x1091A2: make_key_values (bug-program.c:61)
==2899484==    by 0x1091A2: main (bug-program.c:70)
==2899484==
==2899484==
==2899484== 1 errors in context 2 of 4:
==2899484== Invalid read of size 1
==2899484==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2899484==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2899484==    by 0x48D6605: printf (printf.c:33)
==2899484==    by 0x1091F3: main (bug-program.c:72)
==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)
==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)
==2899484==    by 0x1091AF: main (bug-program.c:70)
==2899484==
==2899484==
==2899484== 1 errors in context 3 of 4:
==2899484== Invalid write of size 1
==2899484==    at 0x1091C0: add_key_value (bug-program.c:30)
==2899484==    by 0x1091C0: make_key_values (bug-program.c:61)
==2899484==    by 0x1091C0: main (bug-program.c:70)
==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H143,1[9C96%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)
==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)
==2899484==    by 0x1091AF: main (bug-program.c:70)
==2899484==
==2899484== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [9;1H~                                                                                                                                                                                           [10;1H~                                                                                                                                                                                           [11;1H~                                                                                                                                                                                           [12;1H~                                                                                                                                                                                           [13;1H~                                                                                                                                                                                           [14;1H~                                                                                                                                                                                           [15;1H~                                                                                                                                                                                           [16;1H~                                                                                                                                                                                           [17;1H~                                                                                                                                                                                           [18;1H~                                                                                                                                                                                           [19;1H~                                                                                                                                                                                           [20;1H~                                                                                                                                                                                           [21;1H~                                                                                                                                                                                           [22;1H~                                                                                                                                                                                           [23;1H~                                                                                                                                                                                           [24;1H~                                                                                                                                                                                           [25;1H~                                                                                                                                                                                           [26;1H~                                                                                                                                                                                           [27;1H~                                                                                                                                                                                           [28;1H~                                                                                                                                                                                           [29;1H~                                                                                                                                                                                           [30;1H~                                                                                                                                                                                           [31;1H~                                                                                                                                                                                           [32;1H~                                                                                                                                                                                           [33;1H~                                                                                                                                                                                           [34;1H~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H189,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[48;1H
[1;49r[48;1H[94m~                                                                                                                                                                                           [m[49;171H[K[49;171H190,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H189,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091C0: main (bug-program.c:70)[49;171H[K[49;171H188,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091C0: make_key_values (bug-program.c:61)[49;171H[K[49;171H187,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x1091C0: add_key_value (bug-program.c:30)[49;171H[K[49;171H186,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Invalid write of size 1[49;171H[K[49;171H185,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== 1 errors in context 3 of 4:[49;171H[K[49;171H184,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H183,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H182,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: main (bug-program.c:70)[49;171H[K[49;171H181,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)[49;171H[K[49;171H180,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)[49;171H[K[49;171H179,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H178,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H177,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091F3: main (bug-program.c:72)[49;171H[K[49;171H176,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x48D6605: printf (printf.c:33)[49;171H[K[49;171H175,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[49;171H[K[49;171H174,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[49;171H[K[49;171H173,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Invalid read of size 1[49;171H[K[49;171H172,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== 1 errors in context 2 of 4:[49;171H[K[49;171H171,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H170,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H169,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091A2: main (bug-program.c:70)[49;171H[K[49;171H168,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091A2: make_key_values (bug-program.c:61)[49;171H[K[49;171H167,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091A2: add_key_value (bug-program.c:21)[49;171H[K[49;171H166,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H165,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Block was alloc'd at[49;171H[K[49;171H164,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x109204: main (bug-program.c:74)[49;171H[K[49;171H163,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x109204: free_key_values (bug-program.c:44)[49;171H[K[49;171H162,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x48369AB: free (vg_replace_malloc.c:530)[49;171H[K[49;171H161,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd[49;171H[K[49;171H160,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x109205: main (bug-program.c:74)[49;171H[K[49;171H159,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x109205: free_key_values (bug-program.c:43)[49;171H[K[49;171H158,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Invalid read of size 8[49;171H[K[49;171H157,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== 1 errors in context 1 of 4:[49;171H[K[49;171H156,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H155,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)[49;171H[K[49;171H154,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H153,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[9Csuppressed: 0 bytes in 0 blocks[49;171H[K[49;171H152,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    still reachable: 0 bytes in 0 blocks[49;171H[K[49;171H151,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==      possibly lost: 0 bytes in 0 blocks[49;171H[K[49;171H150,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    indirectly lost: 0 bytes in 0 blocks[49;171H[K[49;171H149,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    definitely lost: 4 bytes in 1 blocks[49;171H[K[49;171H148,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== LEAK SUMMARY:[49;171H[K[49;171H147,1[9C99%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H146,1[9C98%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [7;1H[49;173H7[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [8;1H[49;173H8[8;1H[?25h[?25l[49;161H~@k[8;1H[49;161H   [9;1H[49;173H9[9;1H[?25h[?25l[49;161H~@k[9;1H[49;161H   [6;1H[1;48r[1;1H[44M[1;49r[5;1H==2899484==
==2899484== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [8;1H~                                                                                                                                                                                           [9;1H~                                                                                                                                                                                           [10;1H~                                                                                                                                                                                           [11;1H~                                                                                                                                                                                           [12;1H~                                                                                                                                                                                           [13;1H~                                                                                                                                                                                           [14;1H~                                                                                                                                                                                           [15;1H~                                                                                                                                                                                           [16;1H~                                                                                                                                                                                           [17;1H~                                                                                                                                                                                           [18;1H~                                                                                                                                                                                           [19;1H~                                                                                                                                                                                           [20;1H~                                                                                                                                                                                           [21;1H~                                                                                                                                                                                           [22;1H~                                                                                                                                                                                           [23;1H~                                                                                                                                                                                           [24;1H~                                                                                                                                                                                           [25;1H~                                                                                                                                                                                           [26;1H~                                                                                                                                                                                           [27;1H~                                                                                                                                                                                           [28;1H~                                                                                                                                                                                           [29;1H~                                                                                                                                                                                           [30;1H~                                                                                                                                                                                           [31;1H~                                                                                                                                                                                           [32;1H~                                                                                                                                                                                           [33;1H~                                                                                                                                                                                           [34;1H~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H[K[49;171H190,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H189,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091C0: main (bug-program.c:70)[49;171H[K[49;171H188,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091C0: make_key_values (bug-program.c:61)[49;171H[K[49;171H187,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x1091C0: add_key_value (bug-program.c:30)[49;171H[K[49;171H186,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Invalid write of size 1[49;171H[K[49;171H185,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== 1 errors in context 3 of 4:[49;171H[K[49;171H184,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H183,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H182,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: main (bug-program.c:70)[49;171H[K[49;171H181,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)[49;171H[K[49;171H180,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)[49;171H[K[49;171H179,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H178,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H177,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091F3: main (bug-program.c:72)[49;171H[K[49;171H176,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x48D6605: printf (printf.c:33)[49;171H[K[49;171H175,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[49;171H[K[49;171H174,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[49;171H[K[49;171H173,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Invalid read of size 1[49;171H[K[49;171H172,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== 1 errors in context 2 of 4:[49;171H[K[49;171H171,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H170,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H169,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091A2: main (bug-program.c:70)[49;171H[K[49;171H168,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091A2: make_key_values (bug-program.c:61)[49;171H[K[49;171H167,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091A2: add_key_value (bug-program.c:21)[49;171H[K[49;171H166,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H165,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Block was alloc'd at[49;171H[K[49;171H164,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x109204: main (bug-program.c:74)[49;171H[K[49;171H163,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x109204: free_key_values (bug-program.c:44)[49;171H[K[49;171H162,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x48369AB: free (vg_replace_malloc.c:530)[49;171H[K[49;171H161,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd[49;171H[K[49;171H160,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x109205: main (bug-program.c:74)[49;171H[K[49;171H159,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x109205: free_key_values (bug-program.c:43)[49;171H[K[49;171H158,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Invalid read of size 8[49;171H[K[49;171H157,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== 1 errors in context 1 of 4:[49;171H[K[49;171H156,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H155,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)[49;171H[K[49;171H154,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H153,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[9Csuppressed: 0 bytes in 0 blocks[49;171H[K[49;171H152,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    still reachable: 0 bytes in 0 blocks[49;171H[K[49;171H151,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==      possibly lost: 0 bytes in 0 blocks[49;171H[K[49;171H150,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    indirectly lost: 0 bytes in 0 blocks[49;171H[K[49;171H149,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    definitely lost: 4 bytes in 1 blocks[49;171H[K[49;171H148,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== LEAK SUMMARY:[49;171H[K[49;171H147,1[9C99%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H146,1[9C98%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: main (bug-program.c:70)[49;171H[K[49;171H145,1[9C97%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)[49;171H[K[49;171H144,1[9C97%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)[49;171H[K[49;171H143,1[9C96%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H142,1[9C95%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== 4 bytes in 1 blocks are definitely lost in loss record 1 of 1[49;171H[K[49;171H141,1[9C95%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H140,1[9C94%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Checked 69,560 bytes[49;171H[K[49;171H139,1[9C93%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Searching for pointers to 1 not-freed blocks[49;171H[K[49;171H138,1[9C92%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H137,1[9C92%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==   total heap usage: 3 allocs, 2 frees, 1,052 bytes allocated[49;171H[K[49;171H136,1[9C91%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==     in use at exit: 4 bytes in 1 blocks[49;171H[K[49;171H135,1[9C90%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== HEAP SUMMARY:[49;171H[K[49;171H134,1[9C90%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H133,1[9C89%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H132,1[9C88%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091A2: main (bug-program.c:70)[49;171H[K[49;171H131,1[9C88%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091A2: make_key_values (bug-program.c:61)[49;171H[K[49;171H130,1[9C87%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091A2: add_key_value (bug-program.c:21)[49;171H[K[49;171H129,1[9C86%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H128,1[9C85%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Block was alloc'd at[49;171H[K[49;171H127,1[9C85%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x109204: main (bug-program.c:74)[49;171H[K[49;171H126,1[9C84%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x109204: free_key_values (bug-program.c:44)[49;171H[K[49;171H125,1[9C83%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x48369AB: free (vg_replace_malloc.c:530)[49;171H[K[49;171H124,1[9C83%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd[49;171H[K[49;171H123,1[9C82%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x109205: main (bug-program.c:74)[49;171H[K[49;171H122,1[9C81%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x109205: free_key_values (bug-program.c:43)[49;171H[K[49;171H121,1[9C80%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Invalid read of size 8[49;171H[K[49;171H120,1[9C80%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H--2899484-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)[49;171H[K[49;171H119,1[9C79%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H--2899484-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)[49;171H[K[49;171H118,1[9C78%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H117,1[9C78%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: main (bug-program.c:70)[49;171H[K[49;171H116,1[9C77%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)[49;171H[K[49;171H115,1[9C76%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)[49;171H[K[49;171H114,1[9C76%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H113,1[9C75%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H112,1[9C74%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091F3: main (bug-program.c:72)[49;171H[K[49;171H111,1[9C73%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x48D6605: printf (printf.c:33)[49;171H[K[49;171H110,1[9C73%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[49;171H[K[49;171H109,1[9C72%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[49;171H[K[49;171H108,1[9C71%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484== Invalid read of size 1[49;171H[K[49;171H107,1[9C71%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H--2899484-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)[49;171H[K[49;171H106,1[9C70%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H--2899484-- REDIR: 0x49d9db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)[49;171H[K[49;171H105,1[9C69%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==[49;171H[K[49;171H104,1[9C69%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: main (bug-program.c:70)[49;171H[K[49;171H103,1[9C68%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)[49;171H[K[49;171H102,1[9C67%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)[49;171H[K[49;171H101,1[9C66%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [7;1H[49;173H2[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [8;1H[49;173H3[8;1H[?25h[?25l[49;161H~@k[8;1H[49;161H   [9;1H[49;173H4[9;1H[?25h[?25l[49;161H~@k[9;1H[49;161H   [10;1H[49;173H5[10;1H[?25h[?25l[49;161H~@k[10;1H[49;161H   [11;1H[49;173H6[11;1H[?25h[?25l[49;161H~@k[11;1H[49;161H   [12;1H[49;173H7[12;1H[?25h[?25l[49;161H~@k[12;1H[49;161H   [13;1H[49;173H8[13;1H[?25h[?25l[49;161H~@k[13;1H[49;161H   [14;1H[49;173H9[14;1H[?25h[?25l[49;161H~@k[14;1H[49;161H   [15;1H[49;172H10[15;1H[?25h[?25l[49;161H~@k[15;1H[49;161H   [16;1H[49;173H1[16;1H[?25h[?25l[49;161H~@k[16;1H[49;161H   [17;1H[49;173H2[17;1H[?25h[?25l[49;161H~@k[17;1H[49;161H   [18;1H[49;173H3[18;1H[?25h[?25l[49;161H~@k[18;1H[49;161H   [19;1H[49;173H4[19;1H[?25h[?25l[49;161H~@k[19;1H[49;161H   [20;1H[49;173H5[20;1H[?25h[?25l[49;161H~@k[20;1H[49;161H   [21;1H[49;173H6[21;1H[?25h[?25l[49;161H~@k[21;1H[49;161H   [22;1H[49;173H7[22;1H[?25h[?25l[49;161H~@k[22;1H[49;161H   [23;1H[49;173H8[23;1H[?25h[?25l[49;161H~@k[23;1H[49;161H   [24;1H[49;173H9[24;1H[?25h[?25l[49;161H~@k[24;1H[49;161H   [25;1H[49;172H20[25;1H[?25h[?25l[49;161H~@k[25;1H[49;161H   [26;1H[49;173H1[26;1H[?25h[?25l[49;161H~@k[26;1H[49;161H   [27;1H[49;173H2[27;1H[?25h[?25l[49;161H~@k[27;1H[49;161H   [28;1H[49;173H3[28;1H[?25h[?25l[49;161H~@k[28;1H[49;161H   [29;1H[49;173H4[29;1H[?25h[?25l[49;161H~@k[29;1H[49;161H   [30;1H[49;173H5[30;1H[?25h[?25l[49;161H~@k[30;1H[49;161H   [31;1H[49;173H6[31;1H[?25h[?25l[49;161H~@k[31;1H[49;161H   [32;1H[49;173H7[32;1H[?25h[?25l[49;161H~@k[32;1H[49;161H   [33;1H[49;173H8[33;1H[?25h[?25l[49;161H~@k[33;1H[49;161H   [34;1H[49;173H9[34;1H[?25h[?25l[49;161H~@k[34;1H[49;161H   [35;1H[49;172H30[35;1H[?25h[?25l[49;161H~@k[35;1H[49;161H   [36;1H[49;173H1[36;1H[?25h[?25l[49;161H~@k[36;1H[49;161H   [37;1H[49;173H2[37;1H[?25h[?25l[49;161H~@k[37;1H[49;161H   [38;1H[49;173H3[38;1H[?25h[?25l[49;161H~@k[38;1H[49;161H   [39;1H[49;173H4[39;1H[?25h[?25l[49;161H~@k[39;1H[49;161H   [40;1H[49;173H5[40;1H[?25h[?25l[49;161H~@k[40;1H[49;161H   [41;1H[49;173H6[41;1H[?25h[?25l[49;161H~@k[41;1H[49;161H   [42;1H[49;173H7[42;1H[?25h[?25l[49;161H~@k[42;1H[49;161H   [43;1H[49;173H8[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    indirectly lost: 0 bytes in 0 blocks[49;171H[K[49;171H139,1[9C67%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==      possibly lost: 0 bytes in 0 blocks[49;171H[K[49;171H140,1[9C68%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    still reachable: 0 bytes in 0 blocks[49;171H[K[49;171H141,1[9C69%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==[9Csuppressed: 0 bytes in 0 blocks[49;171H[K[49;171H142,1[9C69%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==[49;171H[K[49;171H143,1[9C70%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)[49;171H[K[49;171H144,1[9C71%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==[49;171H[K[49;171H145,1[9C71%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484== 1 errors in context 1 of 4:[49;171H[K[49;171H146,1[9C72%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484== Invalid read of size 8[49;171H[K[49;171H147,1[9C73%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    at 0x109205: free_key_values (bug-program.c:43)[49;171H[K[49;171H148,1[9C73%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x109205: main (bug-program.c:74)[49;171H[K[49;171H149,1[9C74%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd[49;171H[K[49;171H150,1[9C75%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    at 0x48369AB: free (vg_replace_malloc.c:530)[49;171H[K[49;171H151,1[9C76%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x109204: free_key_values (bug-program.c:44)[49;171H[K[49;171H152,1[9C76%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x109204: main (bug-program.c:74)[49;171H[K[49;171H153,1[9C77%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==  Block was alloc'd at[49;171H[K[49;171H154,1[9C78%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H155,1[9C78%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091A2: add_key_value (bug-program.c:21)[49;171H[K[49;171H156,1[9C79%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091A2: make_key_values (bug-program.c:61)[49;171H[K[49;171H157,1[9C80%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091A2: main (bug-program.c:70)[49;171H[K[49;171H158,1[9C80%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==[49;171H[K[49;171H159,1[9C81%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==[49;171H[K[49;171H160,1[9C82%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484== 1 errors in context 2 of 4:[49;171H[K[49;171H161,1[9C83%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484== Invalid read of size 1[49;171H[K[49;171H162,1[9C83%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[49;171H[K[49;171H163,1[9C84%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[49;171H[K[49;171H164,1[9C85%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x48D6605: printf (printf.c:33)[49;171H[K[49;171H165,1[9C85%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091F3: main (bug-program.c:72)[49;171H[K[49;171H166,1[9C86%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H167,1[9C87%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H168,1[9C88%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)[49;171H[K[49;171H169,1[9C88%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)[49;171H[K[49;171H170,1[9C89%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091AF: main (bug-program.c:70)[49;171H[K[49;171H171,1[9C90%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==[49;171H[K[49;171H172,1[9C90%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==[49;171H[K[49;171H173,1[9C91%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484== 1 errors in context 3 of 4:[49;171H[K[49;171H174,1[9C92%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484== Invalid write of size 1[49;171H[K[49;171H175,1[9C92%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2899484==    at 0x1091C0: add_key_value (bug-program.c:30)[49;171H[K[49;171H176,1[9C93%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091C0: make_key_values (bug-program.c:61)[49;171H[K[49;171H177,1[9C94%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091C0: main (bug-program.c:70)[49;171H[K[49;171H178,1[9C95%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H179,1[9C95%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H180,1[9C96%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)[49;171H[K[49;171H181,1[9C97%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)[49;171H[K[49;171H182,1[9C97%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H==2899484==    by 0x1091AF: main (bug-program.c:70)[49;171H[K[49;171H183,1[9C98%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H==2899484==[49;171H[K[49;171H184,1[9C99%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H==2899484== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)[49;171H[K[49;171H185,1[9CBot[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [44;1H[49;173H6[44;1H[?25h[?25l[49;161H~@k[44;1H[49;161H   [45;1H[49;173H7[45;1H[?25h[?25l[49;161H~@k[45;1H[49;161H   [46;1H[49;173H8[46;1H[?25h[?25l[49;161H~@k[46;1H[49;161H   [47;1H[49;173H9[47;1H[?25h[?25l[49;161H~@k[47;1H[49;161H   [48;1H[49;172H90[48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161Hq[48;1H[?25h[?25l[49;162H:[48;1H[49;161H  [48;1H[49;171H[K[49;1H:[?2004h[1;13HInvalid read of size 8[1;35H[K[2;16Hat 0x109205: free_key_values (bug-program.c:43)[3;16Hby 0x109205: main (bug-program.c:74)[4;14HAddress 0x4a42050 is 16 bytes inside a block of size 24 free'd[5;16Hat 0x48369AB: free (vg_replace_malloc.c:530)[6;16Hby 0x109204: free_key_values (bug-program.c:44)[7;13H   by 0x109204: main (bug-program.c:74)[7;53H[K[8;14HBlock was alloc'd at[9;13H   at 0x483577F: malloc (vg_replace_malloc.c:299)[10;13H   by 0x1091A2: add_key_value (bug-program.c:21)[11;16Hby 0x1091A2: mak[28C61[12;24H1A2[23C0[13;14H[K[14;16H[K[15;13H1 errors in context 2 of 4:[15;40H[K[16;13HInvalid read of size 1[16;35H[K[17;14H  at 0x4838C74: strlen (vg_replace_strmem.c:460)[18;16Hby 0x48CF9EE: vfprintf (vfprintf.c:1638)[18;56H[K[19;21H48D6605: printf (printf.c:33)[19;50H[K[20;25HF3: main (bug-program.c:72)[20;52H[K[21;14HAddress 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[22;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[23;16Hby 0x1091AF: add_key_value (bug-program.c:24)[24;13H   by 0x1091AF: make_key_values (bug-program.c:61)[25;13H   by 0x1091AF: main (bug-program.c:70)[26;16H[K[27;16H[K[28;13H1 errors in context 3 of 4:[28;40H[K[29;13HInvalid write of size 1[29;36H[K[30;14H  at 0x1091C0: add_key_value (bug-program.c:30)[30;61H[K[31;16Hby 0x1091C0: make_key_values (bug-program.c:61)[32;25HC0: main (bug-program.c:70)[32;52H[K[33;14HAddress 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[34;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[35;16Hby 0x1091AF: add_key_value (bug-program.c:24)[36;16Hby 0x1091AF: make_key_values (bug-program.c:61)[37;13H   by 0x1091AF: main (bug-program.c:70)[38;13H[K[39;13HERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)
[7mbug-program.valgrind                                                                                                                                                      190,1          Bot[m[41;1H[94m:[m[38;5;130mset[m linenumber on[41;19H[K[42;1H[94m:[m[38;5;130mw[m[42;3H[K[43;1H[94m:[m[38;5;130mq[m[43;3H[K[44;1H[94m:[m[38;5;130mq[m![44;4H[K[45;1H[94m:[m[38;5;130mset[m [35mnumber[m[45;16H[K[46;1H[94m:[m[38;5;130mwq[m[46;4H[K[47;1H[94m:[m[47;2H[K[48;1H[1m[7m[Command Line]                                                                                                                                                            15,0-1         Bot[47;2H[?25h[?25l[m[49;178H:^[[47;2H[49;179H  [47;2H[49;179H^[[47;2H[49;178H   [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178Hw[47;2H[49;178H [47;2H[?25h[?25l[49;178Hq[47;2H[?25h[?25l[49;179Hw[47;2H

[1mrecording @w[m[49;178H[K[47;2H[?25h[?25l[49;178Hq[47;2H[49;1H[K[47;2H[?25h[?25l[49;178H^M[47;2H[49;178H  [47;2H

[1;13H   definitely lost: 4 bytes in 1 blocks[2;16Hindirectly lost: 0 bytes in 0 blocks[2;52H[K[3;16H  possibly lost: 0 bytes in 0 blocks[4;14H  still reachable: 0 bytes in 0 blocks[4;53H[K[5;16H     suppressed: 0 bytes in 0 blocks[5;52H[K[6;16H[K[7;13HERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)[8;14H[K[9;13H1 errors in context 1 of 4:[9;40H[K[10;13HInvalid read of size 8[10;35H[K[11;16Hat 0x109205: fre[28C43[12;24H205[23C4[13;14HAddress 0x4a42050 is 16 bytes inside a block of size 24 free'd[14;16Hat 0x48369AB: free (vg_replace_malloc.c:530)[15;13H   by 0x109204: free_key_values (bug-program.c:44)[16;13H   by 0x109204: main (bug-program.c:74)[17;14HBlock was alloc'd at[17;34H[K[18;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[19;21H1091A2: add_key_value (bug-program.c:21)[20;25HA2: make_key_values (bug-program.c:61)[21;14H  by 0x1091A2: main (bug-program.c:70)[21;52H[K[22;16H[K[23;16H[K[24;13H1 errors in context 2 of 4:[24;40H[K[25;13HInvalid read of size 1[25;35H[K[26;16Hat 0x4838C74: strlen (vg_replace_strmem.c:460)[27;16Hby 0x48CF9EE: vfprintf (vfprintf.c:1638)[28;13H   by 0x48D6605: printf (printf.c:33)[29;13H   by 0x1091F3: main (bug-program.c:72)[30;14HAddress 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[31;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[31;62H[K[32;25HAF: add_key_value (bug-program.c:24)[33;14H  by 0x1091AF: make_key_values (bug-program.c:61)[33;63H[K[34;16Hby 0x1091AF: main (bug-program.c:70)[34;52H[K[35;16H[K[36;16H[K[37;13H1 errors in context 3 of 4:[37;40H[K[38;13HInvalid write of size 1[39;13H   at 0x1091C0: add_key_value (bug-program.c:30)[39;61H[K[40;1H==2899484==    by 0x1091C0: make_key_values (bug-program.c:61)[40;63H[K[41;1H==2899484==    by 0x1091C0: main (bug-program.c:70)
==2899484==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2899484==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2899484==    by 0x1091AF: add_key_value (bug-program.c:24)
==2899484==    by 0x1091AF: make_key_values (bug-program.c:61)
==2899484==    by 0x1091AF: main (bug-program.c:70)
==2899484==
==2899484== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)[48;75H[K[49;171H190,1[9CBot[48;1H[?25h[?25l[49;161H:[48;1H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[49;3H[K[49;3H[?25h[?25l[49;2H[K[49;2H[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ clear
[H[2J[3J]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.c.old  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim bug-pror[Kgra,[Km.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 76L, 2203C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s; kv->value = v; kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//go thru chain of keyValues[m
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    free(p); [34m//free KeyValue struct[m
  }
}

[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H21,46[9CTop[21;46H[?25h[?25l[49;161H/[21;46H[49;1H[K[49;1H/[?2004h[?25h [?25l[21;46H[49;171H21,46[9CTop[21;46H[?25h[?25l[49;161H:[21;46H[49;161H[K[49;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[21;50H[1;1H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m
[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m
[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;       [34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[9C    [34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;
[38;5;130m 34 
 35 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 36 [m}
[38;5;130m 37 
 38 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 39 [m[32mstatic[m [32mvoid[m
[38;5;130m 40 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 41 [m{
[38;5;130m 42 [m  [34m//go thru chain of keyValues[m
[38;5;130m 43 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
[38;5;130m 44 [m    free(p); [34m//free KeyValue struct[m
[38;5;130m 45 [m  }
[38;5;130m 46 [m}
[38;5;130m 47 
 48 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H21,46[9CTop[21;50H[?25h[?25l[49;161Hi[21;50H[49;161H [21;50H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H21,46[9CTop[21;50H[?25h[?25l[49;172H0,45[20;49H[?25h[?25l[49;172H1,46[21;50H[?25h[?25l[49;172H2,1 [22;5H[?25h[?25l[49;172H3,46[23;50H[?25h[?25l[49;172H4,31[24;35H[?25h[?25l[49;172H5,1 [25;5H[?25h[?25l[49;172H6,46[26;50H[?25h[?25l[49;172H7[27;50H[?25h[?25l[49;172H8,13[28;17H[?25h[?25l[26;36H[106m{[29;7H}[m[49;172H9,4 [29;8H[?25h[?25l[26;36H{[29;7H}[49;171H30,46[30;50H[?25h[49;1H[K[30;49H[?25l[49;161H^[[30;49H[49;161H  [30;50H[49;171H30,45[9CTop[30;49H[?25h[?25l[49;161H:[30;49H[49;161H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[49;2H[K[49;2H[?25hw[?25l[?25h[?25l[49;2H[K[49;2H[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ man strcpy
[?1049h[22;0;0t[?1h=STRCPY(3)                                                                      Linux Programmer's Manual                                                                      STRCPY(3)[m
[m
[1mNAME[0m[m
       strcpy, strncpy - copy a string[m
[m
[1mSYNOPSIS[0m[m
       [1m#include[0m [1m<string.h>[0m[m
[m
       [1mchar[0m [1m*strcpy(char[0m [1m*[0m[4mdest[24m[1m,[0m [1mconst[0m [1mchar[0m [1m*[0m[4msrc[24m[1m);[0m[m
[m
       [1mchar[0m [1m*strncpy(char[0m [1m*[0m[4mdest[24m[1m,[0m [1mconst[0m [1mchar[0m [1m*[0m[4msrc[24m[1m,[0m [1msize_t[0m [4mn[24m[1m);[0m[m
[m
[1mDESCRIPTION[0m[m
       The  [1mstrcpy[0m()  function copies the string pointed to by [4msrc[24m, including the terminating null byte ('\0'), to the buffer pointed to by [4mdest[24m.  The strings may not overlap, and the[m
       destination string [4mdest[24m must be large enough to receive the copy.  [4mBeware[24m [4mof[24m [4mbuffer[24m [4moverruns![24m  (See BUGS.)[m
[m
       The [1mstrncpy[0m() function is similar, except that at most [4mn[24m bytes of [4msrc[24m are copied.  [1mWarning[0m: If there is no null byte among the first [4mn[24m bytes of [4msrc[24m, the string placed  in  [4mdest[24m[m
       will not be null-terminated.[m
[m
       If the length of [4msrc[24m is less than [4mn[24m, [1mstrncpy[0m() writes additional null bytes to [4mdest[24m to ensure that a total of [4mn[24m bytes are written.[m
[m
       A simple implementation of [1mstrncpy[0m() might be:[m
[m
           char *[m
           strncpy(char *dest, const char *src, size_t n)[m
           {[m
               size_t i;[m
[m
               for (i = 0; i < n && src[i] != '\0'; i++)[m
                   dest[i] = src[i];[m
               for ( ; i < n; i++)[m
                   dest[i] = '\0';[m
[m
               return dest;[m
           }[m
[m
[1mRETURN[0m [1mVALUE[0m[m
       The [1mstrcpy[0m() and [1mstrncpy[0m() functions return a pointer to the destination string [4mdest[24m.[m
[m
[1mATTRIBUTES[0m[m
       For an explanation of the terms used in this section, see [1mattributes[0m(7).[m
[m
       ┌────────────────────┬───────────────┬─────────┐[m
       │[1mInterface[0m           │ [1mAttribute[0m     │ [1mValue[0m   │[m
       ├────────────────────┼───────────────┼─────────┤[m
       │[1mstrcpy[0m(), [1mstrncpy[0m() │ Thread safety │ MT-Safe │[m
       └────────────────────┴───────────────┴─────────┘[m
[1mCONFORMING[0m [1mTO[0m[m
[7m Manual page strcpy(3) line 1 (press h for help or q to quit)[27m[K[K[?1l>[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ man strcpyvim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 76L, 2203C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s; kv->value = v; kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//go thru chain of keyValues[m
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    free(p); [34m//free KeyValue struct[m
  }
}

[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H30,45[9CTop[30;45H[?25h[?25l[49;161H/[30;45H[49;1H[K[49;1H/[?2004h[?25h [?25l[30;45H[49;171H30,45[9CTop[30;45H[?25h[?25l[49;161H:[30;45H[49;161H[K[49;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[30;49H[1;1H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m
[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m
[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;       [34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[9C    [34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s; kv->value = v; kv->succ = keyValues;
[38;5;130m 34 
 35 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 36 [m}
[38;5;130m 37 
 38 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 39 [m[32mstatic[m [32mvoid[m
[38;5;130m 40 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 41 [m{
[38;5;130m 42 [m  [34m//go thru chain of keyValues[m
[38;5;130m 43 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
[38;5;130m 44 [m    free(p); [34m//free KeyValue struct[m
[38;5;130m 45 [m  }
[38;5;130m 46 [m}
[38;5;130m 47 
 48 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H30,45[9CTop[30;49H[?25h[?25l[49;161Hi[30;49H[49;161H [30;49H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H30,45[9CTop[30;49H[?25h[?25l[49;172H1,1 [31;5H[?25h[?25l[49;172H0,45[30;49H[?25h[?25l[49;175H4[30;48H[?25h[?25l[49;175H3[30;47H[?25h[?25l[49;175H2[30;46H[?25h[?25l[49;175H1[30;45H[?25h[?25l[49;175H0[30;44H[?25h[?25l[49;174H39[30;43H[?25h[?25l[49;175H8[30;42H[?25h[?25l[49;175H7[30;41H[?25h[?25l[49;175H6[30;40H[?25h[?25l[49;175H5[30;39H[?25h[?25l[49;175H4[30;38H[?25h[?25l[49;175H3[30;37H[?25h[?25l[49;175H2[30;36H[?25h[?25l[49;175H1[30;35H[?25h[?25l[49;175H0[30;34H[?25h[?25l[49;174H29[30;33H[?25h[?25l[49;175H8[30;32H[?25h[?25l[49;175H7[30;31H[?25h[?25l[49;175H6[30;30H[?25h[?25l[49;175H5[30;29H[?25h[?25l[49;175H4[30;28H[?25h[?25l[49;175H3[30;27H[?25h[?25l[49;175H2[30;26H[?25h[?25l[49;175H0[30;24H[?25h[?25l[49;174H19[30;23H[?25h[?25l[49;175H8[30;22H[?25h[?25l[49;175H9[30;23H[?25h[?25l[49;174H20[30;24H[?25h[?25l[49;175H1[30;25H[?25h[?25l[49;175H2[30;26H[?25h[?25l[49;175H3[30;27H[?25h[?25l[49;175H4[30;28H[?25h[?25l[49;175H5[30;29H[?25h[?25l[49;175H6[30;30H[?25h[?25l[49;175H7[30;31H[?25h[?25l[49;175H8[30;32H[?25h[?25l[49;175H9[30;33H[?25h[?25l[49;174H30[30;34H[?25h[?25l[49;175H1[30;35H[?25h[?25l[49;175H2[30;36H[?25h[?25l[49;175H3[30;37H[?25h[?25l[49;175H4[30;38H[?25h[?25l[49;175H5[30;39H[?25h[?25l[49;175H6[30;40H[?25h[?25l[49;175H7[30;41H[?25h[?25l[49;175H8[30;42H[?25h[?25l[49;175H9[30;43H[?25h[?25l[49;174H40[30;44H[?25h[?25l[49;175H1[30;45H[?25h[?25l[49;175H2[30;46H[?25h[?25l[49;175H3[30;47H[?25h[?25l[49;175H4[30;48H[?25h[?25l[49;175H5[30;49H[?25h[?25l[49;175H6[30;50H[?25h[?25l[49;175H7[30;51H[?25h[?25l[49;175H8[30;52H[?25h[?25l[49;175H9[30;53H[?25h[?25l[49;174H50[30;54H[?25h[?25l[49;175H1[30;55H[?25h[?25l[49;175H2[30;56H[?25h[?25l[49;175H3[30;57H[?25h[?25l[49;175H4[30;58H[?25h[?25l[49;175H5[30;59H[?25h[?25l[49;175H6[30;60H[?25h[?25l[49;175H7[30;61H[?25h[?25l[49;175H8[30;62H[?25h[?25l[49;175H9[30;63H[?25h[?25l[49;174H60[30;64H[?25h[?25l[49;175H1[30;65H[?25h[?25l[49;175H2[30;66H[?25h[?25l[49;175H3[30;67H[?25h[?25l[49;175H4[30;68H[?25h[?25l[49;175H5[30;69H[?25h[?25l[49;175H6[30;70H[?25h[?25l[49;175H7[30;71H[?25h[?25l[49;175H8[30;72H[?25h[?25l[49;175H9[30;73H[?25h[?25l[49;174H70[30;74H[?25h[?25l[49;175H1[30;75H[?25h[?25l[49;175H2[30;76H[?25h[?25l[49;175H3[30;77H[?25h[?25l[49;175H4[30;78H[?25h[?25l[49;172H1,1 [31;5H[?25h[?25l[49;172H2,30[32;34H[?25h[?25l[49;172H3,52[33;56H[?25h[?25l[49;175H1[33;55H[?25h[?25l[49;175H0[33;54H[?25h[?25l[49;174H49[33;53H[?25h[?25l[49;175H8[33;52H[?25h[?25l[49;175H7[33;51H[?25h[?25l[49;175H6[33;50H[?25h[?25l[49;175H5[33;49H[?25h[?25l[49;175H3[33;47H[?25h[?25l[49;175H2[33;46H[?25h[?25l[49;175H1[33;45H[?25h[?25l[49;175H0[33;44H[?25h[?25l[49;174H39[33;43H[?25h[?25l[49;175H8[33;42H[?25h[?25l[49;175H7[33;41H[?25h[?25l[49;175H6[33;40H[?25h[?25l[49;175H5[33;39H[?25h[?25l[49;175H4[33;38H[?25h[?25l[49;175H3[33;37H[?25h[?25l[49;175H2[33;36H[?25h[?25l[49;175H1[33;35H[?25h[?25l[49;175H0[33;34H[?25h[?25l[49;174H29[33;33H[?25h[?25l[49;175H8[33;32H[?25h[?25l[49;175H7[33;31H[?25h[?25l[49;175H6[33;30H[?25h[?25l[49;175H5[33;29H[?25h[?25l[49;175H4[33;28H[?25h[?25l[49;175H3[33;27H[?25h[?25l[49;175H2[33;26H[?25h[?25l[49;175H1[33;25H[?25h[?25l[49;175H0[33;24H[?25h[?25l[49;174H19[33;23H[?25h[?25l[49;175H8[33;22H[?25h[?25l[49;175H7[33;21H[?25h[?25l[49;175H6[33;20H[?25h[?25l[49;175H5[33;19H[?25h[?25l[49;175H4[33;18H[?25h[?25l[49;175H3[33;17H[?25h[?25l[49;175H2[33;16H[?25h[?25l[49;175H1[33;15H[?25h[?25l[49;175H0[33;14H[?25h[?25l[49;174H9 [33;13H[?25h[?25l[49;174H8[33;12H[?25h[?25l[49;174H7[33;11H[?25h[?25l[49;174H6[33;10H[?25h[?25l[49;174H5[33;9H[?25h[?25l[49;174H4[33;8H[?25h[?25l[49;174H3[33;7H[?25h[?25l[49;174H4[33;8H[?25h[?25l[49;174H5[33;9H[?25h[?25l[49;174H6[33;10H[?25h[?25l[49;174H7[33;11H[?25h[?25l[49;174H8[33;12H[?25h[?25l[49;174H7[33;11H[?25h[?25l[49;174H8[33;12H[?25h[?25l[49;174H9[33;13H[?25h[?25l[49;174H10[33;14H[?25h[?25l[49;175H1[33;15H[?25h[?25l[49;175H2[33;16H[?25h[?25l[49;175H3[33;17H[?25h[?25l[49;175H4[33;18H[?25h[?25l[49;175H5[33;19H[?25h[?25l[49;175H6[33;20H[?25h[?25l[49;175H7[33;21H[?25h[?25l[49;175H8[33;22H[?25h[?25l[49;175H9[33;23H[?25h[?25l[49;174H20[33;24H[?25h[?25l[49;175H1[33;25H[?25h[?25l[49;175H2[33;26H[?25h[?25l[49;175H1[33;25H[?25h[?25l[49;175H2[33;26H[?25h[?25l[49;175H3[33;27H[?25h[?25l[49;175H4[33;28H[?25h[?25l[49;175H5[33;29H[?25h[?25l[49;175H6[33;30H[?25h[?25l[49;175H7[33;31H[?25h[?25l[49;175H8[33;32H[?25h[?25l[49;175H9[33;33H[?25h[?25l[49;174H30[33;34H[?25h[?25l[49;175H1[33;35H[?25h[?25l[49;175H2[33;36H[?25h[?25l[49;175H3[33;37H[?25h[?25l[49;175H4[33;38H[?25h[?25l[49;175H5[33;39H[?25h[?25l[49;175H6[33;40H[?25h[?25l[49;175H5[33;39H[?25h[?25l[49;175H4[33;38H[?25h[?25l[49;175H3[33;37H[?25h[?25l[49;175H2[33;36H[?25h[?25l[49;175H1[33;35H[?25h[?25l[49;175H0[33;34H[?25h[?25l[49;174H29[33;33H[?25h[?25l[49;175H8[33;32H[?25h[?25l[49;175H7[33;31H[?25h[?25l[49;175H6[33;30H[?25h[?25l[49;175H5[33;29H[?25h[?25l[49;175H4[33;28H[?25h[?25l[49;175H3[33;27H[?25h[?25l[49;175H2[33;26H[?25h[?25l[49;175H1[33;25H[?25h[?25l[49;175H0[33;24H[?25h[?25l[49;174H19[33;23H[?25h[?25l[49;175H8[33;22H[?25h[?25l[49;175H7[33;21H[?25h[?25l[49;175H6[33;20H[?25h[?25l[33;20H[K[34;7Hkv->value = v; kv->succ = keyValues;[35;7H[K[36;5H  [38;5;130mreturn[m kv;[37;5H}[38;5H[K[39;5H[34m/** Free all the key-value's in keyValues. */[m[40;5H[32mstatic[m [32mvoid[m[40;16H[K[41;5Hfree_key_values([32mstruct[m KeyValue *keyValues)[42;5H{[42;7H[K[43;7H[34m//go thru chain of keyValues[m[43;35H[K[44;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[45;7H  free(p); [34m//free KeyValue struct[m[46;5H  }[47;5H}[48;5H[K[49;172H4,3 [34;7H[?25h[?25l[49;174H4[34;8H[?25h[?25l[49;174H5[34;9H[?25h[?25l[49;174H6[34;10H[?25h[?25l[49;174H7[34;11H[?25h[?25l[49;174H8[34;12H[?25h[?25l[49;174H9[34;13H[?25h[?25l[49;174H10[34;14H[?25h[?25l[49;175H1[34;15H[?25h[?25l[49;175H2[34;16H[?25h[?25l[49;175H3[34;17H[?25h[?25l[49;175H4[34;18H[?25h[?25l[49;175H5[34;19H[?25h[?25l[49;175H6[34;20H[?25h[?25l[49;175H7[34;21H[?25h[?25l[49;175H8[34;22H[?25h[?25l[34;22H[K[35;7Hkv->succ = keyValues;[36;7H[K[37;5H  [38;5;130mreturn[m kv;[38;5H}[39;5H[K[40;5H[34m/** Free all the key-value's in keyValues. */[m[41;5H[32mstatic[m [32mvoid[m[41;16H[K[42;5Hfree_key_values([32mstruct[m KeyValue *keyValues)[43;5H{[43;7H[K[44;7H[34m//go thru chain of keyValues[m[44;35H[K[45;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[46;7H  free(p); [34m//free KeyValue struct[m[47;5H  }[48;5H}[49;172H5,3 [35;7H[?25h[49;1H[K[35;6H[?25l[49;161H^[[35;6H[49;161H  [35;7H[49;171H35,2[10CTop[35;6H[?25h[?25l[49;161H:[35;6H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 78L, 2209C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.c[7Pman strcpyvim bug-program.cls[Kclearvi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.cmake[Kvi bug-program.cls[Kcp bug-program.c bug-program.c.oldls[Kvi bug-program.valgrind ls[Kvi bug-program.c[6Pman mallocvi bug-program.c[2@nano[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvalgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.valgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 190L, 12321C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2900619==    definitely lost: 4 bytes in 1 blocks
==2900619==    indirectly lost: 0 bytes in 0 blocks
==2900619==      possibly lost: 0 bytes in 0 blocks
==2900619==    still reachable: 0 bytes in 0 blocks
==2900619==[9Csuppressed: 0 bytes in 0 blocks
==2900619==
==2900619== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)
==2900619==
==2900619== 1 errors in context 1 of 4:
==2900619== Invalid read of size 8
==2900619==    at 0x109205: free_key_values (bug-program.c:45)
==2900619==    by 0x109205: main (bug-program.c:76)
==2900619==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd
==2900619==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2900619==    by 0x109204: free_key_values (bug-program.c:46)
==2900619==    by 0x109204: main (bug-program.c:76)
==2900619==  Block was alloc'd at
==2900619==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2900619==    by 0x1091A2: add_key_value (bug-program.c:21)
==2900619==    by 0x1091A2: make_key_values (bug-program.c:63)
==2900619==    by 0x1091A2: main (bug-program.c:72)
==2900619==
==2900619==
==2900619== 1 errors in context 2 of 4:
==2900619== Invalid read of size 1
==2900619==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2900619==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2900619==    by 0x48D6605: printf (printf.c:33)
==2900619==    by 0x1091F3: main (bug-program.c:74)
==2900619==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2900619==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2900619==    by 0x1091AF: add_key_value (bug-program.c:24)
==2900619==    by 0x1091AF: make_key_values (bug-program.c:63)
==2900619==    by 0x1091AF: main (bug-program.c:72)
==2900619==
==2900619==
==2900619== 1 errors in context 3 of 4:
==2900619== Invalid write of size 1
==2900619==    at 0x1091C0: add_key_value (bug-program.c:30)
==2900619==    by 0x1091C0: make_key_values (bug-program.c:63)
==2900619==    by 0x1091C0: main (bug-program.c:72)
==2900619==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2900619==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2900619==    by 0x1091AF: add_key_value (bug-program.c:24)
==2900619==    by 0x1091AF: make_key_values (bug-program.c:63)
==2900619==    by 0x1091AF: main (bug-program.c:72)
==2900619==
==2900619== ERROR SUMMARY: 4 errors from 4 contexts (suppressed: 0 from 0)[49;171H190,1[9CBot[48;1H[?25h[?25l[49;161H:[48;1H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ clear
[H[2J[3J]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.c.old  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ cd [K[K[Kvim bug-program
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program" [noeol][converted] 14L, 22240C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m^?[mELF[34m^B^A^A^@^@^@^@^@^@^@^@^@^C^@[m>[34m^@^A^@^@^@[m°[1;46H[34m^P^@^@^@^@^@^@[m@[34m^@^@^@^@^@^@^@[mè[1;76HJ[34m^@^@^@^@^@^@^@^@^@^@[m@[34m^@[m8[34m^@^K^@[m@[34m^@[m%[34m^@[m$[34m^@^F^@^@^@^D^@^@^@[m@[34m^@^@^@^@^@^@^@[m@[34m^@^@^@^@^@^@^@[m@[34m^@^@^@^@^@^@^@[mh[34m^B^@^@^@^@^^[2;1H@^@[mh[34m^B^@^@^@^@^@^@^H^@^@^@^@^@^@^@^C^@^@^@^D^@^@^@[m¨[2;52H[34m^B^@^@^@^@^@^@[m¨[2;67H[34m^B^@^@^@^@^@^@[m¨[2;82H[34m^B^@^@^@^@^@^@^\^@^@^@^@^@^@^@^\^@^@^@^@^@^@^@^A^@^@^@^@^@^@^@^A^@^@^@^D^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[3;1H@^@^@^@^@^@^@^@^@^@[mø[3;21H[34m^F^@^@^@^@^@^@[mø[3;36H[34m^F^@^@^@^@^@^@^@^P^@^@^@^@^@^@^A^@^@^@^E^@^@^@^@^P^@^@^@^@^@^@^@^P^@^@^@^@^@^@^@^P^@^@^@^@^@^@[m½[3;131H[34m^B^@^@^@^@^@^@[m½[3;146H[34m^B^@^@^@^@^@^@^@^P^@^@^@^@^@^@^A^@^@^@^D^@^^[4;1H@^@^@[m [34m^@^@^@^@^@^@^@[m [34m^@^@^@^@^@^@^@[m [34m^@^@^@^@^@^@[mx[34m^A^@^@^@^@^@^@[mx[34m^A^@^@^@^@^@^@^@^P^@^@^@^@^@^@^A^@^@^@^F^@^@^@[mè[4;112H-[34m^@^@^@^@^@^@[mè[4;126H=[34m^@^@^@^@^@^@[mè[4;140H=[34m^@^@^@^@^@^@[mx[34m^B^@^@^@^@^@^@<88>^B^@^@^@^@^@^@^@^^[5;1HP^@^@^@^@^@^@^B^@^@^@^F^@^@^@[mø[5;31H-[34m^@^@^@^@^@^@[mø[5;45H=[34m^@^@^@^@^@^@[mø[5;59H=[34m^@^@^@^@^@^@[mà[5;73H[34m^A^@^@^@^@^@^@[mà[5;88H[34m^A^@^@^@^@^@^@^H^@^@^@^@^@^@^@^D^@^@^@^D^@^@^@[mÄ[34m^B^@^@^@^@^@^@[mÄ[34m^B^@^@^@^@^@^@[mÄ[34m^B^@^@^@^@^@^@[mD[34m^@^@^@^@^^[6;1H@^@^@[mD[34m^@^@^@^@^@^@^@^D^@^@^@^@^@^@^@[mPåtd[34m^D^@^@^@[m  [34m^@^@^@^@^@^@[m  [34m^@^@^@^@^@^@[m  [34m^@^@^@^@^@^@[m<[34m^@^@^@^@^@^@^@[m<[34m^@^@^@^@^@^@^@^D^@^@^@^@^@^@^@[mQåtd[34m^F^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[7;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^P^@^@^@^@^@^@^@[mRåtd[34m^D^@^@^@[mè[7;70H-[34m^@^@^@^@^@^@[mè[7;84H=[34m^@^@^@^@^@^@[mè[7;98H=[34m^@^@^@^@^@^@^X^B^@^@^@^@^@^@^X^B^@^@^@^@^@^@^A^@^@^@^@^@^@^@[m/lib64/ld-linux-x86-64.so.2[34m^@^^[8;1HD^@^@^@^P^@^@^@^A^@^@^@[mGNU[34m^@^@^@^@^@^C^@^@^@^B^@^@^@^@^@^@^@^D^@^@^@^T^@^@^@^C^@^@^@[mGNU[34m^@<98>[m¦Ãýo}[34m^@^A<9b>[m;Æ[8;109H[34m^_[m=ô[34m<90>[m-3©ã[34m<9a>^B^@^@^@^L^@^@^@^A^@^@^@^F^@^@^@^@^A<81>^@^@^@^@^B^L^@^@^@^M^@^@@[9;1H^@[mÑeÎm9ò[9;9H[34m<8b>^\^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@[ma[34m^@^@^@^R^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^P^@^@^@^R^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@[mr[34m^@^@^@[m [34m^@^@^@^@^@^@^@^@^@^@^@^^[10;1H@^@^@^@^@^@^@^@[m0[34m^@^@^@^R^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@[mO[34m^@^@^@^R^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@[m/[34m^@^@^@^R^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@<8e>^@^@^@[m [34m^@^@^@^@^@^@^@^@^@^@^^[11;1H@^@^@^@^@^@^@^@^@[m![34m^@^@^@^R^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^K^@^@^@^R^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@<9d>^@^@^@[m [34m^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@[mF[34m^@^@^@^R^@^@^@^@^@^@^@^@^@@[12;1H^@^@^@^@^@^@^@^@^@^@[m7[34m^@^@^@[m"[34m^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@[m([34m^@^@^@^Q^@^Y^@[m`@[34m^@^@^@^@^@^@^H^@^@^@^@^@^@^@^@[mlibc.so.6[34m^@[mexit[34m^@[m__errno_location[34m^@[mmalloc[34m^@[mstderr[34m^@[mfprintf[34m^@[m__cxa_finalize[34m^^[13;1H@[mstrerror[34m^@[m__libc_start_main[34m^@[mfree[34m^@[mGLIBC_2.2.5[34m^@[m_ITM_deregisterTMCloneTable[34m^@[m__gmon_start__[34m^@[m_ITM_registerTMCloneTable[34m^@^@^@^@^B^@^B^@^@^@^B^@^B^@^B^@^@^@^B^@^B^@^@^@^B^@^B^@^B^@^@^@^@^@^^[14;1HA^@^A^@^A^@^@^@^P^@^@^@^@^@^@^@[mu[34m^Z[mi [34m^@^@^B^@[mf[34m^@^@^@^@^@^@^@[mè[14;61H=[34m^@^@^@^@^@^@^H^@^@^@^@^@^@^@<90>^Q^@^@^@^@^@^@[mð[14;109H=[34m^@^@^@^@^@^@^H^@^@^@^@^@^@^@[mP[34m^Q^@^@^@^@^@^@[mX@[34m^@^@^@^@^@^@^H^@^@^@^@^@^@^@[mX@[34m^@^@@[15;1H^@^@^@^@[mØ[15;10H?[34m^@^@^@^@^@^@^F^@^@^@^C^@^@^@^@^@^@^@^@^@^@^@[mà[15;56H?[34m^@^@^@^@^@^@^F^@^@^@^E^@^@^@^@^@^@^@^@^@^@^@[mè[15;102H?[34m^@^@^@^@^@^@^F^@^@^@^G^@^@^@^@^@^@^@^@^@^@^@[mð[15;148H?[34m^@^@^@^@^@^@^F^@^@^@
^@^@^@^@^@^@^@^@^@^@^@[mø[16;24H?[34m^@^@^@^@^@^@^F^@^@^@^L^@^@^@^@^@^@^@^@^@^@^@[m`@[34m^@^@^@^@^@^@^E^@^@^@^M^@^@^@^@^@^@^@^@^@^@^@^X[m@[34m^@^@^@^@^@^@^G^@^@^@^A^@^@^@^@^@^@^@^@^@^@^@[m @[34m^@^@^@^@^@^@^G^@^@^@^B^@^^[17;1H@^@^@^@^@^@^@^@^@^@[m(@[34m^@^@^@^@^@^@^G^@^@^@^D^@^@^@^@^@^@^@^@^@^@^@[m0@[34m^@^@^@^@^@^@^G^@^@^@^F^@^@^@^@^@^@^@^@^@^@^@[m8@[34m^@^@^@^@^@^@^G^@^@^@^H^@^@^@^@^@^@^@^@^@^@^@[m@@[34m^@^@^@^@^@^@^G^@^@^@[m [34m^@^@^@^@@[18;1H^@^@^@^@^@^@^@[mH@[34m^@^@^@^@^@^@^G^@^@^@^K^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[19;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[20;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[21;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[22;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[23;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[24;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[25;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[26;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[27;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[28;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[29;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[30;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[31;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[32;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[33;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[34;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[35;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[36;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[37;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[38;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[39;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[40;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[41;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[42;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@[mH[34m<83>[mì[42;179H[34m^H[mH[34m<8b>^E[mÝ [43;1H/[34m^@^@[mH[34m<85>[mÀt[34m^B[mÿÐ[43;17HH[34m<83>[mÄ[34m^H[mÃ[34m^@^@^@^@^@^@^@^@^@[mÿ5â/[34m^@^@[mÿ%ä/[34m^@^@^O^_[m@[34m^@[mÿ%â/[34m^@^@[mh[34m^@^@^@^@[mé[43;85Hà[43;86Hÿÿÿÿ%Ú/[34m^@^@[mh[34m^A^@^@^@[mé[43;107HÐ[43;108Hÿÿÿÿ%Ò/[34m^@^@[mh[34m^B^@^@^@[mé[43;129HÀÿÿÿÿ%Ê/[34m^@^@[mh[34m^C^@^@^@[mé[43;151H°[43;152Hÿÿÿÿ%Â/[34m^@^@[mh[34m^D^@^@^@[mé[43;173H ÿÿÿÿ%º[43;180H/[34m^@^@[mh[34m^E^^[44;1H@^@^@[mé[44;7H[34m<90>[mÿÿÿÿ%²[44;17H/[34m^@^@[mh[34m^F^@^@^@[mé[44;32H[34m<80>[mÿÿÿÿ%R/[34m^@^@[mf[34m<90>^@^@^@^@^@^@^@^@[m1í[44;70HI[34m<89>[mÑ^H[34m<89>[mâH[34m<83>[mäð[44;90HPTL[34m<8d>^E[mê[44;100H[34m^A^@^@[mH[34m<8d>^M<83>^A^@^@[mH[34m<8d>[m=Á[34m^@^@^@[mÿ[34m^U^F[m/[34m^@^@[mô[34m^O^_[mD[34m^@^@[mH[34m<8d>[m=y/[34m^@^@[mH[34m<8d>^E[mr/[34m^@^@[mH9ø[44;184Ht[34m^U[mH[34m<<[45;1H8b>^E[mÞ[45;7H.[34m^@^@[mH[34m<85>[mÀt  ÿà[45;23H[34m^O^_<80>^@^@^@^@[mÃ[34m^O^_<80>^@^@^@^@[mH[34m<8d>[m=I/[34m^@^@[mH[34m<8d>[m5B/[34m^@^@[mH)þ[45;83HHÁþ[45;86H[34m^C[mH[34m<89>[mð[45;94HHÁè[45;97H?H[34m^A[mÆ[45;102HHÑþ[45;105Ht[34m^T[mH[34m<8b>^E[mµ.[34m^@^@[mH[34m<85>[mÀt[34m^H[mÿà[45;132Hf[34m^O^_[mD[34m^@^@[mÃ[34m^O^_<80>^@^@^@^@<80>[m=[34m^Q[m/[34m^@^@^@[mu/UH[34m<83>[m=[34m<96>[m.[34m^@@[46;1H^@^@[mH[34m<89>[måt[34m^L[mH[34m<8b>[m=ê[46;21H.[34m^@^@[mè[46;27H-ÿÿÿè[46;32HhÿÿÿÆ[46;37H[34m^E[mé[46;40H.[34m^@^@^A[m]Ã[34m^O^_<80>^@^@^@^@[mÃ[34m^O^_<80>^@^@^@^@[mé[46;83H{ÿÿÿATUS¿[46;92H[34m^X^@^@^@[mè[46;101HÍþ[46;103HÿÿH[34m<89>[mÅ¿[46;112H[34m^D^@^@^@[mè[46;121HÀþ[46;123HÿÿH[34m<85>[mí[46;131HtcH[34m<85>[mÀt^Ç[34m^@[mtwasÆ[46;149H@[34m^D^@[mH[34m<89>[mE[34m^@[mÇE[34m^H^@^@^@^@[mHÇE[34m^P^@^@^@^@[mH[34m<<[47;1H89>[mëL[34m<8d>[m%7[34m^N^@^@<8b>[mS[34m^H[mH[34m<8b>[m3L[34m<89>[mç¸[47;38H[34m^@^@^@^@[mè[47;47H\þ[47;49HÿÿH[34m<8b>[m[[34m^P[mH[34m<85>[mÛuäH[34m<89>[mïè[47;74H+þ[47;76HÿÿH[34m<8b>[mm[34m^P[mH[34m<85>[mí[47;92Huï¸[47;95H[34m^@^@^@^@[m[]A\Ãè[47;109H#þ[47;111Hÿÿ[34m<8b>[m8è[47;119Hlþ[47;121HÿÿH[34m<89>[mÂH[34m<8d>[m5Ö[34m^M^@^@[mH[34m<8b>[m=+.[34m^@^@[m¸[47;155H[34m^@^@^@^@[mè[47;164H!þ[47;166Hÿÿ¿[47;169H[34m^A^@^@^@[mè[47;178H7þ[47;180Hÿÿ[34m^O^_<800[48;1H>^@^@^@^@[mAWI[34m<89>[m×[48;18HAVI[34m<89>[möAUA[34m<89>[mýATL[34m<8d>[m%[34m<80>[m+[34m^@^@[mUH[34m<8d>[m-[34m<80>[m+[34m^@^@[mSL)åH[34m<83>[mì[48;77H[34m^H[mè[48;80H[34m<83>[mýÿÿHÁý[34m^C[mt[34m^[[m1Û[34m^O^_^@[mL[34m<89>[mú[48;109HL[34m<89>[möD[34m<89>[mïAÿ[34m^T[mÜH[34m<83>[mÃ[34m^A[mH9Ýuê[48;139HH[34m<83>[mÄ[34m^H[m[]A\A]A^A_Ã[34m^O^_^@[mÃ[34m^@^@^@[mH[34m<83>[mì[48;177H[34m^H[mH[34m<83>[mÄ[34m^H[mÃ[34m^[m[48;1H[94m@@@                                                                                                                                                                                         [m[49;171H1,1[11CTop[1;1H[?25h[?25l[49;161Hq[1;1H[?25h[?25l[49;162H:[1;1H[49;161H  [1;1H[49;1H[K[49;1H:[?2004h[39;1H[94m@@@                                                                                                                                                                                         [m[40;1H[7mbug-program                                                                                                                                                               1,1            Top[m[41;1H[94m:[m[38;5;130mset[m linenumber on[41;19H[K[42;1H[94m:[m[38;5;130mw[m[42;3H[K[43;1H[94m:[m[38;5;130mq[m![43;4H[K[44;1H[94m:[m[38;5;130mset[m [35mnumber[m[44;12H[K[45;1H[94m:[m[38;5;130mwq[m[45;4H[K[46;1H[94m:[m[38;5;130mq[m[46;3H[K[47;1H[94m:[m[47;2H[K[48;1H[1m[7m[Command Line]                                                                                                                                                            15,0-1         Bot[47;2H[?25h[?25l[m[49;178H:q[47;2H[?25h[?25l[49;180H^M[47;2H[49;178H    [47;2H[?25h[?25l[49;178Hqq[47;2H

[1mrecording @q[m[49;178H[K[47;2H[?25h[?25l[49;178Hq[47;2H[49;1H[K[47;2H[?25h[?25l[49;178H^M[47;2H[49;178H  [47;2H

[39;1H[34m^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[40;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[41;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@@[42;1H^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@[mH[34m<83>[mì[42;179H[34m^H[mH[34m<8b>^E[mÝ [43;1H/[34m^@^@[mH[34m<85>[mÀt[34m^B[mÿÐ[43;17HH[34m<83>[mÄ[34m^H[mÃ[34m^@^@^@^@^@^@^@^@^@[mÿ5â/[34m^@^@[mÿ%ä/[34m^@^@^O^_[m@[34m^@[mÿ%â/[34m^@^@[mh[34m^@^@^@^@[mé[43;85Hà[43;86Hÿÿÿÿ%Ú/[34m^@^@[mh[34m^A^@^@^@[mé[43;107HÐ[43;108Hÿÿÿÿ%Ò/[34m^@^@[mh[34m^B^@^@^@[mé[43;129HÀÿÿÿÿ%Ê/[34m^@^@[mh[34m^C^@^@^@[mé[43;151H°[43;152Hÿÿÿÿ%Â/[34m^@^@[mh[34m^D^@^@^@[mé[43;173H ÿÿÿÿ%º[43;180H/[34m^@^@[mh[34m^E^^[44;1H@^@^@[mé[44;7H[34m<90>[mÿÿÿÿ%²[44;17H/[34m^@^@[mh[34m^F^@^@^@[mé[44;32H[34m<80>[mÿÿÿÿ%R/[34m^@^@[mf[34m<90>^@^@^@^@^@^@^@^@[m1í[44;70HI[34m<89>[mÑ^H[34m<89>[mâH[34m<83>[mäð[44;90HPTL[34m<8d>^E[mê[44;100H[34m^A^@^@[mH[34m<8d>^M<83>^A^@^@[mH[34m<8d>[m=Á[34m^@^@^@[mÿ[34m^U^F[m/[34m^@^@[mô[34m^O^_[mD[34m^@^@[mH[34m<8d>[m=y/[34m^@^@[mH[34m<8d>^E[mr/[34m^@^@[mH9ø[44;184Ht[34m^U[mH[34m<<[45;1H8b>^E[mÞ[45;7H.[34m^@^@[mH[34m<85>[mÀt  ÿà[45;23H[34m^O^_<80>^@^@^@^@[mÃ[34m^O^_<80>^@^@^@^@[mH[34m<8d>[m=I/[34m^@^@[mH[34m<8d>[m5B/[34m^@^@[mH)þ[45;83HHÁþ[45;86H[34m^C[mH[34m<89>[mð[45;94HHÁè[45;97H?H[34m^A[mÆ[45;102HHÑþ[45;105Ht[34m^T[mH[34m<8b>^E[mµ.[34m^@^@[mH[34m<85>[mÀt[34m^H[mÿà[45;132Hf[34m^O^_[mD[34m^@^@[mÃ[34m^O^_<80>^@^@^@^@<80>[m=[34m^Q[m/[34m^@^@^@[mu/UH[34m<83>[m=[34m<96>[m.[34m^@@[46;1H^@^@[mH[34m<89>[måt[34m^L[mH[34m<8b>[m=ê[46;21H.[34m^@^@[mè[46;27H-ÿÿÿè[46;32HhÿÿÿÆ[46;37H[34m^E[mé[46;40H.[34m^@^@^A[m]Ã[34m^O^_<80>^@^@^@^@[mÃ[34m^O^_<80>^@^@^@^@[mé[46;83H{ÿÿÿATUS¿[46;92H[34m^X^@^@^@[mè[46;101HÍþ[46;103HÿÿH[34m<89>[mÅ¿[46;112H[34m^D^@^@^@[mè[46;121HÀþ[46;123HÿÿH[34m<85>[mí[46;131HtcH[34m<85>[mÀt^Ç[34m^@[mtwasÆ[46;149H@[34m^D^@[mH[34m<89>[mE[34m^@[mÇE[34m^H^@^@^@^@[mHÇE[34m^P^@^@^@^@[mH[34m<<[47;1H89>[mëL[34m<8d>[m%7[34m^N^@^@<8b>[mS[34m^H[mH[34m<8b>[m3L[34m<89>[mç¸[47;38H[34m^@^@^@^@[mè[47;47H\þ[47;49HÿÿH[34m<8b>[m[[34m^P[mH[34m<85>[mÛuäH[34m<89>[mïè[47;74H+þ[47;76HÿÿH[34m<8b>[mm[34m^P[mH[34m<85>[mí[47;92Huï¸[47;95H[34m^@^@^@^@[m[]A\Ãè[47;109H#þ[47;111Hÿÿ[34m<8b>[m8è[47;119Hlþ[47;121HÿÿH[34m<89>[mÂH[34m<8d>[m5Ö[34m^M^@^@[mH[34m<8b>[m=+.[34m^@^@[m¸[47;155H[34m^@^@^@^@[mè[47;164H!þ[47;166Hÿÿ¿[47;169H[34m^A^@^@^@[mè[47;178H7þ[47;180Hÿÿ[34m^O^_<800[48;1H>^@^@^@^@[mAWI[34m<89>[m×[48;18HAVI[34m<89>[möAUA[34m<89>[mýATL[34m<8d>[m%[34m<80>[m+[34m^@^@[mUH[34m<8d>[m-[34m<80>[m+[34m^@^@[mSL)åH[34m<83>[mì[48;77H[34m^H[mè[48;80H[34m<83>[mýÿÿHÁý[34m^C[mt[34m^[[m1Û[34m^O^_^@[mL[34m<89>[mú[48;109HL[34m<89>[möD[34m<89>[mïAÿ[34m^T[mÜH[34m<83>[mÃ[34m^A[mH9Ýuê[48;139HH[34m<83>[mÄ[34m^H[m[]A\A]A^A_Ã[34m^O^_^@[mÃ[34m^@^@^@[mH[34m<83>[mì[48;177H[34m^H[mH[34m<83>[mÄ[34m^H[mÃ[34m^[m[48;1H[94m@@@                                                                                                                                                                                         [m[49;171H1,1[11CTop[1;1H[?25h[?25l[49;161H^M[1;1H[49;161H  [1;1H[1;48r[1;1H[15M[1;49r[33;1H[34m>^@^@^@^@[mAWI[34m<89>[m×[33;18HAVI[34m<89>[möAUA[34m<89>[mýATL[34m<8d>[m%[34m<80>[m+[34m^@^@[mUH[34m<8d>[m-[34m<80>[m+[34m^@^@[mSL)åH[34m<83>[mì[33;77H[34m^H[mè[33;80H[34m<83>[mýÿÿHÁý[34m^C[mt[34m^[[m1Û[34m^O^_^@[mL[34m<89>[mú[33;109HL[34m<89>[möD[34m<89>[mïAÿ[34m^T[mÜH[34m<83>[mÃ[34m^A[mH9Ýuê[33;139HH[34m<83>[mÄ[34m^H[m[]A\A]A^A_Ã[34m^O^_^@[mÃ[34m^@^@^@[mH[34m<83>[mì[33;177H[34m^H[mH[34m<83>[mÄ[34m^H[mÃ[34m^^[34;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[35;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[36;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[37;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[38;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[39;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[40;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[41;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[42;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[43;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[44;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[45;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[46;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[47;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^^[48;1H@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^@^[m[49;171H[K[49;171H2,1[12C7%[1;1H[?25h[?25l[49;161H:[1;1H[49;161H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ cle[K[K[Kvi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 78L, 2209C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//go thru chain of keyValues[m
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    free(p); [34m//free KeyValue struct[m
  }
}[49;171H35,2[10CTop[35;2H[?25h[?25l[49;161H:[35;2H[49;1H[K[49;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[35;6H[1;1H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m
[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m
[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;       [34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[9C    [34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s;
[38;5;130m 34 [m  kv->value = v;
[38;5;130m 35 [m  kv->succ = keyValues;
[38;5;130m 36 
 37 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 38 [m}
[38;5;130m 39 
 40 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 41 [m[32mstatic[m [32mvoid[m
[38;5;130m 42 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 43 [m{
[38;5;130m 44 [m  [34m//go thru chain of keyValues[m
[38;5;130m 45 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
[38;5;130m 46 [m    free(p); [34m//free KeyValue struct[m
[38;5;130m 47 [m  }
[38;5;130m 48 [m}[49;171H35,2[10CTop[35;6H[?25h[?25l[49;161Hi[35;6H[49;161H [35;6H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H35,2[10CTop[35;6H[?25h[?25l[49;174H3[35;7H[?25h[?25l[49;172H6,1[36;5H[?25h[?25l[49;172H7,3[37;7H[?25h[?25l[19;5H[106m{[38;5H}[m[49;172H8,2[38;6H[?25h[?25l[19;5H{[38;5H}[49;172H9,1[39;5H[?25h[?25l[49;171H40,3[40;7H[?25h[?25l[49;172H1[41;7H[?25h[?25l[49;172H2[42;7H[?25h[?25l[43;5H[106m{[48;5H}[m[49;172H3,2[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 49 [m[49;171H[K[49;171H44,3[11C3%[42;5H{[47;5H}[43;7H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 50 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H[K[49;171H45,3[11C6%[43;7H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 51 [m[34m *  Jabberwocky with value being the index of the word.[m[49;171H[K[49;171H46,3[10C10%[43;7H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 52 [m[34m */[m[49;171H[K[49;171H47,3[10C13%[41;68H[106m{[43;7H}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[38;5;130m 53 [m[32mstatic[m [32mstruct[m KeyValue *[49;171H[K[49;171H48,2[10C16%[38;5H[106m{[m[40;68H{[42;7H}[43;5H[106m}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[38;5;130m 54 [mmake_key_values([32mvoid[m) {[49;171H[K[49;171H49,1[10C20%[37;5H{[42;5H}[43;5H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 55 [m  [32mconst[m [32mchar[m *keys[] = {[49;171H[K[49;171H50,3[10C23%[43;7H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 56 [m    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[49;171H[K[49;171H51,3[10C26%[43;7H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 57 [m[34m    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[49;171H[K[49;171H52,3[10C30%[43;7H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 58 [m[34m    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[49;171H[K[49;171H53,3[10C33%[43;7H[?25h[?25l[49;172H2[42;7H[?25h[?25l[49;172H1[41;7H[?25h[?25l[49;172H0[40;7H[?25h[?25l[49;171H49,1[39;5H[?25h[?25l[33;5H[106m{[38;5H}[m[49;172H8,2[38;6H[?25h[?25l[33;5H{[35;68H[106m{[37;7H}[m[38;5H}[49;172H7,3[37;7H[?25h[?25l[35;68H{[37;7H}[49;172H6[36;7H[?25h[?25l[49;172H5[35;7H[?25h[?25l[49;172H4[34;7H[?25h[?25l[33;5H[106m{[38;5H}[m[49;172H3,2[33;6H[?25h[?25l{[38;5H}[49;172H2,3[32;7H[?25h[?25l[33;5H[106m{[38;5H}[m[49;172H3,2[33;6H[?25h[?25l{[38;5H}[49;172H4,3[34;7H[?25h[?25l[49;172H5[35;7H[?25h[?25l[49;174H4[35;8H[?25h[?25l[49;174H5[35;9H[?25h[?25l[49;174H6[35;10H[?25h[?25l [106m([54C)[m[49;174H7[35;11H[?25h[?25l[49;174H8[35;12H[?25h[?25l([54C)[49;174H9[35;13H[?25h[?25l[49;174H10[35;14H[?25h[?25l[49;175H1[35;15H[?25h[?25l[49;175H2[35;16H[?25h[?25l[49;175H3[35;17H[?25h[?25l[49;175H4[35;18H[?25h[?25l[49;175H5[35;19H[?25h[?25l[49;175H6[35;20H[?25h[?25l[49;175H7[35;21H[?25h[?25l[49;175H8[35;22H[?25h[?25l[49;175H9[35;23H[?25h[?25l[49;174H20[35;24H[?25h[?25l[49;175H1[35;25H[?25h[?25l[49;175H2[35;26H[?25h[?25l[49;175H3[35;27H[?25h[?25l[49;175H4[35;28H[?25h[?25l[49;175H5[35;29H[?25h[?25l[49;175H6[35;30H[?25h[?25l[49;175H7[35;31H[?25h[?25l[49;175H8[35;32H[?25h[?25l[49;175H9[35;33H[?25h[?25l[49;174H30[35;34H[?25h[?25l[49;175H1[35;35H[?25h[?25l[49;175H2[35;36H[?25h[?25l[49;175H3[35;37H[?25h[?25l[49;175H5[35;39H[?25h[?25l[49;175H6[35;40H[?25h[?25l[49;175H7[35;41H[?25h[?25l[49;175H8[35;42H[?25h[?25l[49;175H9[35;43H[?25h[?25l[49;174H40[35;44H[?25h[?25l[49;175H1[35;45H[?25h[?25l[49;175H2[35;46H[?25h[?25l[49;175H3[35;47H[?25h[?25l[49;175H4[35;48H[?25h[?25l[49;175H5[35;49H[?25h[?25l[49;175H6[35;50H[?25h[?25l[49;175H7[35;51H[?25h[?25l[49;175H8[35;52H[?25h[?25l[49;175H9[35;53H[?25h[?25l[49;174H50[35;54H[?25h[?25l[49;175H1[35;55H[?25h[?25l[49;175H2[35;56H[?25h[?25l[49;175H3[35;57H[?25h[?25l[49;175H4[35;58H[?25h[?25l[49;175H5[35;59H[?25h[?25l[49;175H6[35;60H[?25h[?25l[49;175H7[35;61H[?25h[?25l[49;175H8[35;62H[?25h[?25l[49;175H9[35;63H[?25h[?25l[49;174H60[35;64H[?25h[?25l[49;175H1[35;65H[?25h[?25l[35;11H[106m([54C)[m[49;175H2[35;66H[?25h[?25l[49;175H3[35;67H[?25h[?25l[35;11H([54C) [106m{[37;7H}[m[49;175H4[35;68H[?25h[?25l[35;68H[K[36;7H{[36;9H[K[37;7H[106m [m free(p); [34m//free KeyValue struct[m[38;5H  }[39;5H}[40;5H[K[41;5H[34m/** Make key-values for all the words in the first verse of Carroll's[42;7H  Jabberwocky with value being the index of the word.[43;5H */[m[43;8H[K[44;5H[32mstatic[m [32mstruct[m KeyValue *[45;5Hmake_key_values([32mvoid[m) {[45;28H[K[46;7H[32mconst[m [32mchar[m *keys[] = {[46;29H[K[47;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[48;10H[31mdid[4Cgyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[36;7H[106m{[m[37;7H [38;7H[106m}[m[49;172H6,3 [10C2[36;7H[?25h[?25l[106m      [m{[36;7H      [106m{[m[49;174H4-9[36;13H[?25h[?25l[106m\[m{\[106m{[m[49;174H5-10[36;14H[?25h[?25l{[36;14H[K[36;13H[106m{[m[49;174H4-9 [36;13H[?25h[?25l{[36;13H[K[36;7H[106m{[m[49;174H3  [36;7H[?25h[?25l[49;174H4[36;8H[?25h[?25l{[38;7H}[49;174H5-9[36;13H[?25h[?25l[106m{[38;7H}[m[49;174H4  [36;8H[?25h[?25l[37;9H      [37;15H[K[38;7H[106m [m free(p); [34m//free KeyValue struct[m[39;5H  }[40;5H}[41;5H[K[42;5H[34m/** Make key-values for all the words in the first verse of Carroll's[43;7H  Jabberwocky with value being the index of the word.[44;5H */[m[44;8H[K[45;5H[32mstatic[m [32mstruct[m KeyValue *[46;5Hmake_key_values([32mvoid[m) {[46;28H[K[47;7H[32mconst[m [32mchar[m *keys[] = {[47;29H[K[48;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[36;7H{[38;7H [49;172H7,4-11[8C1[37;15H[?25h[?25l[49;174H3-10[37;14H[?25h[?25l[49;174H2-9 [37;13H[?25h[?25l[49;174H1  [37;5H[?25h[?25l    free(p); [34m//free KeyValue struct[m[38;7H}[38;9H[K[39;5H}[39;7H[K[40;5H[K[41;5H[34m/** Make key-values for all the words in the first verse of Carroll's[42;5H *  Jabberwocky with value being the index of the word.[m[42;60H[K[43;7H[34m/[m[43;8H[K[44;5H[32mstatic[m [32mstruct[m KeyValue *[45;5Hmake_key_values([32mvoid[m) {[45;28H[K[46;5H  [32mconst[m [32mchar[m *keys[] = {[47;7H  [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[48;5H    [m[1C[31mdid"[m[34m, [m[31m"gyre[m[1C[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[48;61H[K[36;7H[106m{[38;7H}[m[49;172H6,4[11C2[36;8H[?25h[?25l[36;7H[K[38;7H}[49;174H3[36;7H[?25h[?25l{[106m{[38;7H}[m[49;174H4[36;8H[?25h[?25l[37;9H      [37;15H[K[38;7H[106m [m free(p); [34m//free KeyValue struct[m[39;5H  }[40;5H}[41;5H[K[42;5H[34m/** Make key-values for all the words in the first verse of Carroll's[43;7H  Jabberwocky with value being the index of the word.[44;5H */[m[44;8H[K[45;5H[32mstatic[m [32mstruct[m KeyValue *[46;5Hmake_key_values([32mvoid[m) {[46;28H[K[47;7H[32mconst[m [32mchar[m *keys[] = {[47;29H[K[48;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[36;7H{[38;7H [49;172H7,4-11[8C1[37;15H[?25h[?25l[49;174H3-10[37;14H[?25h[?25l[49;174H2-9 [37;13H[?25h[?25l[49;174H1  [37;5H[?25h[?25l    free(p); [34m//free KeyValue struct[m[38;7H}[38;9H[K[39;5H}[39;7H[K[40;5H[K[41;5H[34m/** Make key-values for all the words in the first verse of Carroll's[42;5H *  Jabberwocky with value being the index of the word.[m[42;60H[K[43;7H[34m/[m[43;8H[K[44;5H[32mstatic[m [32mstruct[m KeyValue *[45;5Hmake_key_values([32mvoid[m) {[45;28H[K[46;5H  [32mconst[m [32mchar[m *keys[] = {[47;7H  [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[48;5H    [m[1C[31mdid"[m[34m, [m[31m"gyre[m[1C[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[48;61H[K[36;7H[106m{[38;7H}[m[49;172H6,4[11C2[36;8H[?25h[?25l[37;9H      [37;15H[K[38;7H[106m [m free(p); [34m//free KeyValue struct[m[39;5H  }[40;5H}[41;5H[K[42;5H[34m/** Make key-values for all the words in the first verse of Carroll's[43;7H  Jabberwocky with value being the index of the word.[44;5H */[m[44;8H[K[45;5H[32mstatic[m [32mstruct[m KeyValue *[46;5Hmake_key_values([32mvoid[m) {[46;28H[K[47;7H[32mconst[m [32mchar[m *keys[] = {[47;29H[K[48;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[36;7H{[38;7H [49;172H7,4-11[8C1[37;15H[?25h[?25l[49;174H3-10[37;14H[?25h[?25l[49;174H2-9 [37;13H[?25h[?25l[49;174H1  [37;5H[?25h[?25l[49;174H2-9[37;13H[?25h[?25l[49;174H1  [37;5H[?25h[?25l[49;174H2[37;6H[?25h[?25l[49;174H3[37;7H[?25h[?25l[49;174H4[37;8H[?25h[?25l[49;174H5[37;9H[?25h[?25l/[49;174H6[37;10H[?25h[?25l[34m//[m[49;174H7[37;11H[?25h[?25l[34m [m[49;174H8[37;12H[?25h[?25l[34mF[m[49;174H9[37;13H[?25h[?25l[34mi[m[49;174H10[37;14H[?25h[?25l[34mr[m[49;175H1[37;15H[?25h[?25l[34ms[m[49;175H2[37;16H[?25h[?25l[34mt[m[49;175H3[37;17H[?25h[?25l[34m [m[49;175H4[37;18H[?25h[?25l[34mf[m[49;175H5[37;19H[?25h[?25l[34mr[m[49;175H6[37;20H[?25h[?25l[34me[m[49;175H7[37;21H[?25h[?25l[34me[m[49;175H8[37;22H[?25h[?25l[34m [m[49;175H9[37;23H[?25h[?25l[34mt[m[49;174H20[37;24H[?25h[?25l[34mh[m[49;175H1[37;25H[?25h[?25l[34me[m[49;175H2[37;26H[?25h[?25l[34m [m[49;175H3[37;27H[?25h[?25l[34me[m[49;175H4[37;28H[?25h[?25l[34mm[m[49;175H5[37;29H[?25h[?25l[37;28H[K[49;175H4[37;28H[?25h[?25l[37;27H[K[49;175H3[37;27H[?25h[?25l[34mm[m[49;175H4[37;28H[?25h[?25l[34me[m[49;175H5[37;29H[?25h[?25l[34mm[m[49;175H6[37;30H[?25h[?25l[34mo[m[49;175H7[37;31H[?25h[?25l[34mr[m[49;175H8[37;32H[?25h[?25l[34my[m[49;175H9[37;33H[?25h[?25l[34m [m[49;174H30[37;34H[?25h[?25l[34mb[m[49;175H1[37;35H[?25h[?25l[34ml[m[49;175H2[37;36H[?25h[?25l[34mo[m[49;175H3[37;37H[?25h[?25l[34mc[m[49;175H4[37;38H[?25h[?25l[34mk[m[49;175H5[37;39H[?25h[?25l[34ms[m[49;175H6[37;40H[?25h[?25l[34m [m[49;175H7[37;41H[?25h[?25l[34mi[m[49;175H8[37;42H[?25h[?25l[34mn[m[49;175H9[37;43H[?25h[?25l[34ms[m[49;174H40[37;44H[?25h[?25l[34mi[m[49;175H1[37;45H[?25h[?25l[34md[m[49;175H2[37;46H[?25h[?25l[34mt[m[49;175H3[37;47H[?25h[?25l[34me[m[49;175H4[37;48H[?25h[?25l[34m [m[49;175H5[37;49H[?25h[?25l[34mt[m[49;175H6[37;50H[?25h[?25l[37;49H[K[49;175H5[37;49H[?25h[?25l[37;48H[K[49;175H4[37;48H[?25h[?25l[37;47H[K[49;175H3[37;47H[?25h[?25l[37;46H[K[49;175H2[37;46H[?25h[?25l[37;45H[K[49;175H1[37;45H[?25h[?25l[34md[m[49;175H2[37;46H[?25h[?25l[34me[m[49;175H3[37;47H[?25h[?25l[34m [m[49;175H4[37;48H[?25h[?25l[34mt[m[49;175H5[37;49H[?25h[?25l[34mh[m[49;175H6[37;50H[?25h[?25l[34me[m[49;175H7[37;51H[?25h[?25l[34m [m[49;175H8[37;52H[?25h[?25l[34mp[m[49;175H9[37;53H[?25h[?25l[34mo[m[49;174H50[37;54H[?25h[?25l[34mi[m[49;175H1[37;55H[?25h[?25l[34mn[m[49;175H2[37;56H[?25h[?25l[34mt[m[49;175H3[37;57H[?25h[?25l[34me[m[49;175H4[37;58H[?25h[?25l[34mr[m[49;175H5[37;59H[?25h[?25l[34m [m[49;175H6[37;60H[?25h[?25l[37;59H[K[49;175H5[37;59H[?25h[?25l[34m,[m[49;175H6[37;60H[?25h[?25l[34m [m[49;175H7[37;61H[?25h[?25l[34mt[m[49;175H8[37;62H[?25h[?25l[34mh[m[49;175H9[37;63H[?25h[?25l[34me[m[49;174H60[37;64H[?25h[?25l[34mn[m[49;175H1[37;65H[?25h[?25l[34m [m[49;175H2[37;66H[?25h[?25l[34mf[m[49;175H3[37;67H[?25h[?25l[34mr[m[49;175H4[37;68H[?25h[?25l[34me[m[49;175H5[37;69H[?25h[?25l[34me[m[49;175H6[37;70H[?25h[?25l[34m [m[49;175H7[37;71H[?25h[?25l[34mt[m[49;175H8[37;72H[?25h[?25l[34mh[m[49;175H9[37;73H[?25h[?25l[34me[m[49;174H70[37;74H[?25h[?25l[34m [m[49;175H1[37;75H[?25h[?25l[34mk[m[49;175H2[37;76H[?25h[?25l[34me[m[49;175H3[37;77H[?25h[?25l[34my[m[49;175H4[37;78H[?25h[?25l[34mv[m[49;175H5[37;79H[?25h[?25l[34ma[m[49;175H6[37;80H[?25h[?25l[34ml[m[49;175H7[37;81H[?25h[?25l[34mi[m[49;175H8[37;82H[?25h[?25l[34me[m[49;175H9[37;83H[?25h[?25l[34m [m[49;174H80[37;84H[?25h[?25l[37;83H[K[49;174H79[37;83H[?25h[?25l[37;82H[K[49;175H8[37;82H[?25h[?25l[37;81H[K[49;175H7[37;81H[?25h[?25l[34mu[m[49;175H8[37;82H[?25h[?25l[34me[m[49;175H9[37;83H[?25h[?25l[34m [m[49;174H80[37;84H[?25h[?25l[34mi[m[49;175H1[37;85H[?25h[?25l[34mt[m[49;175H2[37;86H[?25h[?25l[34ms[m[49;175H3[37;87H[?25h[?25l[34me[m[49;175H4[37;88H[?25h[?25l[34ml[m[49;175H5[37;89H[?25h[?25l[34mf[m[49;175H6[37;90H[?25h[?25l[34m.[m[49;175H7[37;91H[?25h[?25l[49;175H6[37;90H[?25h[?25l[49;175H5[37;89H[?25h[?25l[49;175H4[37;88H[?25h[?25l[49;175H3[37;87H[?25h[?25l[49;175H2[37;86H[?25h[?25l[49;175H1[37;85H[?25h[?25l[49;175H0[37;84H[?25h[?25l[49;174H79[37;83H[?25h[?25l[49;175H8[37;82H[?25h[?25l[49;175H7[37;81H[?25h[?25l[49;175H6[37;80H[?25h[?25l[49;175H5[37;79H[?25h[?25l[49;175H4[37;78H[?25h[?25l[49;175H3[37;77H[?25h[?25l[49;175H2[37;76H[?25h[?25l[49;175H1[37;75H[?25h[?25l[49;175H0[37;74H[?25h[?25l[49;174H69[37;73H[?25h[?25l[49;175H8[37;72H[?25h[?25l[49;175H7[37;71H[?25h[?25l[49;175H6[37;70H[?25h[?25l[49;175H5[37;69H[?25h[?25l[49;175H4[37;68H[?25h[?25l[49;175H3[37;67H[?25h[?25l[49;175H2[37;66H[?25h[?25l[49;175H1[37;65H[?25h[?25l[49;175H0[37;64H[?25h[?25l[49;174H59[37;63H[?25h[?25l[49;175H8[37;62H[?25h[?25l[49;175H7[37;61H[?25h[?25l[49;175H6[37;60H[?25h[?25l[49;175H5[37;59H[?25h[?25l[49;175H4[37;58H[?25h[?25l[49;175H3[37;57H[?25h[?25l[49;175H2[37;56H[?25h[?25l[49;175H1[37;55H[?25h[?25l[49;175H0[37;54H[?25h[?25l[49;174H49[37;53H[?25h[?25l[49;175H8[37;52H[?25h[?25l[49;175H7[37;51H[?25h[?25l[49;175H6[37;50H[?25h[?25l[49;175H5[37;49H[?25h[?25l[49;175H4[37;48H[?25h[?25l[49;175H3[37;47H[?25h[?25l[49;175H2[37;46H[?25h[?25l[49;175H1[37;45H[?25h[?25l[49;175H0[37;44H[?25h[?25l[49;174H39[37;43H[?25h[?25l[49;175H8[37;42H[?25h[?25l[49;175H7[37;41H[?25h[?25l[49;175H6[37;40H[?25h[?25l[49;175H5[37;39H[?25h[?25l[49;175H4[37;38H[?25h[?25l[49;175H3[37;37H[?25h[?25l[49;175H2[37;36H[?25h[?25l[49;175H1[37;35H[?25h[?25l[49;175H0[37;34H[?25h[?25l[49;174H29[37;33H[?25h[?25l[49;175H8[37;32H[?25h[?25l[49;175H7[37;31H[?25h[?25l[49;175H6[37;30H[?25h[?25l[49;175H5[37;29H[?25h[?25l[49;175H4[37;28H[?25h[?25l[49;175H3[37;27H[?25h[?25l[34mkmemory blocks inside the pointer, then free the keyvalue itself.[m[49;175H4[37;28H[?25h[?25l[34mememory blocks inside the pointer, then free the keyvalue itself.[m[49;175H5[37;29H[?25h[?25l[34mymemory blocks inside the pointer, then free the keyvalue itself.[m[49;175H6[37;30H[?25h[?25l[34mvmemory blocks inside the pointer, then free the keyvalue itself.[m[49;175H7[37;31H[?25h[?25l[34mamemory blocks inside the pointer, then free the keyvalue itself.[m[49;175H8[37;32H[?25h[?25l[34mlmemory blocks inside the pointer, then free the keyvalue itself.[m[49;175H9[37;33H[?25h[?25l[34mumemory blocks inside the pointer, then free the keyvalue itself.[m[49;174H30[37;34H[?25h[?25l[34mememory blocks inside the pointer, then free the keyvalue itself.[m[49;175H1[37;35H[?25h[?25l[34m memory blocks inside the pointer, then free the keyvalue itself.[m[49;175H2[37;36H[?25h[?25l[49;174H96[37;100H[?25h[?25l[38;9H[34m// [m[38;12H[K[39;7H  free(p); [34m//free KeyValue struct[m[40;5H  }[41;5H}[42;5H[K[43;5H[34m/** Make key-values for all the words in the first verse of Carroll's[44;7H  Jabberwocky with value being the index of the word.[45;5H */[m[45;8H[K[46;5H[32mstatic[m [32mstruct[m KeyValue *[47;5Hmake_key_values([32mvoid[m) {[47;28H[K[48;7H[32mconst[m [32mchar[m *keys[] = {[48;29H[K[49;172H8,8 [10C0[38;12H[?25h[?25l[38;11H[K[49;174H7[38;11H[?25h[?25l/[38;10H[K[49;174H6[38;10H[?25h[?25l[38;9H[K[49;174H5[38;9H[?25h[?25lf[49;174H6[38;10H[?25h[?25lr[49;174H7[38;11H[?25h[?25le[49;174H8[38;12H[?25h[?25le[49;174H9[38;13H[?25h[?25l([49;174H10[38;14H[?25h[?25lp[49;175H1[38;15H[?25h[?25l-[49;175H2[38;16H[?25h[?25l>[49;175H3[38;17H[?25h[?25lk[49;175H4[38;18H[?25h[?25le[49;175H5[38;19H[?25h[?25ly[49;175H6[38;20H[?25h[?25l)[38;13H[106m([mp->key[106m)[m[49;175H7[38;21H[?25h[?25l;[38;13H(p->key)[49;175H8[38;22H[?25h[?25l:[49;175H9[38;23H[?25h[?25l[38;22H[K[49;175H8[38;22H[?25h[49;1H[K[38;21H[?25l[49;161H^[[38;21H[49;161H  [38;22H[49;171H48,17[9C30%[38;21H[?25h[?25l[49;161H:[38;21H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 81L, 2326C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kfree_key_values[m[K’:
[01m[Kbug-program.c:48:11:[m[K [01;35m[Kwarning: [m[Kpassing argument 1 of ‘[01m[Kfree[m[K’ discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
     free([01;35m[Kp->key[m[K);
          [01;35m[K~^~~~~[m[K
In file included from [01m[Kbug-program.c:3[m[K:
[01m[K/usr/include/stdlib.h:563:25:[m[K [01;36m[Knote: [m[Kexpected ‘[01m[Kvoid *[m[K’ but argument is of type ‘[01m[Kconst char *[m[K’
 extern void free ([01;36m[Kvoid *__ptr[m[K) __THROW;
                   [01;36m[K~~~~~~^~~~~[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.c[1Pm bug-programls[Kclearvi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.c[1Pm bug-programls[Kclearvi bug-program.valgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 176L, 11671C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2901646== Memcheck, a memory error detector
==2901646== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2901646== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info
==2901646== Command: ./bug-program
==2901646==
--2901646-- Valgrind options:
--2901646--    -v
--2901646--    --leak-check=yes
--2901646-- Contents of /proc/version:
--2901646--   Linux version 5.7.0-0.bpo.2-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-6), GNU ld (GNU Binutils for Debian) 2.31.1) #1 SMP Debian 5.7.10-1~bpo10++[11;1H1 (2020-07-30)
--2901646--
--2901646-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi
--2901646-- Page sizes: currently 4096, max supported 4096
--2901646-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind
--2901646-- Reading syms from /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program
--2901646-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so
--2901646--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..
--2901646--   .. build-id is valid
--2901646-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux
--2901646--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..
--2901646--   .. build-id is valid
--2901646--    object doesn't have a dynamic symbol table
--2901646-- Scheduler: using generic scheduler lock implementation.
--2901646-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp
==2901646== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-2901646-by-fantona1-on-???
==2901646== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-2901646-by-fantona1-on-???
==2901646== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-2901646-by-fantona1-on-???
==2901646==
==2901646== TO CONTROL THIS PROCESS USING vgdb (which you probably
==2901646== don't want to do, unless you know exactly what you're doing,
==2901646== or are doing some strange experiment):
==2901646==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2901646 ...command...
==2901646==
==2901646== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==2901646==   /path/to/gdb ./bug-program
==2901646== and then give GDB the following command
==2901646==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=2901646
==2901646== --pid is optional if only one valgrind process is running
==2901646==
--2901646-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strlen)
--2901646-- REDIR: 0x401e0d0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (vgPlain_amd64_linux_REDIR_FOR_index)
--2901646-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_core-amd64-linux.so
--2901646--   Considering /usr/lib/debug/.build-id/34/fbc4cdfbfce1bfc3d2e522a01a050bf724c930.debug ..
--2901646--   .. build-id is valid
--2901646-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so
--2901646--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..
--2901646--   .. build-id is valid[49;171H1,1[11CTop[1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [2;1H[49;171H2[2;1H[?25h[?25l[49;161H~@k[2;1H[49;161H   [3;1H[49;171H3[3;1H[?25h[?25l[49;161H~@k[3;1H[49;161H   [4;1H[49;171H4[4;1H[?25h[?25l[49;161H~@k[4;1H[49;161H   [5;1H[49;171H5[5;1H[?25h[?25l[49;161H~@k[5;1H[49;161H   [6;1H[49;171H6[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [7;1H[49;171H7[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [8;1H[49;171H8[8;1H[?25h[?25l[49;161H~@k[8;1H[49;161H   [9;1H[49;171H9[9;1H[?25h[?25l[49;161H~@k[9;1H[49;161H   [10;1H[49;171H10,1[10;1H[?25h[?25l[49;161H~@k[10;1H[49;161H   [12;1H[49;172H1[12;1H[?25h[?25l[49;161H~@k[12;1H[49;161H   [6;1H[27m[23m[29m[m[H[2J[1;1H--2901646--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..
--2901646--   .. build-id is valid
==2901646== WARNING: new redirection conflicts with existing -- ignoring it
--2901646--     old: 0x0401e2f0 (strlen[14C) R-> (0000.0) 0x580c9ce2 vgPlain_amd64_linux_REDIR_FOR_strlen
--2901646--     new: 0x0401e2f0 (strlen[14C) R-> (2007.0) 0x04838d80 strlen
--2901646-- REDIR: 0x401ab10 (ld-linux-x86-64.so.2:strcmp) redirected to 0x4839e40 (strcmp)
--2901646-- REDIR: 0x401e830 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x483d860 (mempcpy)
--2901646-- Reading syms from /lib/x86_64-linux-gnu/libc-2.28.so
--2901646--   Considering /usr/lib/debug/.build-id/18/b9a9a8c523e5cfe5b5d946d605d09242f09798.debug ..
--2901646--   .. build-id is valid
--2901646-- REDIR: 0x4906f70 (libc.so.6:memmove) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4906160 (libc.so.6:strncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4907250 (libc.so.6:strcasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4905b70 (libc.so.6:strcat) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4906190 (libc.so.6:rindex) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4908890 (libc.so.6:rawmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4921230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4920cd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49070e0 (libc.so.6:mempcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4906f10 (libc.so.6:bcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4906100 (libc.so.6:strncmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4905be0 (libc.so.6:strcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4907040 (libc.so.6:memset) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4920ca0 (libc.so.6:wcschr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49060a0 (libc.so.6:strnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4905c70 (libc.so.6:strcspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49072a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4905c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49073e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49224d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49061c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4905ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4906070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x490d280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49072f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4906ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4920db0 (libc.so.6:wcslen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4906460 (libc.so.6:strspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4907220 (libc.so.6:stpncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49071f0 (libc.so.6:stpcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49088c0 (libc.so.6:strchrnul) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x4907340 (libc.so.6:strncasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--2901646-- REDIR: 0x49d9fa0 (libc.so.6:__strrchr_avx2) redirected to 0x4838790 (rindex)
--2901646-- REDIR: 0x4902350 (libc.so.6:malloc) redirected to 0x4835710 (malloc)
==2901646== Invalid write of size 1
==2901646==    at 0x1091C0: add_key_value (bug-program.c:30)
==2901646==    by 0x1091C0: make_key_values (bug-program.c:66)
==2901646==    by 0x1091C0: main (bug-program.c:75)[49;171H51,1[10C35%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2901646==    by 0x1091C0: make_key_values (bug-program.c:66)
==2901646==    by 0x1091C0: main (bug-program.c:75)
==2901646==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091AF: add_key_value (bug-program.c:24)
==2901646==    by 0x1091AF: make_key_values (bug-program.c:66)
==2901646==    by 0x1091AF: main (bug-program.c:75)
==2901646==
--2901646-- REDIR: 0x49d9db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)
--2901646-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
==2901646== Invalid read of size 1
==2901646==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2901646==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2901646==    by 0x48D6605: printf (printf.c:33)
==2901646==    by 0x1091F3: main (bug-program.c:77)
==2901646==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091AF: add_key_value (bug-program.c:24)
==2901646==    by 0x1091AF: make_key_values (bug-program.c:66)
==2901646==    by 0x1091AF: main (bug-program.c:75)
==2901646==
--2901646-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
--2901646-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2901646== Invalid read of size 8
==2901646==    at 0x10920D: free_key_values (bug-program.c:45)
==2901646==    by 0x10920D: main (bug-program.c:79)
==2901646==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd
==2901646==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2901646==    by 0x10920C: free_key_values (bug-program.c:49)
==2901646==    by 0x10920C: main (bug-program.c:79)
==2901646==  Block was alloc'd at
==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091A2: add_key_value (bug-program.c:21)
==2901646==    by 0x1091A2: make_key_values (bug-program.c:66)
==2901646==    by 0x1091A2: main (bug-program.c:75)
==2901646==
==2901646==
==2901646== HEAP SUMMARY:
==2901646==     in use at exit: 0 bytes in 0 blocks
==2901646==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2901646==
==2901646== All heap blocks were freed -- no leaks are possible
==2901646==
==2901646== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 0 from 0)
==2901646==
==2901646== 1 errors in context 1 of 3:
==2901646== Invalid read of size 8
==2901646==    at 0x10920D: free_key_values (bug-program.c:45)[49;171H97,1[10C71%[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2901646== Invalid read of size 8
==2901646==    at 0x10920D: free_key_values (bug-program.c:45)
==2901646==    by 0x10920D: main (bug-program.c:79)
==2901646==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd
==2901646==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2901646==    by 0x10920C: free_key_values (bug-program.c:49)
==2901646==    by 0x10920C: main (bug-program.c:79)
==2901646==  Block was alloc'd at
==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091A2: add_key_value (bug-program.c:21)
==2901646==    by 0x1091A2: make_key_values (bug-program.c:66)
==2901646==    by 0x1091A2: main (bug-program.c:75)
==2901646==
==2901646==
==2901646== 1 errors in context 2 of 3:
==2901646== Invalid read of size 1
==2901646==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2901646==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2901646==    by 0x48D6605: printf (printf.c:33)
==2901646==    by 0x1091F3: main (bug-program.c:77)
==2901646==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091AF: add_key_value (bug-program.c:24)
==2901646==    by 0x1091AF: make_key_values (bug-program.c:66)
==2901646==    by 0x1091AF: main (bug-program.c:75)
==2901646==
==2901646==
==2901646== 1 errors in context 3 of 3:
==2901646== Invalid write of size 1
==2901646==    at 0x1091C0: add_key_value (bug-program.c:30)
==2901646==    by 0x1091C0: make_key_values (bug-program.c:66)
==2901646==    by 0x1091C0: main (bug-program.c:75)
==2901646==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091AF: add_key_value (bug-program.c:24)
==2901646==    by 0x1091AF: make_key_values (bug-program.c:66)
==2901646==    by 0x1091AF: main (bug-program.c:75)
==2901646==
==2901646== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H143,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[33M[1;49r[16;1H[94m~                                                                                                                                                                                           [17;1H~                                                                                                                                                                                           [18;1H~                                                                                                                                                                                           [19;1H~                                                                                                                                                                                           [20;1H~                                                                                                                                                                                           [21;1H~                                                                                                                                                                                           [22;1H~                                                                                                                                                                                           [23;1H~                                                                                                                                                                                           [24;1H~                                                                                                                                                                                           [25;1H~                                                                                                                                                                                           [26;1H~                                                                                                                                                                                           [27;1H~                                                                                                                                                                                           [28;1H~                                                                                                                                                                                           [29;1H~                                                                                                                                                                                           [30;1H~                                                                                                                                                                                           [31;1H~                                                                                                                                                                                           [32;1H~                                                                                                                                                                                           [33;1H~                                                                                                                                                                                           [34;1H~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H[K[49;171H176,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [43;1H[27m[23m[29m[m[H[2J[1;1H==2901646==    by 0x1091A2: make_key_values (bug-program.c:66)
==2901646==    by 0x1091A2: main (bug-program.c:75)
==2901646==
==2901646==
==2901646== HEAP SUMMARY:
==2901646==     in use at exit: 0 bytes in 0 blocks
==2901646==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2901646==
==2901646== All heap blocks were freed -- no leaks are possible
==2901646==
==2901646== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 0 from 0)
==2901646==
==2901646== 1 errors in context 1 of 3:
==2901646== Invalid read of size 8
==2901646==    at 0x10920D: free_key_values (bug-program.c:45)
==2901646==    by 0x10920D: main (bug-program.c:79)
==2901646==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd
==2901646==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2901646==    by 0x10920C: free_key_values (bug-program.c:49)
==2901646==    by 0x10920C: main (bug-program.c:79)
==2901646==  Block was alloc'd at
==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091A2: add_key_value (bug-program.c:21)
==2901646==    by 0x1091A2: make_key_values (bug-program.c:66)
==2901646==    by 0x1091A2: main (bug-program.c:75)
==2901646==
==2901646==
==2901646== 1 errors in context 2 of 3:
==2901646== Invalid read of size 1
==2901646==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2901646==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2901646==    by 0x48D6605: printf (printf.c:33)
==2901646==    by 0x1091F3: main (bug-program.c:77)
==2901646==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091AF: add_key_value (bug-program.c:24)
==2901646==    by 0x1091AF: make_key_values (bug-program.c:66)
==2901646==    by 0x1091AF: main (bug-program.c:75)
==2901646==
==2901646==
==2901646== 1 errors in context 3 of 3:
==2901646== Invalid write of size 1
==2901646==    at 0x1091C0: add_key_value (bug-program.c:30)
==2901646==    by 0x1091C0: make_key_values (bug-program.c:66)
==2901646==    by 0x1091C0: main (bug-program.c:75)
==2901646==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091AF: add_key_value (bug-program.c:24)[49;171H167,1[9C96%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [6;1H[27m[23m[29m[m[H[2J[1;1H==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2901646==    by 0x1091AF: add_key_value (bug-program.c:24)
==2901646==    by 0x1091AF: make_key_values (bug-program.c:66)
==2901646==    by 0x1091AF: main (bug-program.c:75)
==2901646==
==2901646== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [8;1H~                                                                                                                                                                                           [9;1H~                                                                                                                                                                                           [10;1H~                                                                                                                                                                                           [11;1H~                                                                                                                                                                                           [12;1H~                                                                                                                                                                                           [13;1H~                                                                                                                                                                                           [14;1H~                                                                                                                                                                                           [15;1H~                                                                                                                                                                                           [16;1H~                                                                                                                                                                                           [17;1H~                                                                                                                                                                                           [18;1H~                                                                                                                                                                                           [19;1H~                                                                                                                                                                                           [20;1H~                                                                                                                                                                                           [21;1H~                                                                                                                                                                                           [22;1H~                                                                                                                                                                                           [23;1H~                                                                                                                                                                                           [24;1H~                                                                                                                                                                                           [25;1H~                                                                                                                                                                                           [26;1H~                                                                                                                                                                                           [27;1H~                                                                                                                                                                                           [28;1H~                                                                                                                                                                                           [29;1H~                                                                                                                                                                                           [30;1H~                                                                                                                                                                                           [31;1H~                                                                                                                                                                                           [32;1H~                                                                                                                                                                                           [33;1H~                                                                                                                                                                                           [34;1H~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H176,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H175,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x1091C0: main (bug-program.c:75)[49;171H[K[49;171H174,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x1091C0: make_key_values (bug-program.c:66)[49;171H[K[49;171H173,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    at 0x1091C0: add_key_value (bug-program.c:30)[49;171H[K[49;171H172,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646== Invalid write of size 1[49;171H[K[49;171H171,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646== 1 errors in context 3 of 3:[49;171H[K[49;171H170,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==[49;171H[K[49;171H169,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==[49;171H[K[49;171H168,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x1091AF: main (bug-program.c:75)[49;171H[K[49;171H167,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x1091AF: make_key_values (bug-program.c:66)[49;171H[K[49;171H166,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x1091AF: add_key_value (bug-program.c:24)[49;171H[K[49;171H165,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H164,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H163,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x1091F3: main (bug-program.c:77)[49;171H[K[49;171H162,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x48D6605: printf (printf.c:33)[49;171H[K[49;171H161,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[49;171H[K[49;171H160,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[49;171H[K[49;171H159,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646== Invalid read of size 1[49;171H[K[49;171H158,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646== 1 errors in context 2 of 3:[49;171H[K[49;171H157,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==[49;171H[K[49;171H156,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==[49;171H[K[49;171H155,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x1091A2: main (bug-program.c:75)[49;171H[K[49;171H154,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x1091A2: make_key_values (bug-program.c:66)[49;171H[K[49;171H153,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x1091A2: add_key_value (bug-program.c:21)[49;171H[K[49;171H152,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H151,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==  Block was alloc'd at[49;171H[K[49;171H150,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x10920C: main (bug-program.c:79)[49;171H[K[49;171H149,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x10920C: free_key_values (bug-program.c:49)[49;171H[K[49;171H148,1[9CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H==2901646==    at 0x48369AB: free (vg_replace_malloc.c:530)[49;171H[K[49;171H147,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==  Address 0x4a42050 is 16 bytes inside a block of size 24 free'd[49;171H[K[49;171H146,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    by 0x10920D: main (bug-program.c:79)[49;171H[K[49;171H145,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==    at 0x10920D: free_key_values (bug-program.c:45)[49;171H[K[49;171H144,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646== Invalid read of size 8[49;171H[K[49;171H143,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646== 1 errors in context 1 of 3:[49;171H[K[49;171H142,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==[49;171H[K[49;171H141,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646== ERROR SUMMARY: 3 errors from 3 contexts (suppressed: 0 from 0)[49;171H[K[49;171H140,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==[49;171H[K[49;171H139,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646== All heap blocks were freed -- no leaks are possible[49;171H[K[49;171H138,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==[49;171H[K[49;171H137,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2901646==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated[49;171H[K[49;171H136,1[9CBot[6;1H[?25h[?25l[49;161H:[6;1H[49;161H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 81L, 2326C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//go thru chain of keyValues[m
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)
  {
    [34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m
    free(p->key);
    free(p); [34m//free KeyValue struct[m
  }
}

[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H48,17[9C15%[43;17H[?25h[?25l[49;161H:[43;17H[49;1H[K[49;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[43;21H[1;1H[38;5;130m  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;       [34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[9C    [34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s;
[38;5;130m 34 [m  kv->value = v;
[38;5;130m 35 [m  kv->succ = keyValues;
[38;5;130m 36 
 37 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 38 [m}
[38;5;130m 39 
 40 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 41 [m[32mstatic[m [32mvoid[m
[38;5;130m 42 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 43 [m{
[38;5;130m 44 [m  [34m//go thru chain of keyValues[m
[38;5;130m 45 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)
[38;5;130m 46 [m  {
[38;5;130m 47 [m    [34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m
[38;5;130m 48 [m    free(p->key);
[38;5;130m 49 [m    free(p); [34m//free KeyValue struct[m
[38;5;130m 50 [m  }
[38;5;130m 51 [m}
[38;5;130m 52 
 53 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H48,17[9C15%[43;21H[?25h[?25l[49;161Hi[43;21H[49;161H [43;21H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H48,17[9C15%[43;21H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 54 [m[34m *  Jabberwocky with value being the index of the word.[m[49;171H[K[49;171H49,17[9C18%[43;21H[?25h[?25l[42;13H[106m([mp->key[106m)[m[49;172H8[42;21H[?25h[?25l[42;13H(p->key)[49;172H7[41;21H[?25h[?25l[40;7H[106m{[44;7H}[m[49;172H6,4 [40;8H[?25h[?25l{[44;7H}[49;172H5,17[39;21H[?25h[?25l[49;175H6[39;20H[?25h[?25l[49;175H5[39;19H[?25h[?25l[49;175H4[39;18H[?25h[?25l[49;175H3[39;17H[?25h[?25l[49;175H2[39;16H[?25h[?25l[49;175H1[39;15H[?25h[?25l[49;175H0[39;14H[?25h[?25l[49;175H1[39;15H[?25h[?25l[49;175H2[39;16H[?25h[?25l[49;175H3[39;17H[?25h[?25l[49;175H4[39;18H[?25h[?25l[49;175H5[39;19H[?25h[?25l[49;175H6[39;20H[?25h[?25l[49;175H7[39;21H[?25h[?25l[49;175H8[39;22H[?25h[?25l[49;175H9[39;23H[?25h[?25l[49;174H20[39;24H[?25h[?25l[49;175H1[39;25H[?25h[?25l[49;175H2[39;26H[?25h[?25l[49;175H3[39;27H[?25h[?25l[49;175H4[39;28H[?25h[?25l[49;175H5[39;29H[?25h[?25l[49;175H6[39;30H[?25h[?25l[49;175H7[39;31H[?25h[?25l[49;175H8[39;32H[?25h[?25l[49;175H9[39;33H[?25h[?25l[49;174H30[39;34H[?25h[?25l[49;175H1[39;35H[?25h[?25l[49;175H2[39;36H[?25h[?25l[49;175H3[39;37H[?25h[?25l[49;175H4[39;38H[?25h[?25l[49;175H5[39;39H[?25h[?25l[49;175H6[39;40H[?25h[?25l[49;175H7[39;41H[?25h[?25l[49;175H8[39;42H[?25h[?25l[40;7H[106m{[44;7H}[m[49;172H6,4 [40;8H[?25h[?25l{[44;7H}[49;172H7,38[41;42H[?25h[?25l[49;172H8,1[42;22H[?25h[?25l[49;172H9,36[43;40H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 55 [m[34m */[m[49;171H[K[49;171H50,4[10C21%[39;7H[106m{[43;7H}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[38;5;130m 56 [m[32mstatic[m [32mstruct[m KeyValue *[49;171H[K[49;171H51,2[10C24%[35;5H[106m{[m[38;7H{[42;7H}[43;5H[106m}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[38;5;130m 57 [mmake_key_values([32mvoid[m) {[49;171H[K[49;171H52,1[10C27%[34;5H{[42;5H}[43;5H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 58 [m  [32mconst[m [32mchar[m *keys[] = {[49;171H[K[49;171H53,38[9C30%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 59 [m    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[49;171H[K[49;171H54,38[9C33%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 60 [m[34m    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[49;171H[K[49;171H55,4[10C36%[43;8H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 61 [m[34m    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[49;171H[K[49;171H56,25[9C39%[43;29H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 62 [m[34m    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m[49;171H[K[49;171H57,24[9C42%[43;28H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 63 [m[34m  };*/[m[49;171H[K[49;171H58,25[9C45%[43;28H[106m{[44;16H}[43;29H[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[38;5;130m 64 [m  [32mstruct[m KeyValue *p = [31mNULL[m;[49;171H[K[49;171H59,38[9C48%[42;28H{[43;16H}[25C[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 65 [m  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[49;171H[K[49;171H60,38[9C51%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 66 [m    p = add_key_value(p, keys[i], i);[49;171H[K[49;171H61,38[9C54%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 67 [m  }[49;171H[K[49;171H62,38[9C57%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 68 [m  [38;5;130mreturn[m p;[49;171H[K[49;171H63,7[10C60%[43;11H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 69 [m}[49;171H[K[49;171H64,29[9C63%[43;33H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 70 [m[49;171H[K[49;171H65,38[9C66%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 71 [m[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m[49;171H[K[49;171H66,38[9C69%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 72 [m[34m *  paired with their index in the verse.[m[49;171H[K[49;171H67,4[10C72%[41;62H[106m{[43;7H}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[38;5;130m 73 [m[34m */[m[49;171H[K[49;171H68,12[9C75%[40;62H{[42;7H}[43;16H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 74 [m[32mint[m main() {[49;171H[K[49;171H69,2[10C78%[31;27H[106m{[43;5H}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[38;5;130m 75 [m  [32mstruct[m KeyValue *keyValues = make_key_values();[49;171H[K[49;171H70,1[10C81%[30;27H{[42;5H}[43;5H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 76 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[49;171H[K[49;171H71,38[9C84%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 77 [m    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[49;171H[K[49;171H72,38[9C87%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 78 [m  }[49;171H[K[49;171H73,4[10C90%[43;8H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 79 [m  free_key_values(keyValues);[49;171H[K[49;171H74,13[9C93%[43;17H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 80 [m  [38;5;130mreturn[m [31m0[m;[49;171H[K[49;171H75,38[9C96%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 81 [m}[49;171H[K[49;171H76,38[9CBot[43;42H[?25h[?25l[49;172H7[44;42H[?25h[?25l[43;68H[106m{[45;7H}[m[49;172H8,4 [45;8H[?25h[?25l[43;68H{[45;7H}[49;172H7,38[44;42H[?25h[?25l[49;172H6[43;42H[?25h[?25l[49;172H5[42;42H[?25h[?25l[41;16H[106m{[48;5H}[m[49;172H4,13[41;17H[?25h[?25l{[48;5H}[49;172H3,4 [40;8H[?25h[?25l[49;172H2,38[39;42H[?25h[?25l[49;172H1[38;42H[?25h[?25l[49;172H0,1 [37;5H[?25h[?25l[24;27H[106m{[36;5H}[m[49;171H69,2[36;6H[?25h[?25l[24;27H{[36;5H}[49;172H8,12[35;16H[?25h[?25l[32;62H[106m{[34;7H}[m[49;172H7,4 [34;8H[?25h[?25l[32;62H{[34;7H}[49;172H6,38[33;42H[?25h[?25l[49;172H5[32;42H[?25h[?25l[49;172H4,29[31;33H[?25h[?25l[49;172H3,7 [30;11H[?25h[?25l[49;172H2,38[29;42H[?25h[?25l[49;172H1[28;42H[?25h[?25l[49;172H0[27;42H[?25h[?25l[49;171H59[26;42H[?25h[?25l[25;28H[106m{[26;16H}[m[49;172H8,25[25;29H[?25h[?25l[24;27H[106m{[m[25;28H{[26;16H}[36;5H[106m}[m[49;172H7,24[24;28H[?25h[?25l{[36;5H}[49;172H6,25[23;29H[?25h[?25l[49;172H5,4 [22;8H[?25h[?25l[49;172H4,38[21;42H[?25h[?25l[49;172H3[20;42H[?25h[?25l[49;172H2,1 [19;5H[?25h[?25l[10;5H[106m{[18;5H}[m[49;172H1,2[18;6H[?25h[?25l[10;5H{[13;7H[106m{[17;7H}[m[18;5H}[49;172H0,4[17;8H[?25h[?25l[13;7H{[17;7H}[49;171H49,36[16;40H[?25h[?25l[49;172H8,18[15;22H[?25h[?25l[49;172H7,3[14;42H[?25h[?25l[13;7H[106m{[17;7H}[m[49;172H6,4 [13;8H[?25h[?25l{[17;7H}[49;172H5,38[12;42H[?25h[?25l[49;172H4,31[11;35H[?25h[?25l[10;5H[106m{[18;5H}[m[49;172H3,2 [10;6H[?25h[?25l{[18;5H}[49;172H2,38[9;42H[?25h[?25l[49;172H1,12[8;16H[?25h[?25l[49;172H0,38[7;42H[?25h[?25l[49;171H39,1 [6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 33 [m  kv->key = s;[49;171H[K[49;171H38,2[10C96%[6;6H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 32 [m  [34m//initialize fields of *kv.[m[49;171H[K[49;171H37,13[9C93%[6;17H[?25h[?25l[49;172H8,2 [7;6H[?25h[?25l[49;172H9,1[8;5H[?25h[?25l[49;171H40,38[9;42H[?25h[?25l[49;172H1,12[10;16H[?25h[?25l[49;172H2,38[11;42H[?25h[?25l[12;5H[106m{[20;5H}[m[49;172H3,2 [12;6H[?25h[?25l{[20;5H}[49;172H4,31[13;35H[?25h[?25l[12;5H[106m{[20;5H}[m[49;172H3,2 [12;6H[?25h[?25l[13;7H      [13;13H[K[14;7H[34m//go thru chain of keyValues[m[14;35H[K[15;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)[16;7H{[16;9H[K[17;9H[34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m[18;15H->key);[18;22H[K[19;7H  free(p); [34m//free KeyValue struct[m[20;5H[106m [m }[21;5H}[22;5H[K[23;5H[34m/** Make key-values for all the words in the first verse of Carroll's[24;7H  Jabberwocky with value being the index of the word.[25;5H */[m[25;8H[K[26;5H[32mstatic[m [32mstruct[m KeyValue *[27;5Hmake_key_values([32mvoid[m) {[27;28H[K[28;7H[32mconst[m [32mchar[m *keys[] = {[28;29H[K[29;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[30;10H[31mdid[4Cgyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[31;11H[31mll[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the[4Cborogoves"[m[34m,[32;7H  [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[33;5H  };*/[m[33;11H[K[34;7H[32mstruct[m KeyValue *p = [31mNULL[m;[34;33H[K[35;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[36;7H  p = add_key_value(p, keys[i], i);[37;7H}[37;8H[K[38;5H  [38;5;130mreturn[m p;[39;5H}[40;5H[K[41;5H[34m/** Print out all the words[8Cfirst verse of Carroll's Jabberwocky[42;7H  paired with their index in the verse.[43;5H */[m[43;9H[K[44;5H[32mint[m main() {[44;17H[K[45;7H[32mstruct[m KeyValue *keyValues = make_key_values()[45;55H[K[46;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[47;7H  printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[48;7H}[48;8H[K[12;5H{[20;5H [49;172H4,2-9[9C1[13;13H[?25h[?25l[14;7H      [14;13H[K[15;7H[34m//go thru chain of keyValues[m[15;35H[K[16;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)[17;7H{[17;9H[K[18;9H[34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m[19;15H->key);[19;22H[K[20;7H  free(p); [34m//free KeyValue struct[m[21;5H  }[22;5H}[23;5H[K[24;5H[34m/** Make key-values for all the words in the first verse of Carroll's[25;7H  Jabberwocky with value being the index of the word.[26;5H */[m[26;8H[K[27;5H[32mstatic[m [32mstruct[m KeyValue *[28;5Hmake_key_values([32mvoid[m) {[28;28H[K[29;7H[32mconst[m [32mchar[m *keys[] = {[29;29H[K[30;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[31;10H[31mdid[4Cgyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[32;11H[31mll[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the[4Cborogoves"[m[34m,[33;7H  [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[34;5H  };*/[m[34;11H[K[35;7H[32mstruct[m KeyValue *p = [31mNULL[m;[35;33H[K[36;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[37;7H  p = add_key_value(p, keys[i], i);[38;7H}[38;8H[K[39;5H  [38;5;130mreturn[m p;[40;5H}[41;5H[K[42;5H[34m/** Print out all the words[8Cfirst verse of Carroll's Jabberwocky[43;7H  paired with their index in the verse.[44;5H */[m[44;9H[K[45;5H[32mint[m main() {[45;17H[K[46;7H[32mstruct[m KeyValue *keyValues = make_key_values()[46;55H[K[47;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[48;7H  printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[49;172H5[12C88[14;13H[?25h[?25l[15;7H      [15;13H[K[16;7H[34m//go thru chain of keyValues[m[16;35H[K[17;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)[18;7H{[18;9H[K[19;9H[34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m[20;15H->key);[20;22H[K[21;7H  free(p); [34m//free KeyValue struct[m[22;5H  }[23;5H}[24;5H[K[25;5H[34m/** Make key-values for all the words in the first verse of Carroll's[26;7H  Jabberwocky with value being the index of the word.[27;5H */[m[27;8H[K[28;5H[32mstatic[m [32mstruct[m KeyValue *[29;5Hmake_key_values([32mvoid[m) {[29;28H[K[30;7H[32mconst[m [32mchar[m *keys[] = {[30;29H[K[31;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[32;10H[31mdid[4Cgyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[33;11H[31mll[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the[4Cborogoves"[m[34m,[34;7H  [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[35;5H  };*/[m[35;11H[K[36;7H[32mstruct[m KeyValue *p = [31mNULL[m;[36;33H[K[37;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[38;7H  p = add_key_value(p, keys[i], i);[39;7H}[39;8H[K[40;5H  [38;5;130mreturn[m p;[41;5H}[42;5H[K[43;5H[34m/** Print out all the words[8Cfirst verse of Carroll's Jabberwocky[44;7H  paired with their index in the verse.[45;5H */[m[45;9H[K[46;5H[32mint[m main() {[46;17H[K[47;7H[32mstruct[m KeyValue *keyValues = make_key_values()[47;55H[K[48;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[49;172H6[13C6[15;13H[?25h[?25l[16;7H      [16;13H[K[17;7H[34m//go thru chain of keyValues[m[17;35H[K[18;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)[19;7H{[19;9H[K[20;9H[34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m[21;15H->key);[21;22H[K[22;7H  free(p); [34m//free KeyValue struct[m[23;5H  }[24;5H}[25;5H[K[26;5H[34m/** Make key-values for all the words in the first verse of Carroll's[27;7H  Jabberwocky with value being the index of the word.[28;5H */[m[28;8H[K[29;5H[32mstatic[m [32mstruct[m KeyValue *[30;5Hmake_key_values([32mvoid[m) {[30;28H[K[31;7H[32mconst[m [32mchar[m *keys[] = {[31;29H[K[32;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[33;10H[31mdid[4Cgyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[34;11H[31mll[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the[4Cborogoves"[m[34m,[35;7H  [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[36;5H  };*/[m[36;11H[K[37;7H[32mstruct[m KeyValue *p = [31mNULL[m;[37;33H[K[38;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[39;7H  p = add_key_value(p, keys[i], i);[40;7H}[40;8H[K[41;5H  [38;5;130mreturn[m p;[42;5H}[43;5H[K[44;5H[34m/** Print out all the words[8Cfirst verse of Carroll's Jabberwocky[45;7H  paired with their index in the verse.[46;5H */[m[46;9H[K[47;5H[32mint[m main() {[47;17H[K[48;7H[32mstruct[m KeyValue *keyValues = make_key_values()[48;55H[K[49;172H7[13C3[16;13H[?25h[?25l[49;172H6,1  [15;5H[?25h[?25l[49;172H5[14;5H[?25h[?25l[49;174H2[14;6H[?25h[?25l[49;174H3[14;7H[?25h[?25lf[49;174H4[14;8H[?25h[?25lr[49;174H5[14;9H[?25h[?25le[49;174H6[14;10H[?25h[?25le[49;174H7[14;11H[?25h[?25l_[49;174H8[14;12H[?25h[?25lk[49;174H9[14;13H[?25h[?25le[49;174H10[14;14H[?25h[?25ly[49;175H1[14;15H[?25h[?25l_[49;175H2[14;16H[?25h[?25lv[49;175H3[14;17H[?25h[?25la[49;175H4[14;18H[?25h[?25ll[49;175H5[14;19H[?25h[?25lu[49;175H6[14;20H[?25h[?25le[49;175H7[14;21H[?25h[?25ls[49;175H8[14;22H[?25h[?25l([19;7H[97m[101m{[23;7H}[m[49;175H9[14;23H[?25h[?25lp[49;174H20[14;24H[?25h[?25l-[49;175H1[14;25H[?25h[?25l>[49;175H2[14;26H[?25h[?25ls[49;175H3[14;27H[?25h[?25lu[49;175H4[14;28H[?25h[?25lc[49;175H5[14;29H[?25h[?25lc[49;175H6[14;30H[?25h[?25l)[19;7H{[23;7H}[14;22H[106m([7C)[m[49;175H7[14;31H[?25h[?25l;[14;22H([7C)[49;175H8[14;32H[?25h[?25l[17;7H[K[18;7H[34m//go thru chain of keyValues[m[18;35H[K[19;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)[20;7H{[20;9H[K[21;9H[34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m[22;15H->key);[22;22H[K[23;7H  free(p); [34m//free KeyValue struct[m[24;5H  }[25;5H}[26;5H[K[27;5H[34m/** Make key-values for all the words in the first verse of Carroll's[28;7H  Jabberwocky with value being the index of the word.[29;5H */[m[29;8H[K[30;5H[32mstatic[m [32mstruct[m KeyValue *[31;5Hmake_key_values([32mvoid[m) {[31;28H[K[32;7H[32mconst[m [32mchar[m *keys[] = {[32;29H[K[33;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[34;10H[31mdid[4Cgyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[35;11H[31mll[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the[4Cborogoves"[m[34m,[36;7H  [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[37;5H  };*/[m[37;11H[K[38;7H[32mstruct[m KeyValue *p = [31mNULL[m;[38;33H[K[39;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[40;7H  p = add_key_value(p, keys[i], i);[41;7H}[41;8H[K[42;5H  [38;5;130mreturn[m p;[43;5H}[44;5H[K[45;5H[34m/** Print out all the words[8Cfirst verse of Carroll's Jabberwocky[46;7H  paired with their index in the verse.[47;5H */[m[47;9H[K[48;5H[32mint[m main() {[48;17H[K[49;172H6,3 [10C1[15;7H[?25h[?25lf[49;174H4[15;8H[?25h[?25lr[49;174H5[15;9H[?25h[?25le[49;174H6[15;10H[?25h[?25le[49;174H7[15;11H[?25h[?25l([20;7H[97m[101m{[24;7H}[m[49;174H8[15;12H[?25h[?25lp[49;174H9[15;13H[?25h[?25l)[20;7H{[24;7H}[15;11H[106m([mp[106m)[m[49;174H10[15;14H[?25h[?25l;(p)[49;175H1[15;15H[?25h[?25l[49;172H5[14;15H[?25h[?25l[49;172H4,1 [13;5H[?25h[?25l[14;7H      [14;13H[K[15;11H_key_values(p->succ);[16;7Hfree(p);[18;7H[K[19;7H[34m//go thru chain of keyValues[m[19;35H[K[20;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)[21;7H{[21;9H[K[22;9H[34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m[23;15H->key);[23;22H[K[24;7H  free(p); [34m//free KeyValue struct[m[25;5H  }[26;5H}[27;5H[K[28;5H[34m/** Make key-values for all the words in the first verse of Carroll's[29;7H  Jabberwocky with value being the index of the word.[30;5H */[m[30;8H[K[31;5H[32mstatic[m [32mstruct[m KeyValue *[32;5Hmake_key_values([32mvoid[m) {[32;28H[K[33;7H[32mconst[m [32mchar[m *keys[] = {[33;29H[K[34;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[35;10H[31mdid[4Cgyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[36;11H[31mll[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the[4Cborogoves"[m[34m,[37;7H  [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[38;5H  };*/[m[38;11H[K[39;7H[32mstruct[m KeyValue *p = [31mNULL[m;[39;33H[K[40;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[41;7H  p = add_key_value(p, keys[i], i);[42;7H}[42;8H[K[43;5H  [38;5;130mreturn[m p;[44;5H}[45;5H[K[46;5H[34m/** Print out all the words[8Cfirst verse of Carroll's Jabberwocky[47;7H  paired with their index in the verse.[48;5H */[m[48;9H[K[49;172H5,2-9[8C79[14;13H[?25h[?25l[49;174H3-17[14;21H[?25h[?25l[49;174H2-9 [14;13H[?25h[?25l[49;174H1  [14;5H[?25h[?25l[49;174H2[14;6H[?25h[?25l[49;174H3[14;7H[?25h[?25lf[49;174H4[14;8H[?25h[?25lr[49;174H5[14;9H[?25h[?25le[49;174H6[14;10H[?25h[?25le[49;174H7[14;11H[?25h[?25l([21;7H[97m[101m{[25;7H}[m[49;174H8[14;12H[?25h[?25lp[49;174H9[14;13H[?25h[?25l-[49;174H10[14;14H[?25h[?25l>[49;175H1[14;15H[?25h[?25lk[49;175H2[14;16H[?25h[?25le[49;175H3[14;17H[?25h[?25ly[49;175H4[14;18H[?25h[?25l)[21;7H{[25;7H}[14;11H[106m([mp->key[106m)[m[49;175H5[14;19H[?25h[?25l;[14;11H(p->key)[49;175H6[14;20H[?25h[?25l[49;172H4,1 [13;5H[?25h[?25l[49;172H5,16[14;20H[?25h[?25l[49;172H6[15;20H[?25h[?25l[49;175H5[15;19H[?25h[?25l[49;175H4[15;18H[?25h[?25l[49;175H3[15;17H[?25h[?25l[49;175H2[15;16H[?25h[?25l[49;175H1[15;15H[?25h[?25l[49;175H0[15;14H[?25h[?25l[49;174H9 [15;13H[?25h[?25l[49;174H8[15;12H[?25h[?25l[49;174H7[15;11H[?25h[?25l[49;174H6[15;10H[?25h[?25l[49;174H5[15;9H[?25h[?25l[49;174H4[15;8H[?25h[?25l[49;174H3[15;7H[?25h[?25l[15;7H[K[16;11H_key_values(p->succ);[17;7Hfree(p);[19;7H[K[20;7H[34m//go thru chain of keyValues[m[20;35H[K[21;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)[22;7H{[22;9H[K[23;9H[34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m[24;15H->key);[24;22H[K[25;7H  free(p); [34m//free KeyValue struct[m[26;5H  }[27;5H}[28;5H[K[29;5H[34m/** Make key-values for all the words in the first verse of Carroll's[30;7H  Jabberwocky with value being the index of the word.[31;5H */[m[31;8H[K[32;5H[32mstatic[m [32mstruct[m KeyValue *[33;5Hmake_key_values([32mvoid[m) {[33;28H[K[34;7H[32mconst[m [32mchar[m *keys[] = {[34;29H[K[35;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[36;10H[31mdid[4Cgyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[37;11H[31mll[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the[4Cborogoves"[m[34m,[38;7H  [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[39;5H  };*/[m[39;11H[K[40;7H[32mstruct[m KeyValue *p = [31mNULL[m;[40;33H[K[41;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[42;7H  p = add_key_value(p, keys[i], i);[43;7H}[43;8H[K[44;5H  [38;5;130mreturn[m p;[45;5H}[46;5H[K[47;5H[34m/** Print out all the words[8Cfirst verse of Carroll's Jabberwocky[48;7H  paired with their index in the verse.[m[49;172H7[13C7[16;7H[?25h[?25l[49;172H6[15;7H[?25h[?25li[49;174H4[15;8H[?25h[?25l[38;5;130mif[m[49;174H5[15;9H[?25h[?25l[49;174H6[15;10H[?25h[?25l([22;7H[97m[101m{[26;7H}[m[49;174H7[15;11H[?25h[?25lp[49;174H8[15;12H[?25h[?25l.[49;174H9[15;13H[?25h[?25l[15;12H[K[49;174H8[15;12H[?25h[?25l-[49;174H9[15;13H[?25h[?25l>[49;174H10[15;14H[?25h[?25ls[49;175H1[15;15H[?25h[?25lu[49;175H2[15;16H[?25h[?25lc[49;175H3[15;17H[?25h[?25lc[49;175H4[15;18H[?25h[?25l[49;175H5[15;19H[?25h[?25l![49;175H6[15;20H[?25h[?25l=[49;175H7[15;21H[?25h[?25l[49;175H8[15;22H[?25h[?25lN[49;175H9[15;23H[?25h[?25lU[49;174H20[15;24H[?25h[?25lL[49;175H1[15;25H[?25h[?25l[31mNULL[m[49;175H2[15;26H[?25h[?25l)[22;7H{[26;7H}[15;10H[106m([15C)[m[49;175H3[15;27H[?25h[?25l[15;10H([15C)[49;172H7[16;27H[?25h[?25l[49;175H2[16;26H[?25h[?25l[49;175H1[16;25H[?25h[?25l[49;175H0[16;24H[?25h[?25l[106m([7C)[m[49;174H19[16;23H[?25h[?25l[49;175H8[16;22H[?25h[?25l([7C)[49;175H7[16;21H[?25h[?25l[49;175H6[16;20H[?25h[?25l[49;175H5[16;19H[?25h[?25l[49;175H4[16;18H[?25h[?25l[49;175H3[16;17H[?25h[?25l[49;175H2[16;16H[?25h[?25l[49;175H1[16;15H[?25h[?25l[49;175H0[16;14H[?25h[?25l[49;174H9 [16;13H[?25h[?25l[49;174H8[16;12H[?25h[?25l[49;174H7[16;11H[?25h[?25l[49;174H6[16;10H[?25h[?25l[49;174H5[16;9H[?25h[?25l[49;174H4[16;8H[?25h[?25l[49;174H3[16;7H[?25h[?25l[49;174H2[16;6H[?25h[?25l[49;174H3[16;7H[?25h[?25lfree_key_values(p->succ);[16;31H[K[49;174H2[16;6H[?25h[?25lfree_key_values(p->succ);[16;30H[K[49;174H1[16;5H[?25h[?25l[15;27Hfree_key_values(p->succ);[16;5H  free(p);[16;15H[K[17;7H[K[19;7H[34m//go thru chain of keyValues[m[20;7H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ)[21;7H{[21;8H[K[22;7H  [34m// First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m[23;9Hfree(p->key);[23;22H[K[24;15H); [34m//free KeyValue struct[m[25;7H}[25;9H[K[26;5H}[26;7H[K[27;5H[K[28;5H[34m/** Make key-values for all the words in the first verse of Carroll's[29;5H *  Jabberwocky with value being the index of the word.[m[29;60H[K[30;7H[34m/[m[30;8H[K[31;5H[32mstatic[m [32mstruct[m KeyValue *[32;5Hmake_key_values([32mvoid[m) {[32;28H[K[33;5H  [32mconst[m [32mchar[m *keys[] = {[34;7H  [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[35;5H    [m[1C[31mdid"[m[34m, [m[31m"gyre[m[1C[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[35;61H[K[36;10H[31mall[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[36;52H[K[37;11H[31mnd[4Cthe"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths[4Coutgrabe"[m[34m,[m[37;51H[K[38;7H[34m};*/[m[38;11H[K[39;5H  [32mstruct[m KeyValue *p = [31mNULL[m;[40;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[41;7H  p = add_key_value(p, keys[i], i);[41;42H[K[42;7H}[42;9H[K[43;7H[38;5;130mreturn[m p;[44;5H}[44;7H[K[45;5H[K[46;5H[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[47;5H *  paired with their index[8Cverse.[m[47;46H[K[48;7H[34m/[m[48;8H[K[15;10H[106m([15C)[m[49;172H6,23[10C9[15;27H[?25h[?25l free_key_values(p->succ);[15;10H([15C)[49;175H4[15;28H[?25h[?25l[49;172H7,11[16;15H[?25h[?25l[49;172H8,1 [17;5H[?25h[?25l[49;172H9[18;5H[?25h[?25l/[49;174H2[18;6H[?25h[?25l[34m/*[19;5H  [20;5H  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) [21;5H  {[22;5H    [23;5H    free(p->key);[24;5H    free(p); [25;5H  }[26;5H}[m[28;5H[97m[101m/[m[49;174H3[18;7H[?25h[?25l[49;171H50[19;7H[?25h[?25l[49;172H1[20;7H[?25h[?25l[21;7H[34m[106m{[25;7H}[m[49;172H2[21;7H[?25h[?25l[34m{[25;7H}[m[49;172H3[22;7H[?25h[?25l[49;172H4[23;7H[?25h[?25l[49;172H5[24;7H[?25h[?25l[21;7H[34m[106m{[25;7H}[m[49;172H6[25;7H[?25h[?25l[49;174H4[25;8H[?25h[?25l[34m*[21;7H{[25;7H}[m[49;174H5[25;9H[?25h[?25l[34m/[m[26;5H}[28;5H[34m/[m[49;174H6[25;10H[?25h[49;1H[K[25;9H[?25l[49;161H^[[25;9H[49;161H  [25;10H[49;171H56,5[10C79%[25;9H[?25h[?25l[49;161H:[25;9H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 87L, 2409C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kfree_key_values[m[K’:
[01m[Kbug-program.c:45:8:[m[K [01;31m[Kerror: [m[K‘[01m[Kp[m[K’ undeclared (first use in this function)
   free([01;31m[Kp[m[K->key);
        [01;31m[K^[m[K
[01m[Kbug-program.c:45:8:[m[K [01;36m[Knote: [m[Keach undeclared identifier is reported only once for each function it appears in
make: *** [<builtin>: bug-program] Error 1
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 87L, 2409C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{

  free(p->key);
  [38;5;130mif[m (p->succ != [31mNULL[m) free_key_values(p->succ);
  free(p);

[34m/*
  //go thru chain of keyValues
  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) 
  {
    // First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.
    free(p->key);
    free(p); //free KeyValue struct
  }*/[m
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m[49;171H56,5[10C33%[43;5H[?25h[?25l[49;161H:[43;5H[49;1H[K[49;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[43;9H[1;1H[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s;
[38;5;130m 34 [m  kv->value = v;
[38;5;130m 35 [m  kv->succ = keyValues;
[38;5;130m 36 
 37 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 38 [m}
[38;5;130m 39 
 40 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 41 [m[32mstatic[m [32mvoid[m
[38;5;130m 42 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 43 [m{
[38;5;130m 44 
 45 [m  free(p->key);
[38;5;130m 46 [m  [38;5;130mif[m (p->succ != [31mNULL[m) free_key_values(p->succ);
[38;5;130m 47 [m  free(p);
[38;5;130m 48 
 49 [m[34m/*[m
[38;5;130m 50 [m[34m  //go thru chain of keyValues[m
[38;5;130m 51 [m[34m  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) [m
[38;5;130m 52 [m[34m  {[m
[38;5;130m 53 [m[34m    // First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m
[38;5;130m 54 [m[34m    free(p->key);[m
[38;5;130m 55 [m[34m    free(p); //free KeyValue struct[m
[38;5;130m 56 [m[34m  }*/[m
[38;5;130m 57 [m}
[38;5;130m 58 
 59 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m
[38;5;130m 60 [m[34m *  Jabberwocky with value being the index of the word.[m
[38;5;130m 61 [m[34m */[m[49;171H56,5[10C33%[43;9H[?25h[?25l[49;161H~@k[43;9H[49;161H   [42;9H[49;172H5[42;9H[?25h[?25l[49;161H~@k[42;9H[49;161H   [41;9H[49;172H4[41;9H[?25h[?25l[49;161H~@k[41;9H[49;161H   [40;9H[49;172H3[40;9H[?25h[?25l[49;161H~@k[40;9H[49;161H   [39;7H[34m[106m{[43;7H}[m[49;172H2,3[39;7H[?25h[?25l[49;161H~@k[39;7H[49;161H   [38;9H[39;7H[34m{[43;7H}[m[49;172H1,5[38;9H[?25h[?25l[49;161H~@k[38;9H[49;161H   [37;9H[49;172H0[37;9H[?25h[?25l[49;161H~@k[37;9H[49;161H   [36;6H[49;171H49,2[36;6H[?25h[?25l[49;161H~@k[36;6H[49;161H   [35;5H[49;172H8,0-1[35;5H[?25h[?25l[49;161H~@k[35;5H[49;161H   [34;9H[49;172H7,5  [34;9H[?25h[?25l[49;161H~@k[34;9H[49;161H   [33;9H[49;172H6[33;9H[?25h[?25l[49;161H~@k[33;9H[49;161H   [32;9H[49;172H5[32;9H[?25h[?25l[49;161H~@k[32;9H[49;161H   [32;10H[49;174H6[32;10H[?25h[?25l[49;161H~@k[32;10H[49;161H   [32;11H[106m([mp->key[106m)[m[49;174H7[32;11H[?25h[?25l[49;161H~@k[32;11H[49;161H   [32;12H(p->key)[49;174H8[32;12H[?25h[?25l[49;161H~@k[32;12H[49;161H   [32;13H[49;174H9[32;13H[?25h[?25l[49;161H~@k[32;13H[49;161H   [32;12H[49;174H8[32;12H[?25h[?25l[49;161Hk[32;12H[49;161H [31;5H[49;172H4,0-1[31;5H[?25h[?25l[49;161He[31;5H[49;161H [32;10H[49;172H5,6  [32;10H[?25h[?25l[49;161Hy[32;10H[?25h[?25l[49;162H~@k[32;10H[49;161H    [32;10H[?25h[?25l[49;161Hi[32;10H[49;161H [32;10H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H45,6[10C33%[32;10H[?25h[?25le[106m([mp->key[106m)[m[49;174H7[32;11H[?25h[?25l[49;174H8[32;12H[?25h[?25l(p->key)[49;174H9[32;13H[?25h[?25l->key);[32;19H[K[32;11H[106m([m->key[106m)[m[49;174H8[32;12H[?25h[?25lk->ke[106my[m);[32;11H(k->key[49;174H9[32;13H[?25h[?25le->key);[49;174H10[32;14H[?25h[?25ly->key);[49;175H1[32;15H[?25h[?25lV->key);[49;175H2[32;16H[?25h[?25la->key);[49;175H3[32;17H[?25h[?25ll->key);[49;175H4[32;18H[?25h[?25le->key);[49;175H5[32;19H[?25h[?25l->key);[32;25H[K[49;175H4[32;18H[?25h[?25lu->key);[49;175H5[32;19H[?25h[?25le->key);[49;175H6[32;20H[?25h[?25ls->key);[49;175H7[32;21H[?25h[?25l ->key);[49;175H8[32;22H[?25h[?25l->key);[32;28H[K[49;175H7[32;21H[?25h[?25l[49;172H6[33;21H[?25h[?25l[49;175H6[33;20H[?25h[?25l[49;175H5[33;19H[?25h[?25l[49;175H4[33;18H[?25h[?25l[49;175H3[33;17H[?25h[?25l[49;175H2[33;16H[?25h[?25l[49;175H1[33;15H[?25h[?25l[49;175H0[33;14H[?25h[?25l[49;174H9 [33;13H[?25h[?25l[49;174H8[33;12H[?25h[?25l->succ != [31mNUL[m[1C) free_key_values(p->succ);[33;52H[K[33;10H[106m([14C)[m[49;174H7[33;11H[?25h[?25lk->succ != [31mNU[m[1C[31m[106mL[m) free_key_values(p->succ);[33;10H([14C[31mL[m[49;174H8[33;12H[?25h[?25le->succ != [31mNULL[m) free_key_values(p->succ);[49;174H9[33;13H[?25h[?25ly->succ != [31mNULL[m) free_key_values(p->succ);[49;174H10[33;14H[?25h[?25lV->succ != [31mNULL[m) free_key_values(p->succ);[49;175H1[33;15H[?25h[?25la->succ != [31mNULL[m) free_key_values(p->succ);[49;175H2[33;16H[?25h[?25ll->succ != [31mNULL[m) free_key_values(p->succ);[49;175H3[33;17H[?25h[?25lu->succ != [31mNULL[m) free_key_values(p->succ);[49;175H4[33;18H[?25h[?25le->succ != [31mNULL[m) free_key_values(p->succ);[49;175H5[33;19H[?25h[?25ls->succ != [31mNULL[m) free_key_values(p->succ);[49;175H6[33;20H[?25h[?25l[49;175H7[33;21H[?25h[?25l[49;175H8[33;22H[?25h[?25l[49;175H9[33;23H[?25h[?25l[49;174H20[33;24H[?25h[?25l[49;175H1[33;25H[?25h[?25l[49;175H2[33;26H[?25h[?25l[49;175H3[33;27H[?25h[?25l[49;175H4[33;28H[?25h[?25l[49;175H5[33;29H[?25h[?25l[49;175H6[33;30H[?25h[?25l[49;175H7[33;31H[?25h[?25l[49;175H8[33;32H[?25h[?25l[49;175H9[33;33H[?25h[?25l[33;10H[106m([23C)[m[49;174H30[33;34H[?25h[?25l[49;175H1[33;35H[?25h[?25l[33;10H([23C)[49;175H2[33;36H[?25h[?25l[49;175H3[33;37H[?25h[?25l[49;175H4[33;38H[?25h[?25l[49;175H9[33;43H[?25h[?25l[49;174H40[33;44H[?25h[?25l[49;175H1[33;45H[?25h[?25l[49;175H2[33;46H[?25h[?25l[49;175H3[33;47H[?25h[?25l[49;175H4[33;48H[?25h[?25l[49;175H5[33;49H[?25h[?25l[49;175H6[33;50H[?25h[?25ls[106m([7C)[m[49;175H7[33;51H[?25h[?25l[49;175H8[33;52H[?25h[?25l([7C)[49;175H9[33;53H[?25h[?25l->succ);[33;60H[K[33;51H[106m([m->succ[106m)[m[49;175H8[33;52H[?25h[?25lk->suc[106mc[m);[33;51H(k->succ[49;175H9[33;53H[?25h[?25le->succ);[49;174H50[33;54H[?25h[?25ly->succ);[49;175H1[33;55H[?25h[?25lV->succ);[49;175H2[33;56H[?25h[?25la->succ);[49;175H3[33;57H[?25h[?25ll->succ);[49;175H4[33;58H[?25h[?25lu->succ);[49;175H5[33;59H[?25h[?25le->succ);[49;175H6[33;60H[?25h[?25ls->succ);[49;175H7[33;61H[?25h[?25l[49;172H7,11[34;15H[?25h[?25l[106m([mp[106m)[m[49;175H0[34;14H[?25h[?25l[49;174H9 [34;13H[?25h[?25l)[106m;[m[34;14H[K[34;12H[106m)[m;[49;174H8[34;12H[?25h[?25l[106mk[m);k[106m)[m[49;174H9[34;13H[?25h[?25l[106me[m);e[106m)[m[49;174H10[34;14H[?25h[?25l[106my[m);y[106m)[m[49;175H1[34;15H[?25h[?25l[106mV[m);V[106m)[m[49;175H2[34;16H[?25h[?25l[106ma[m);a[106m)[m[49;175H3[34;17H[?25h[?25l[106ml[m);l[106m)[m[49;175H4[34;18H[?25h[?25l[106mu[m);u[106m)[m[49;175H5[34;19H[?25h[?25l[106me[m);e[106m)[m[49;175H6[34;20H[?25h[?25l[106ms[m);s[106m)[m[49;175H7[34;21H[?25h[?25l[106m [m); [106m)[m[49;175H8[34;22H[?25h[?25l)[106m;[m[34;23H[K[34;21H[106m)[m;[49;175H7[34;21H[?25h[?25l[34;11H([9C)[49;175H9[34;23H[?25h[49;1H[K[34;22H[?25l[49;161H^[[34;22H[49;161H  [34;23H[49;171H47,18[9C33%[34;22H[?25h[?25l[49;161H:[34;22H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 87L, 2441C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kfree_key_values[m[K’:
[01m[Kbug-program.c:45:17:[m[K [01;35m[Kwarning: [m[Kpassing argument 1 of ‘[01m[Kfree[m[K’ discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
   free([01;35m[KkeyValues->key[m[K);
        [01;35m[K~~~~~~~~~^~~~~[m[K
In file included from [01m[Kbug-program.c:3[m[K:
[01m[K/usr/include/stdlib.h:563:25:[m[K [01;36m[Knote: [m[Kexpected ‘[01m[Kvoid *[m[K’ but argument is of type ‘[01m[Kconst char *[m[K’
 extern void free ([01;36m[Kvoid *__ptr[m[K) __THROW;
                   [01;36m[K~~~~~~^~~~~[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.cmake[Kvi bug-program.cvalgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.cmake[Kvi bug-program.cvalgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 148L, 10246C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H--2902834-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
==2902834== Invalid read of size 1
==2902834==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2902834==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2902834==    by 0x48D6605: printf (printf.c:33)
==2902834==    by 0x10921A: main (bug-program.c:83)
==2902834==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2902834==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2902834==    by 0x1091D3: add_key_value (bug-program.c:24)
==2902834==    by 0x1091D3: make_key_values (bug-program.c:72)
==2902834==    by 0x1091D3: main (bug-program.c:81)
==2902834==
--2902834-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
--2902834-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2902834==
==2902834== HEAP SUMMARY:
==2902834==     in use at exit: 0 bytes in 0 blocks
==2902834==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2902834==
==2902834== All heap blocks were freed -- no leaks are possible
==2902834==
==2902834== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
==2902834==
==2902834== 1 errors in context 1 of 2:
==2902834== Invalid read of size 1
==2902834==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2902834==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2902834==    by 0x48D6605: printf (printf.c:33)
==2902834==    by 0x10921A: main (bug-program.c:83)
==2902834==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2902834==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2902834==    by 0x1091D3: add_key_value (bug-program.c:24)
==2902834==    by 0x1091D3: make_key_values (bug-program.c:72)
==2902834==    by 0x1091D3: main (bug-program.c:81)
==2902834==
==2902834==
==2902834== 1 errors in context 2 of 2:
==2902834== Invalid write of size 1
==2902834==    at 0x1091E4: add_key_value (bug-program.c:30)
==2902834==    by 0x1091E4: make_key_values (bug-program.c:72)
==2902834==    by 0x1091E4: main (bug-program.c:81)
==2902834==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2902834==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2902834==    by 0x1091D3: add_key_value (bug-program.c:24)
==2902834==    by 0x1091D3: make_key_values (bug-program.c:72)
==2902834==    by 0x1091D3: main (bug-program.c:81)
==2902834==
==2902834== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)[49;171H136,1[9CBot[36;1H[?25h[?25l[49;161H~@@[36;1H[49;161H   [36;12H[49;176H2[36;12H[?25h[?25l[49;161H~@k[36;12H[49;161H   [37;39H[49;173H7,39[37;39H[?25h[?25l[49;161H~@k[37;39H[49;161H   [6;1H[1;48r[1;1H[42M[1;49r[7;1H[94m~                                                                                                                                                                                           [8;1H~                                                                                                                                                                                           [9;1H~                                                                                                                                                                                           [10;1H~                                                                                                                                                                                           [11;1H~                                                                                                                                                                                           [12;1H~                                                                                                                                                                                           [13;1H~                                                                                                                                                                                           [14;1H~                                                                                                                                                                                           [15;1H~                                                                                                                                                                                           [16;1H~                                                                                                                                                                                           [17;1H~                                                                                                                                                                                           [18;1H~                                                                                                                                                                                           [19;1H~                                                                                                                                                                                           [20;1H~                                                                                                                                                                                           [21;1H~                                                                                                                                                                                           [22;1H~                                                                                                                                                                                           [23;1H~                                                                                                                                                                                           [24;1H~                                                                                                                                                                                           [25;1H~                                                                                                                                                                                           [26;1H~                                                                                                                                                                                           [27;1H~                                                                                                                                                                                           [28;1H~                                                                                                                                                                                           [29;1H~                                                                                                                                                                                           [30;1H~                                                                                                                                                                                           [31;1H~                                                                                                                                                                                           [32;1H~                                                                                                                                                                                           [33;1H~                                                                                                                                                                                           [34;1H~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;1H[K[49;171H148,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H147,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    by 0x1091E4: main (bug-program.c:81)[49;171H[K[49;171H146,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    by 0x1091E4: make_key_values (bug-program.c:72)[49;171H[K[49;171H145,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    at 0x1091E4: add_key_value (bug-program.c:30)[49;171H[K[49;171H144,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834== Invalid write of size 1[49;171H[K[49;171H143,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834== 1 errors in context 2 of 2:[49;171H[K[49;171H142,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==[49;171H[K[49;171H141,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==[49;171H[K[49;171H140,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    by 0x1091D3: main (bug-program.c:81)[49;171H[K[49;171H139,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    by 0x1091D3: make_key_values (bug-program.c:72)[49;171H[K[49;171H138,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    by 0x1091D3: add_key_value (bug-program.c:24)[49;171H[K[49;171H137,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;171H[K[49;171H136,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H[K[49;171H135,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    by 0x10921A: main (bug-program.c:83)[49;171H[K[49;171H134,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    by 0x48D6605: printf (printf.c:33)[49;171H[K[49;171H133,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)[49;171H[K[49;171H132,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==    at 0x4838C74: strlen (vg_replace_strmem.c:460)[49;171H[K[49;171H131,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834== Invalid read of size 1[49;171H[K[49;171H130,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834== 1 errors in context 1 of 2:[49;171H[K[49;171H129,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==[49;171H[K[49;171H128,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)[49;171H[K[49;171H127,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==[49;171H[K[49;171H126,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834== All heap blocks were freed -- no leaks are possible[49;171H[K[49;171H125,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H==2902834==[49;171H[K[49;171H124,1[9CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H==2902834==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated[49;171H[K[49;171H123,1[9CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H==2902834==     in use at exit: 0 bytes in 0 blocks[49;171H[K[49;171H122,1[9CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H==2902834== HEAP SUMMARY:[49;171H[K[49;171H121,1[9CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H==2902834==[49;171H[K[49;171H120,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H--2902834-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)[49;171H[K[49;171H119,1[9CBot[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [6;1H[1;48r[1;1H[L[1;49r[1;1H--2902834-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)[49;171H[K[49;171H118,1[9CBot[6;1H[?25h[?25l[49;161H:[6;1H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[49;3H[K[49;3H[?25h[?25l[49;2H[K[49;2H[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 87L, 2441C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[2;1H[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{

  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);

[34m/*
  //go thru chain of keyValues
  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) 
  {[m[49;171H47,18[9C10%[43;18H[?25h[?25l[49;161H~@k[43;18H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H[34m    // First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[m[49;1H[K[49;171H48,0-1[8C12%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;2H[1;48r[48;1H
[1;49r[48;1H[34m    free(p->key);[m[49;171H[K[49;171H49,2[10C15%[43;2H[?25h[?25l[49;161H~@k[43;2H[49;161H   [43;18H[1;48r[48;1H
[1;49r[48;1H[34m    free(p); //free KeyValue struct[m[49;171H[K[49;171H50,18[9C17%[43;18H[?25h[?25l[49;161H~@k[43;18H[49;161H   [43;18H[1;48r[48;1H
[1;49r[48;1H[34m  }*/[m[49;171H[K[49;171H51,18[9C20%[43;18H[?25h[?25l[49;161H~@k[43;18H[49;161H   [43;3H[1;48r[48;1H
[1;49r[43;3H[34m[106m{[47;3H}[m
}[49;171H[K[49;171H52,3[10C23%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;18H[1;48r[48;1H
[1;49r[42;3H[34m{[46;3H}[m[49;171H[K[49;171H53,18[9C25%[43;18H[?25h[?25l[49;161H~@k[43;18H[49;161H   [43;17H[1;48r[48;1H
[1;49r[48;1H[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H[K[49;171H54,17[9C28%[43;17H[?25h[?25l[49;161H~@k[43;17H[49;161H   [43;18H[1;48r[48;1H
[1;49r[48;1H[34m *  Jabberwocky with value being the index of the word.[m[49;171H[K[49;171H55,18[9C30%[43;18H[?25h[?25l[49;161H~@k[43;18H[49;161H   [43;5H[1;48r[48;1H
[1;49r[48;1H[34m */[m[49;171H[K[49;171H56,5[10C33%[43;5H[?25h[?25l[49;161H~@k[43;5H[49;161H   [43;1H[1;48r[48;1H
[1;49r[29;1H[106m{[43;1H}[m[48;1H[32mstatic[m [32mstruct[m KeyValue *[49;171H[K[49;171H57,1[10C35%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[28;1H{[42;1H}[48;1Hmake_key_values([32mvoid[m) {[49;171H[K[49;171H58,0-1[8C38%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;18H[1;48r[48;1H
[1;49r[48;3H[32mconst[m [32mchar[m *keys[] = {[49;171H[K[49;171H59,18[9C41%[43;18H[?25h[?25l[49;161H~@k[43;18H[49;161H   [43;18H[1;48r[48;1H
[1;49r[48;5H[31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[49;171H[K[49;171H60,18[9C43%[43;18H[?25h[?25l[49;161H~@k[43;18H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;1H[34m    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[49;171H[K[49;171H61,3[10C46%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [42;18H[49;172H0,18[42;18H[?25h[?25l[49;161H~@k[42;18H[49;161H   [41;18H[49;171H59[41;18H[?25h[?25l[49;161H~@k[41;18H[49;161H   [40;1H[49;172H8,0-1[40;1H[?25h[?25l[49;161H~@k[40;1H[49;161H   [39;1H[25;1H[106m{[39;1H}[m[49;172H7,1  [39;1H[?25h[?25l[49;161H~@k[39;1H[49;161H   [38;5H[25;1H{[39;1H}[49;172H6,5[38;5H[?25h[?25l[49;161H~@k[38;5H[49;161H   [38;5H[?25h[?25l[49;161H~@k[38;5H[49;161H   [38;5H[?25h[?25l[49;161H~@k[38;5H[49;161H   [38;5H[?25h[?25l[49;161H~@k[38;5H[49;161H   [38;4H[49;174H4[38;4H[?25h[?25l[49;161H~@k[38;4H[49;161H   [38;5H[49;174H5[38;5H[?25h[?25l[49;161H~@k[38;5H[49;161H   [38;5H[?25h[?25l[49;161H~@k[38;5H[49;161H   [38;4H[49;174H4[38;4H[?25h[?25l[49;161Hi[38;4H[49;161H [38;4H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H56,4[10C46%[38;4H[?25h[?25l[34m/[m[38;5H[K[39;1H[34m}[m

[97m[101m/[m[34;3H[34m[106m{[38;3H}[?25h[?25l[m[38;4H[K[38;4H[?25h[?25l[38;3H[K[34;3H[34m{[m[49;174H3[38;3H[?25h[?25l[38;2H[K[49;174H2[38;2H[?25h[?25l[38;1H[K[49;174H1[38;1H[?25h[?25l[37;48r[48;1H
[1;49r[37;1H[34m    free(p); //free KeyValue struct[48;1H    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[49;171H[K[49;171H55,36[9C47%[37;36H[?25h[?25l[37;35H[K[49;175H5[37;35H[?25h[?25l[37;34H[K[49;175H4[37;34H[?25h[?25l[37;33H[K[49;175H3[37;33H[?25h[?25l[37;32H[K[49;175H2[37;32H[?25h[?25l[37;31H[K[49;175H1[37;31H[?25h[?25l[37;30H[K[49;175H0[37;30H[?25h[?25l[37;29H[K[49;174H29[37;29H[?25h[?25l[37;28H[K[49;175H8[37;28H[?25h[?25l[37;27H[K[49;175H7[37;27H[?25h[?25l[37;26H[K[49;175H6[37;26H[?25h[?25l[37;25H[K[49;175H5[37;25H[?25h[?25l[37;24H[K[49;175H4[37;24H[?25h[?25l[37;23H[K[49;175H3[37;23H[?25h[?25l[37;22H[K[49;175H2[37;22H[?25h[?25l[37;21H[K[49;175H1[37;21H[?25h[?25l[37;20H[K[49;175H0[37;20H[?25h[?25l[37;19H[K[49;174H19[37;19H[?25h[?25l[37;18H[K[49;175H8[37;18H[?25h[?25l[37;17H[K[49;175H7[37;17H[?25h[?25l[37;16H[K[49;175H6[37;16H[?25h[?25l[37;15H[K[49;175H5[37;15H[?25h[?25l[37;14H[K[49;175H4[37;14H[?25h[?25l[37;13H[K[49;175H3[37;13H[?25h[?25l[37;12H[K[37;9H[34m[106m([1C)[m[49;175H2[37;12H[?25h[?25l[37;11H[K[37;9H[34m([m[49;175H1[37;11H[?25h[?25l[37;10H[K[49;175H0[37;10H[?25h[?25l[37;9H[K[49;174H9 [37;9H[?25h[?25l[37;8H[K[49;174H8[37;8H[?25h[?25l[37;7H[K[49;174H7[37;7H[?25h[?25l[37;6H[K[49;174H6[37;6H[?25h[?25l[37;5H[K[49;174H5[37;5H[?25h[?25l[37;4H[K[49;174H4[37;4H[?25h[?25l[37;3H[K[49;174H3[37;3H[?25h[?25l[37;2H[K[49;174H2[37;2H[?25h[?25l[37;1H[K[49;174H1[37;1H[?25h[?25l[36;48r[48;1H
[1;49r[36;1H[34m    free(p->key);[48;1H    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m[49;171H[K[49;171H54,18[9C48%[36;18H[?25h[?25l[36;17H[K[36;9H[34m[106m([6C)[m[49;175H7[36;17H[?25h[?25l[36;16H[K[36;9H[34m([m[49;175H6[36;16H[?25h[?25l[36;15H[K[49;175H5[36;15H[?25h[?25l[36;14H[K[49;175H4[36;14H[?25h[?25l[36;13H[K[49;175H3[36;13H[?25h[?25l[36;12H[K[49;175H2[36;12H[?25h[?25l[36;11H[K[49;175H1[36;11H[?25h[?25l[36;10H[K[49;175H0[36;10H[?25h[?25l[36;9H[K[49;174H9 [36;9H[?25h[?25l[36;8H[K[49;174H8[36;8H[?25h[?25l[36;7H[K[49;174H7[36;7H[?25h[?25l[36;6H[K[49;174H6[36;6H[?25h[?25l[36;5H[K[49;174H5[36;5H[?25h[?25l[36;4H[K[49;174H4[36;4H[?25h[?25l[36;3H[K[49;174H3[36;3H[?25h[?25l[36;2H[K[49;174H2[36;2H[?25h[?25l[36;1H[K[49;174H1[36;1H[?25h[?25l[35;48r[48;1H
[1;49r[35;1H[34m    // First free the keyvalue memory blocks inside the pointer, then free the keyvalue itself.[48;1H  };*/[m[49;171H[K[49;171H53,96[9C50%[35;96H[?25h[?25l[35;95H[K[49;175H5[35;95H[?25h[?25l[35;94H[K[49;175H4[35;94H[?25h[?25l[35;93H[K[49;175H3[35;93H[?25h[?25l[35;92H[K[49;175H2[35;92H[?25h[?25l[35;91H[K[49;175H1[35;91H[?25h[?25l[35;90H[K[49;175H0[35;90H[?25h[?25l[35;89H[K[49;174H89[35;89H[?25h[?25l[35;88H[K[49;175H8[35;88H[?25h[?25l[35;87H[K[49;175H7[35;87H[?25h[?25l[35;86H[K[49;175H6[35;86H[?25h[?25l[35;85H[K[49;175H5[35;85H[?25h[?25l[35;84H[K[49;175H4[35;84H[?25h[?25l[35;83H[K[49;175H3[35;83H[?25h[?25l[35;82H[K[49;175H2[35;82H[?25h[?25l[35;81H[K[49;175H1[35;81H[?25h[?25l[35;80H[K[49;175H0[35;80H[?25h[?25l[35;79H[K[49;174H79[35;79H[?25h[?25l[35;78H[K[49;175H8[35;78H[?25h[?25l[35;77H[K[49;175H7[35;77H[?25h[?25l[35;76H[K[49;175H6[35;76H[?25h[?25l[35;75H[K[49;175H5[35;75H[?25h[?25l[35;74H[K[49;175H4[35;74H[?25h[?25l[35;73H[K[49;175H3[35;73H[?25h[?25l[35;72H[K[49;175H2[35;72H[?25h[?25l[35;71H[K[49;175H1[35;71H[?25h[?25l[35;70H[K[49;175H0[35;70H[?25h[?25l[35;69H[K[49;174H69[35;69H[?25h[?25l[35;68H[K[49;175H8[35;68H[?25h[?25l[35;67H[K[49;175H7[35;67H[?25h[?25l[35;66H[K[49;175H6[35;66H[?25h[?25l[35;65H[K[49;175H5[35;65H[?25h[?25l[35;64H[K[49;175H4[35;64H[?25h[?25l[35;63H[K[49;175H3[35;63H[?25h[?25l[35;62H[K[49;175H2[35;62H[?25h[?25l[35;61H[K[49;175H1[35;61H[?25h[?25l[35;60H[K[49;175H0[35;60H[?25h[?25l[35;59H[K[49;174H59[35;59H[?25h[?25l[35;58H[K[49;175H8[35;58H[?25h[?25l[35;57H[K[49;175H7[35;57H[?25h[?25l[35;56H[K[49;175H6[35;56H[?25h[?25l[35;55H[K[49;175H5[35;55H[?25h[?25l[35;54H[K[49;175H4[35;54H[?25h[?25l[35;53H[K[49;175H3[35;53H[?25h[?25l[35;52H[K[49;175H2[35;52H[?25h[?25l[35;51H[K[49;175H1[35;51H[?25h[?25l[35;50H[K[49;175H0[35;50H[?25h[?25l[35;49H[K[49;174H49[35;49H[?25h[?25l[35;48H[K[49;175H8[35;48H[?25h[?25l[35;47H[K[49;175H7[35;47H[?25h[?25l[35;46H[K[49;175H6[35;46H[?25h[?25l[35;45H[K[49;175H5[35;45H[?25h[?25l[35;44H[K[49;175H4[35;44H[?25h[?25l[35;43H[K[49;175H3[35;43H[?25h[?25l[35;42H[K[49;175H2[35;42H[?25h[?25l[35;41H[K[49;175H1[35;41H[?25h[?25l[35;40H[K[49;175H0[35;40H[?25h[?25l[35;39H[K[49;174H39[35;39H[?25h[?25l[35;37H[K[49;175H7[35;37H[?25h[?25l[35;36H[K[49;175H6[35;36H[?25h[?25l[35;35H[K[49;175H5[35;35H[?25h[?25l[35;34H[K[49;175H4[35;34H[?25h[?25l[35;33H[K[49;175H3[35;33H[?25h[?25l[35;32H[K[49;175H2[35;32H[?25h[?25l[35;31H[K[49;175H1[35;31H[?25h[?25l[35;30H[K[49;175H0[35;30H[?25h[?25l[35;29H[K[49;174H29[35;29H[?25h[?25l[35;28H[K[49;175H8[35;28H[?25h[?25l[35;27H[K[49;175H7[35;27H[?25h[?25l[35;26H[K[49;175H6[35;26H[?25h[?25l[35;25H[K[49;175H5[35;25H[?25h[?25l[35;24H[K[49;175H4[35;24H[?25h[?25l[35;23H[K[49;175H3[35;23H[?25h[?25l[35;22H[K[49;175H2[35;22H[?25h[?25l[35;21H[K[49;175H1[35;21H[?25h[?25l[35;20H[K[49;175H0[35;20H[?25h[?25l[35;19H[K[49;174H19[35;19H[?25h[?25l[35;18H[K[49;175H8[35;18H[?25h[?25l[35;17H[K[49;175H7[35;17H[?25h[?25l[35;16H[K[49;175H6[35;16H[?25h[?25l[35;15H[K[49;175H5[35;15H[?25h[?25l[35;14H[K[49;175H4[35;14H[?25h[?25l[35;13H[K[49;175H3[35;13H[?25h[?25l[35;12H[K[49;175H2[35;12H[?25h[?25l[35;11H[K[49;175H1[35;11H[?25h[?25l[35;10H[K[49;175H0[35;10H[?25h[?25l[35;9H[K[49;174H9 [35;9H[?25h[?25l[35;8H[K[49;174H8[35;8H[?25h[?25l[35;7H[K[49;174H7[35;7H[?25h[?25l[35;6H[K[49;174H6[35;6H[?25h[?25l[35;5H[K[49;174H5[35;5H[?25h[?25l[35;4H[K[49;174H4[35;4H[?25h[?25l[35;3H[K[49;174H3[35;3H[?25h[?25l[35;2H[K[49;174H2[35;2H[?25h[?25l[35;1H[K[49;174H1[35;1H[?25h[?25l[34;48r[48;1H
[1;49r[34;1H[34m  {[m[48;3H[32mstruct[m KeyValue *p = [31mNULL[m;[49;171H[K[49;171H52,4[10C51%[34;3H[34m[106m{
}[34;4H[?25h[?25l[m[34;3H[K[35;1H[34m}[m[49;174H3[34;3H[?25h[?25l[34;2H[K[49;174H2[34;2H[?25h[?25l[34;1H[K[49;174H1[34;1H[?25h[?25l[33;48r[48;1H
[1;49r[33;1H[34m  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) [m[48;3H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[49;171H[K[49;171H51,64[9C52%[33;64H[?25h[?25l[33;63H[K[33;7H[34m[106m([54C)[m[49;175H3[33;63H[?25h[?25l[33;62H[K[33;7H[34m([m[49;175H2[33;62H[?25h[?25l[33;61H[K[49;175H1[33;61H[?25h[?25l[33;60H[K[49;175H0[33;60H[?25h[?25l[33;59H[K[49;174H59[33;59H[?25h[?25l[33;58H[K[49;175H8[33;58H[?25h[?25l[33;57H[K[49;175H7[33;57H[?25h[?25l[33;56H[K[49;175H6[33;56H[?25h[?25l[33;55H[K[49;175H5[33;55H[?25h[?25l[33;54H[K[49;175H4[33;54H[?25h[?25l[33;53H[K[49;175H3[33;53H[?25h[?25l[33;52H[K[49;175H2[33;52H[?25h[?25l[33;51H[K[49;175H1[33;51H[?25h[?25l[33;50H[K[49;175H0[33;50H[?25h[?25l[33;49H[K[49;174H49[33;49H[?25h[?25l[33;48H[K[49;175H8[33;48H[?25h[?25l[33;47H[K[49;175H7[33;47H[?25h[?25l[33;46H[K[49;175H6[33;46H[?25h[?25l[33;45H[K[49;175H5[33;45H[?25h[?25l[33;44H[K[49;175H4[33;44H[?25h[?25l[33;43H[K[49;175H3[33;43H[?25h[?25l[33;42H[K[49;175H2[33;42H[?25h[?25l[33;41H[K[49;175H1[33;41H[?25h[?25l[33;40H[K[49;175H0[33;40H[?25h[?25l[33;39H[K[49;174H39[33;39H[?25h[?25l[33;38H[K[49;175H8[33;38H[?25h[?25l[33;37H[K[49;175H7[33;37H[?25h[?25l[33;36H[K[49;175H6[33;36H[?25h[?25l[33;35H[K[49;175H5[33;35H[?25h[?25l[33;34H[K[49;175H4[33;34H[?25h[?25l[33;33H[K[49;175H3[33;33H[?25h[?25l[33;32H[K[49;175H2[33;32H[?25h[?25l[33;31H[K[49;175H1[33;31H[?25h[?25l[33;30H[K[49;175H0[33;30H[?25h[?25l[33;29H[K[49;174H29[33;29H[?25h[?25l[33;28H[K[49;175H8[33;28H[?25h[?25l[33;27H[K[49;175H7[33;27H[?25h[?25l[33;26H[K[49;175H6[33;26H[?25h[?25l[33;25H[K[49;175H5[33;25H[?25h[?25l[33;24H[K[49;175H4[33;24H[?25h[?25l[33;23H[K[49;175H3[33;23H[?25h[?25l[33;22H[K[49;175H2[33;22H[?25h[?25l[33;21H[K[49;175H1[33;21H[?25h[?25l[33;20H[K[49;175H0[33;20H[?25h[?25l[33;19H[K[49;174H19[33;19H[?25h[?25l[33;18H[K[49;175H8[33;18H[?25h[?25l[33;17H[K[49;175H7[33;17H[?25h[?25l[33;16H[K[49;175H6[33;16H[?25h[?25l[33;15H[K[49;175H5[33;15H[?25h[?25l[33;14H[K[49;175H4[33;14H[?25h[?25l[33;13H[K[49;175H3[33;13H[?25h[?25l[33;12H[K[49;175H2[33;12H[?25h[?25l[33;11H[K[49;175H1[33;11H[?25h[?25l[33;10H[K[49;175H0[33;10H[?25h[?25l[33;9H[K[49;174H9 [33;9H[?25h[?25l[33;8H[K[49;174H8[33;8H[?25h[?25l[33;7H[K[49;174H7[33;7H[?25h[?25l[33;6H[K[49;174H6[33;6H[?25h[?25l[33;5H[K[49;174H5[33;5H[?25h[?25l[33;4H[K[49;174H4[33;4H[?25h[?25l[33;3H[K[49;174H3[33;3H[?25h[?25l[33;2H[K[49;174H2[33;2H[?25h[?25l[33;1H[K[49;174H1[33;1H[?25h[?25l[32;48r[48;1H
[1;49r[32;1H[34m  //go thru chain of keyValues[m[48;5Hp = add_key_value(p, keys[i], i);[49;171H[K[49;171H50,31[9C54%[32;31H[?25h[?25l[32;30H[K[49;175H0[32;30H[?25h[?25l[32;29H[K[49;174H29[32;29H[?25h[?25l[32;28H[K[49;175H8[32;28H[?25h[?25l[32;27H[K[49;175H7[32;27H[?25h[?25l[32;26H[K[49;175H6[32;26H[?25h[?25l[32;25H[K[49;175H5[32;25H[?25h[?25l[32;24H[K[49;175H4[32;24H[?25h[?25l[32;23H[K[49;175H3[32;23H[?25h[?25l[32;22H[K[49;175H2[32;22H[?25h[?25l[32;21H[K[49;175H1[32;21H[?25h[?25l[32;20H[K[49;175H0[32;20H[?25h[?25l[32;19H[K[49;174H19[32;19H[?25h[?25l[32;18H[K[49;175H8[32;18H[?25h[?25l[32;17H[K[49;175H7[32;17H[?25h[?25l[32;16H[K[49;175H6[32;16H[?25h[?25l[32;15H[K[49;175H5[32;15H[?25h[?25l[32;14H[K[49;175H4[32;14H[?25h[?25l[32;13H[K[49;175H3[32;13H[?25h[?25l[32;12H[K[49;175H2[32;12H[?25h[?25l[32;11H[K[49;175H1[32;11H[?25h[?25l[32;10H[K[49;175H0[32;10H[?25h[?25l[32;9H[K[49;174H9 [32;9H[?25h[?25l[32;8H[K[49;174H8[32;8H[?25h[?25l[32;7H[K[49;174H7[32;7H[?25h[?25l[32;6H[K[49;174H6[32;6H[?25h[?25l[32;5H[K[49;174H5[32;5H[?25h[?25l[32;4H[K[49;174H4[32;4H[?25h[?25l[32;3H[K[49;174H3[32;3H[?25h[?25l[32;2H[K[49;174H2[32;2H[?25h[?25l[32;1H[K[49;174H1[32;1H[?25h[?25l[31;48r[48;1H
[1;49r[31;1H[34m/*[m[48;3H}[49;171H[K[49;171H49,3[10C56%[31;3H[?25h[?25l/[31;2H[K[32;1H}

[34m/[m[49;174H2[31;2H[?25h[?25l[31;1H[K[49;174H1[31;1H[?25h[?25l[30;48r[48;1H
[1;49r[48;3H[38;5;130mreturn[m p;[49;171H[K[49;171H48,1[10C58%[30;1H[?25h[?25l[29;48r[48;1H
[1;49r[29;3Hfree(keyValues);[48;1H}[49;171H[K[49;171H47,19[9C60%[29;19H[?25h[?25l[49;172H6[28;19H[?25h[?25l[49;172H5[27;19H[?25h[?25l[49;172H4,1 [26;1H[?25h[?25l[25;48r[48;1H
[1;49r[25;1H{[49;171H[K[49;171H43,2[10C62%[25;1H[106m{[29;1H}[25;2H[?25h[?25l[m{[29;1H}[49;172H4[26;2H[?25h[?25l[49;174H3[26;3H[?25h[?25l[49;172H5[27;3H[?25h[?25l[49;172H6[28;3H[?25h[?25l[25;1H[106m{[29;1H}[m[49;172H7,2[29;2H[?25h[?25l[25;1H{[29;1H}[49;172H8,1[30;1H[?25h[?25l:[49;174H2[30;2H[?25h[?25l[30;1H[K[49;174H1[30;1H[?25h[49;1H[K[30;1H[?25l[49;161H^[[30;1H[49;161H  [30;1H[49;171H48,0-1[8C62%[30;1H[?25h[?25l[49;161H:[30;1H[49;161H[K[49;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[30;5H[1;1H[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s;
[38;5;130m 34 [m  kv->value = v;
[38;5;130m 35 [m  kv->succ = keyValues;
[38;5;130m 36 
 37 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 38 [m}
[38;5;130m 39 
 40 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 41 [m[32mstatic[m [32mvoid[m
[38;5;130m 42 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 43 [m{
[38;5;130m 44 [m  free(keyValues->key);
[38;5;130m 45 [m  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
[38;5;130m 46 [m  free(keyValues);
[38;5;130m 47 [m}
[38;5;130m 48 
 49 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m
[38;5;130m 50 [m[34m *  Jabberwocky with value being the index of the word.[m
[38;5;130m 51 [m[34m */[m
[38;5;130m 52 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 53 [mmake_key_values([32mvoid[m) {
[38;5;130m 54 [m  [32mconst[m [32mchar[m *keys[] = {
[38;5;130m 55 [m    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[1C[31mand"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m
[38;5;130m 56 [m[34m    [m[1C[31mdid"[m[34m, [m[31m"gyre"[m[34m, [m[1C[31mand"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"wabe"[m[34m,[m
[38;5;130m 57 [m[34m    [m[1C[31mall"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"borogoves"[m[34m,[m
[38;5;130m 58 [m[34m    [m[1C[31mand"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m
[38;5;130m 59 [m[34m  };*/[m
[38;5;130m 60 [m  [32mstruct[m KeyValue *p = [31mNULL[m;
[38;5;130m 61 [m  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
[38;5;130m 62 [m    p = add_key_value(p, keys[i], i);
[38;5;130m 63 [m  }
[38;5;130m 64 [m  [1C[38;5;130meturn[m p;
[38;5;130m 65 [m}
[38;5;130m 66 [m[49;171H48,0-1[8C62%[30;5H[?25h[?25l[49;161Hi[30;5H[49;161H [30;5H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H48,1[10C62%[30;5H[?25h[?25l[25;5H[106m{[29;5H}[m[49;172H7[29;5H[?25h[?25l[25;5H{[29;5H}[49;172H6[28;5H[?25h[?25l[49;172H5[27;5H[?25h[?25l[49;172H4[26;5H[?25h[?25l[25;5H[106m{[29;5H}[m[49;172H3[25;5H[?25h[?25l{[29;5H}[49;172H2[24;5H[?25h[?25l[49;172H1[23;5H[?25h[?25l[49;172H0[22;5H[?25h[?25l[49;171H39[21;5H[?25h[?25l[1;5H[106m{[20;5H}[m[49;172H8[20;5H[?25h[?25l[1;5H{[20;5H}[49;172H7[19;5H[?25h[?25l[49;172H3[15;5H[?25h[?25l[49;172H2[14;5H[?25h[?25l[49;172H3[15;5H[?25h[?25l[49;172H2[14;5H[?25h[?25l[49;172H1[13;5H[?25h[?25l[49;172H0[12;5H[?25h[?25l[49;171H29[11;5H[?25h[?25l[49;172H8[10;5H[?25h[?25l[49;172H7[9;5H[?25h[?25l[49;172H6[8;5H[?25h[?25l[49;172H5[7;5H[?25h[?25l[49;172H4[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)[49;171H[K[49;171H23,1[10C58%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *[49;171H[K[49;171H22,1[10C55%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 16 [m[34m */[m[49;171H[K[49;171H21,1[10C51%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 15 [m[34m *  resulting chain.[m[49;171H[K[49;171H20,1[10C48%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m[49;171H[K[49;171H19,1[10C44%[6;5H[106m{[25;5H}[6;5H[?25h[?25l[1;48r[m[1;1H[L[1;49r[1;1H[38;5;130m 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m[49;171H[K[49;171H18,1[10C41%[7;5H{[26;5H}[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 12 [m[49;171H[K[49;171H17,1[10C37%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 11 [m};[49;171H[K[49;171H16,1[10C34%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m[49;171H[K[49;171H15,1[10C31%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m  9 [m  [32mint[m value;[13C[34m/** integer value */[m[49;171H[K[49;171H14,1[10C27%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m  8 [m  [32mconst[m [32mchar[m *key;[7C[34m/** string key */[m[49;171H[K[49;171H13,1[10C24%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m  7 [m[32mstruct[m KeyValue {[49;171H[K[49;171H12,1[10C20%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m[49;171H[K[49;171H11,1[10C17%[2;21H[106m{[6;5H}[?25h[?25l[1;48r[m[1;1H[L[1;49r[1;1H[38;5;130m  5 [m[49;171H[K[49;171H10,1[10C13%[3;21H{[7;5H}[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m  4 [m[35m#include [m[31m<string.h>[m[49;171H[K[49;171H9,1[11C10%[6;5H[?25h[?25l[49;171H10,1[7;5H[?25h[?25l[4;21H[106m{[8;5H}[m[49;172H1[8;5H[?25h[?25l[4;21H{[8;5H}[49;172H2[9;5H[?25h[?25l[49;172H3[10;5H[?25h[?25l[49;172H4[11;5H[?25h[?25l[49;172H5[12;5H[?25h[?25l[49;172H6[13;5H[?25h[?25l[49;172H7[14;5H[?25h[?25l[49;172H8[15;5H[?25h[?25l[16;5H[106m{[35;5H}[m[49;172H9[16;5H[?25h[?25l{[35;5H}[49;171H20[17;5H[?25h[?25l[49;172H1[18;5H[?25h[?25l[49;172H2[19;5H[?25h[?25l[49;172H3[20;5H[?25h[?25l[49;172H4[21;5H[?25h[?25l[49;172H5[22;5H[?25h[?25l[49;172H6[23;5H[?25h[?25l[49;172H7[24;5H[?25h[?25l[49;172H8[25;5H[?25h[?25l[49;172H9[26;5H[?25h[?25l[49;171H30[27;5H[?25h[?25l[49;171H29[26;5H[?25h[?25l[49;172H8[25;5H[?25h[?25l[49;172H7[24;5H[?25h[?25l[49;172H6[23;5H[?25h[?25l[49;172H5[22;5H[?25h[?25l[49;172H4[21;5H[?25h[?25l[49;172H3[20;5H[?25h[?25l[49;172H2[19;5H[?25h[?25l[49;172H1[18;5H[?25h[?25l[49;172H0[17;5H[?25h[?25l[16;5H[106m{[35;5H}[m[49;171H19[16;5H[?25h[?25l{[35;5H}[49;172H8[15;5H[?25h[?25l[49;172H7[14;5H[?25h[?25l[49;172H6[13;5H[?25h[?25l[49;172H5[12;5H[?25h[?25l[49;172H4[11;5H[?25h[?25l[49;172H3[10;5H[?25h[?25l[49;172H2[9;5H[?25h[?25l[4;21H[106m{[8;5H}[m[49;172H1[8;5H[?25h[?25l[4;21H{[8;5H}[49;172H0[7;5H[?25h[?25l[49;171H9,1 [6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m[49;171H[K[49;171H8,1[12C6%[6;5H[?25h[?25l [32mconst[m [32mchar[m *key;       [34m/** string key */[m[6;46H[K[6;5H[?25h[?25l[32mconst[m [32mchar[m *key;       [34m/** string key */[m[6;45H[K[6;5H[?25h[?25lonst [32mchar[m *key;       [34m/** string key */[m[6;44H[K[6;5H[?25h[?25lnst [32mchar[m *key;       [34m/** string key */[m[6;43H[K[6;5H[?25h[?25lst [32mchar[m *key;       [34m/** string key */[m[6;42H[K[6;5H[?25h[?25lt [32mchar[m *key;       [34m/** string key */[m[6;41H[K[6;5H[?25h[?25l [32mchar[m *key;       [34m/** string key */[m[6;40H[K[6;5H[?25h[?25l[32mchar[m *key;       [34m/** string key */[m[6;39H[K[6;5H[?25h[?25l [32mchar[m *key;       [34m/** string key */[m[49;173H2[6;6H[?25h[?25l [32mchar[m *key;       [34m/** string key */[m[49;173H3[6;7H[?25h[49;1H[K[6;6H[?25l[49;161H^[[6;6H[49;161H  [6;7H[49;171H8,2[12C6%[6;6H[?25h[?25l[49;161H:[6;6H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 77L, 2175C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.cvalgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.cvalgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[41Pi bug-program.valgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 148L, 10246C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2903401==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2903401==    by 0x1091D3: add_key_value (bug-program.c:24)
==2903401==    by 0x1091D3: make_key_values (bug-program.c:62)
==2903401==    by 0x1091D3: main (bug-program.c:71)
==2903401==
--2903401-- REDIR: 0x49d9db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)
--2903401-- REDIR: 0x49da170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
==2903401== Invalid read of size 1
==2903401==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2903401==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2903401==    by 0x48D6605: printf (printf.c:33)
==2903401==    by 0x10921A: main (bug-program.c:73)
==2903401==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2903401==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2903401==    by 0x1091D3: add_key_value (bug-program.c:24)
==2903401==    by 0x1091D3: make_key_values (bug-program.c:62)
==2903401==    by 0x1091D3: main (bug-program.c:71)
==2903401==
--2903401-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
--2903401-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2903401==
==2903401== HEAP SUMMARY:
==2903401==     in use at exit: 0 bytes in 0 blocks
==2903401==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2903401==
==2903401== All heap blocks were freed -- no leaks are possible
==2903401==
==2903401== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
==2903401==
==2903401== 1 errors in context 1 of 2:
==2903401== Invalid read of size 1
==2903401==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2903401==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2903401==    by 0x48D6605: printf (printf.c:33)
==2903401==    by 0x10921A: main (bug-program.c:73)
==2903401==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2903401==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2903401==    by 0x1091D3: add_key_value (bug-program.c:24)
==2903401==    by 0x1091D3: make_key_values (bug-program.c:62)
==2903401==    by 0x1091D3: main (bug-program.c:71)
==2903401==
==2903401==
==2903401== 1 errors in context 2 of 2:
==2903401== Invalid write of size 1
==2903401==    at 0x1091E4: add_key_value (bug-program.c:30)
==2903401==    by 0x1091E4: make_key_values (bug-program.c:62)
==2903401==    by 0x1091E4: main (bug-program.c:71)
==2903401==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[49;171H118,1[9C94%[24;1H[?25h[?25l[49;161H~@k[24;1H[49;161H   [25;1H[49;173H9[25;1H[?25h[?25l[49;161H~@k[25;1H[49;161H   [26;1H[49;172H20[26;1H[?25h[?25l[49;161H~@k[26;1H[49;161H   [27;1H[49;173H1[27;1H[?25h[?25l[49;161H~@k[27;1H[49;161H   [28;1H[49;173H2[28;1H[?25h[?25l[49;161H~@k[28;1H[49;161H   [29;1H[49;173H3[29;1H[?25h[?25l[49;161H~@k[29;1H[49;161H   [30;1H[49;173H4[30;1H[?25h[?25l[49;161H~@k[30;1H[49;161H   [31;1H[49;173H5[31;1H[?25h[?25l[49;161H~@k[31;1H[49;161H   [32;1H[49;173H6[32;1H[?25h[?25l[49;161H~@k[32;1H[49;161H   [33;1H[49;173H7[33;1H[?25h[?25l[49;161H~@k[33;1H[49;161H   [34;1H[49;173H8[34;1H[?25h[?25l[49;161H~@k[34;1H[49;161H   [35;1H[49;173H9[35;1H[?25h[?25l[49;161H~@k[35;1H[49;161H   [36;1H[49;172H30[36;1H[?25h[?25l[49;161H~@k[36;1H[49;161H   [37;1H[49;173H1[37;1H[?25h[?25l[49;161H~@k[37;1H[49;161H   [38;1H[49;173H2[38;1H[?25h[?25l[49;161H~@k[38;1H[49;161H   [39;1H[49;173H3[39;1H[?25h[?25l[49;161H~@k[39;1H[49;161H   [40;1H[49;173H4[40;1H[?25h[?25l[49;161H~@k[40;1H[49;161H   [41;1H[49;173H5[41;1H[?25h[?25l[49;161H~@k[41;1H[49;161H   [42;1H[49;173H6[42;1H[?25h[?25l[49;161H~@k[42;1H[49;161H   [43;1H[49;173H7[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2903401==    at 0x483577F: malloc (vg_replace_malloc.c:299)[49;1H[K[49;171H138,1[9C95%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2903401==    by 0x1091D3: add_key_value (bug-program.c:24)[49;171H[K[49;171H139,1[9C96%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2903401==    by 0x1091D3: make_key_values (bug-program.c:62)[49;171H[K[49;171H140,1[9C97%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2903401==    by 0x1091D3: main (bug-program.c:71)[49;171H[K[49;171H141,1[9C98%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2903401==[49;171H[K[49;171H142,1[9C99%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[48;1H==2903401== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)[49;171H[K[49;171H143,1[9CBot[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [44;1H[49;173H4[44;1H[?25h[?25l[49;161H~@k[44;1H[49;161H   [45;1H[49;173H5[45;1H[?25h[?25l[49;161H~@k[45;1H[49;161H   [46;1H[49;173H6[46;1H[?25h[?25l[49;161H~@k[46;1H[49;161H   [47;1H[49;173H7[47;1H[?25h[?25l[49;161H~@k[47;1H[49;161H   [48;1H[49;173H8[48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H:[48;1H[49;161H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 77L, 2175C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}[49;171H8,2[11CTop[8;2H[?25h[?25l[49;161H~@k[8;2H[49;161H   [9;2H[49;171H9[9;2H[?25h[?25l[49;161H:[9;2H[49;1H[K[49;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[9;6H[1;1H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m
[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m
[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mchar[m *key;       [34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[9C    [34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s;
[38;5;130m 34 [m  kv->value = v;
[38;5;130m 35 [m  kv->succ = keyValues;
[38;5;130m 36 
 37 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 38 [m}
[38;5;130m 39 
 40 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 41 [m[32mstatic[m [32mvoid[m
[38;5;130m 42 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 43 [m{
[38;5;130m 44 [m  free(keyValues->key);
[38;5;130m 45 [m  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
[38;5;130m 46 [m  free(keyValues);
[38;5;130m 47 [m}
[38;5;130m 48 [m[49;171H9,2[11CTop[9;6H[?25h[?25l[49;161Hi[9;6H[49;161H [9;6H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H9,2[11CTop[9;6H[?25h[?25ln [32mint[m value;[12C [34m/** integer value */[m[49;173H3[9;7H[?25h[?25ln [32mint[m value;[12C [34m/** integer value */[m[49;173H4[9;8H[?25h[?25ln [32mint[m value;[12C [34m/** integer value */[m[49;173H5[9;9H[?25h[?25l [32mint[m value; [12C[34m/** integer value */[m[9;52H[K[49;173H4[9;8H[?25h[?25l [32mint[m value; [12C[34m/** integer value */[m[9;51H[K[49;173H3[9;7H[?25h[?25l [32mint[m value; [12C[34m/** integer value */[m[9;50H[K[49;173H2[9;6H[?25h[?25l[49;171H10,2[10;6H[?25h[?25l[7;21H[106m{[11;5H}[m[49;172H1[11;6H[?25h[?25l[7;21H{[11;5H}[49;172H2,1[12;5H[?25h[?25l[49;172H3,2[13;6H[?25h[?25l[49;172H4[14;6H[?25h[?25l[49;172H5[15;6H[?25h[?25l[49;172H6[16;6H[?25h[?25l[49;172H7[17;6H[?25h[?25l[49;172H8[18;6H[?25h[?25l[19;5H[106m{[38;5H}[m[49;172H9[19;6H[?25h[?25l{[38;5H}[49;171H20[20;6H[?25h[?25l[49;172H1[21;6H[?25h[?25l[49;172H2,1[22;5H[?25h[?25l[49;172H3,2[23;6H[?25h[?25l[49;172H4[24;6H[?25h[?25l[49;172H5,1[25;5H[?25h[?25l[49;172H6,2[26;6H[?25h[?25l[49;172H7[27;6H[?25h[?25l[49;172H8[28;6H[?25h[?25l[49;172H9[29;6H[?25h[?25l[49;171H30[30;6H[?25h[?25l[49;172H1,1[31;5H[?25h[?25l[49;172H2,2[32;6H[?25h[?25l[49;172H3[33;6H[?25h[?25l[49;172H4[34;6H[?25h[?25l[49;172H5[35;6H[?25h[?25l[49;172H6,1[36;5H[?25h[?25l[49;172H7,2[37;6H[?25h[?25l[19;5H[106m{[38;5H}[m[49;172H8[38;6H[?25h[?25l[19;5H{[38;5H}[49;172H9,1[39;5H[?25h[?25l[49;171H40,2[40;6H[?25h[?25l[49;172H1[41;6H[?25h[?25l[49;172H2[42;6H[?25h[?25l[43;5H[106m{[47;5H}[m[49;172H3[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 49 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H[K[49;171H44,2[11C3%[42;5H{[46;5H}[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 50 [m[34m *  Jabberwocky with value being the index of the word.[m[49;171H[K[49;171H45,2[11C6%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 51 [m[34m */[m[49;171H[K[49;171H46,2[10C10%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 52 [m[32mstatic[m [32mstruct[m KeyValue *[49;171H[K[49;171H47,2[10C13%[39;5H[106m{[43;5H}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[38;5;130m 53 [mmake_key_values([32mvoid[m) {[49;171H[K[49;171H48,1[10C17%[38;5H{[42;5H}[43;5H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 54 [m  [32mconst[m [32mchar[m *keys[] = {[49;171H[K[49;171H49,2[10C20%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 55 [m    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[49;171H[K[49;171H50,2[10C24%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 56 [m[34m    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[49;171H[K[49;171H51,2[10C27%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 57 [m[34m    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[49;171H[K[49;171H52,2[10C31%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 58 [m[34m    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m[49;171H[K[49;171H53,2[10C34%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 59 [m[34m  };*/[m[49;171H[K[49;171H54,2[10C37%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 60 [m  [32mstruct[m KeyValue *p = [31mNULL[m;[49;171H[K[49;171H55,2[10C41%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 61 [m  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[49;171H[K[49;171H56,2[10C44%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 62 [m    p = add_key_value(p, keys[i], i);[49;171H[K[49;171H57,2[10C48%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 63 [m  }[49;171H[K[49;171H58,2[10C51%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 64 [m  [38;5;130mreturn[m p;[49;171H[K[49;171H59,2[10C55%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 65 [m}[49;171H[K[49;171H60,2[10C58%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 66 [m[49;171H[K[49;171H61,2[10C62%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 67 [m[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m[49;171H[K[49;171H62,2[10C65%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 68 [m[34m *  paired with their index in the verse.[m[49;171H[K[49;171H63,2[10C68%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 69 [m[34m */[m[49;171H[K[49;171H64,2[10C72%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 70 [m[32mint[m main() {[49;171H[K[49;171H65,2[10C75%[31;27H[106m{[43;5H}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[38;5;130m 71 [m  [32mstruct[m KeyValue *keyValues = make_key_values();[49;171H[K[49;171H66,1[10C79%[30;27H{[42;5H}[43;5H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 72 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[49;171H[K[49;171H67,2[10C82%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 73 [m    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[49;171H[K[49;171H68,2[10C86%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 74 [m  }[49;171H[K[49;171H69,2[10C89%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 75 [m  free_key_values(keyValues);[49;171H[K[49;171H70,2[10C93%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 76 [m  [38;5;130mreturn[m [31m0[m;[49;171H[K[49;171H71,2[10C96%[43;6H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[38;5;130m 77 [m}[49;171H[K[49;171H72,2[10CBot[43;6H[?25h[?25l[49;172H3[44;6H[?25h[?25l[49;172H4[45;6H[?25h[?25l[49;172H5[46;6H[?25h[?25l[49;172H6[47;6H[?25h[?25l[41;16H[106m{[48;5H}[m[49;172H7[48;6H[?25h[?25l[41;16H{[48;5H}[49;172H6[47;6H[?25h[?25l[49;172H5[46;6H[?25h[?25l[49;172H4[45;6H[?25h[?25l[49;172H3[44;6H[?25h[?25l[49;174H3[44;7H[?25h[?25l[49;174H4[44;8H[?25h[?25l[49;174H5[44;9H[?25h[?25l[49;174H6[44;10H[?25h[?25l[49;174H7[44;11H[?25h[?25l[49;174H8[44;12H[?25h[?25l[49;174H9[44;13H[?25h[?25l[49;174H10[44;14H[?25h[?25lf[106m([28C)[m[49;175H1[44;15H[?25h[?25l[49;175H2[44;16H[?25h[?25l([28C)[49;175H3[44;17H[?25h[?25l[49;175H4[44;18H[?25h[?25l[49;175H5[44;19H[?25h[?25l[49;175H6[44;20H[?25h[?25l[49;175H7[44;21H[?25h[?25l[49;175H8[44;22H[?25h[?25l[49;175H9[44;23H[?25h[?25l[49;174H20[44;24H[?25h[?25l[49;175H1[44;25H[?25h[?25l[49;175H2[44;26H[?25h[?25l[49;175H3[44;27H[?25h[?25l[49;175H4[44;28H[?25h[?25l(p->key, p->value);[44;28H[106m([16C)[m[49;175H5[44;29H[?25h[?25l([16C)[49;175H6[44;30H[?25h[?25l[49;175H7[44;31H[?25h[?25l[49;175H8[44;32H[?25h[?25l[49;175H9[44;33H[?25h[?25l[49;174H30[44;34H[?25h[?25l[49;175H1[44;35H[?25h[?25l), p->value);[44;28H[106m([mp->key[106m)[m[49;175H2[44;36H[?25h[?25l[49;175H1[44;35H[?25h[?25l[44;28H(p->key)[49;175H0[44;34H[?25h[?25l[49;174H29[44;33H[?25h[?25l[49;175H8[44;32H[?25h[?25l[49;175H7[44;31H[?25h[?25l[49;175H6[44;30H[?25h[?25l[106m([mp->key[106m)[m[49;175H5[44;29H[?25h[?25l[49;175H4[44;28H[?25h[?25l[106m*[m(p->ke[106my[m), p->value);[44;28H*[106m([mp->key[106m)[m[49;175H5[44;29H[?25h[?25l[43;68H[106m{[m[44;29H(p->key)[45;7H[106m}[m[49;172H4,4 [45;8H[?25h[?25l:[43;68H{[45;7H}[49;174H5[45;9H[?25h[?25l[45;8H[K[43;68H[106m{[45;7H}[m[49;174H4[45;8H[?25h[49;1H[K[45;7H[?25l[49;161H^[[45;7H[49;161H  [45;8H[49;171H74,3[10CBot[45;7H[?25h[?25l[49;161H:[45;7H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 77L, 2178C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kmain[m[K’:
[01m[Kbug-program.c:73:14:[m[K [01;35m[Kwarning: [m[Kformat ‘[01m[K%s[m[K’ expects argument of type ‘[01m[Kchar *[m[K’, but argument 2 has type ‘[01m[Kint[m[K’ [[01;35m[K-Wformat=[m[K]
     printf("[01;35m[K%s[m[K: %d\n", [32m[K*(p->key)[m[K, p->value);
             [01;35m[K~^[m[K         [32m[K~~~~~~~~~[m[K
             [32m[K%d[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 77L, 2178C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;3Hstrcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m
[32mint[m main() {
  [32mstruct[m KeyValue *keyValues = make_key_values();
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) [106m{[m
    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, *(p->key), p->value);
  [106m}[m
  free_key_values(keyValues);
  [38;5;130mreturn[m [31m0[m;
}[49;171H74,3[10CBot[45;3H[?25h[?25l[49;161H~@k[45;3H[49;161H   [46;3H[43;64H{

  }[49;172H5[46;3H[?25h[?25l[49;161H~@k[46;3H[49;161H   [45;3H[43;64H[106m{

[m  [106m}[m[49;172H4[45;3H[?25h[?25l[49;161H~@k[45;3H[49;161H   [46;3H[43;64H{

  }[49;172H5[46;3H[?25h[?25l[49;161H~@k[46;3H[49;161H   [45;3H[43;64H[106m{

[m  [106m}[m[49;172H4[45;3H[?25h[?25l[49;161H~@k[45;3H[49;161H   [46;3H[43;64H{

  }[49;172H5[46;3H[?25h[?25l[49;161H~@k[46;3H[49;161H   [45;3H[43;64H[106m{

[m  [106m}[m[49;172H4[45;3H[?25h[?25l[49;161H~@k[45;3H[49;161H   [44;3H[43;64H{

  }[49;172H3[44;3H[?25h[?25l[49;161H~@k[44;3H[49;161H   [44;4H[49;174H4[44;4H[?25h[?25l[49;161H~@k[44;4H[49;161H   [44;5H[49;174H5[44;5H[?25h[?25l[49;161H~@k[44;5H[49;161H   [44;6H[49;174H6[44;6H[?25h[?25l[49;161H~@k[44;6H[49;161H   [44;7H[49;174H7[44;7H[?25h[?25l[49;161H~@k[44;7H[49;161H   [44;8H[49;174H8[44;8H[?25h[?25l[49;161H~@k[44;8H[49;161H   [44;9H[49;174H9[44;9H[?25h[?25l[49;161H~@k[44;9H[49;161H   [44;10H[49;174H10[44;10H[?25h[?25l[49;161H~@k[44;10H[49;161H   [44;11H[106m([31C)[m[49;175H1[44;11H[?25h[?25l[49;161H~@k[44;11H[49;161H   [44;12H([31C)[49;175H2[44;12H[?25h[?25l[49;161H~@k[44;12H[49;161H   [44;13H[49;175H3[44;13H[?25h[?25l[49;161H~@k[44;13H[49;161H   [44;14H[49;175H4[44;14H[?25h[?25l[49;161H~@k[44;14H[49;161H   [44;15H[49;175H5[44;15H[?25h[?25l[49;161H~@k[44;15H[49;161H   [44;16H[49;175H6[44;16H[?25h[?25l[49;161H~@k[44;16H[49;161H   [44;17H[49;175H7[44;17H[?25h[?25l[49;161H~@k[44;17H[49;161H   [44;18H[49;175H8[44;18H[?25h[?25l[49;161H~@k[44;18H[49;161H   [44;19H[49;175H9[44;19H[?25h[?25l[49;161H~@k[44;19H[49;161H   [44;20H[49;174H20[44;20H[?25h[?25l[49;161H~@k[44;20H[49;161H   [44;21H[49;175H1[44;21H[?25h[?25l[49;161H~@k[44;21H[49;161H   [44;22H[49;175H2[44;22H[?25h[?25l[49;161H~@k[44;22H[49;161H   [44;23H[49;175H3[44;23H[?25h[?25l[49;161H~@k[44;23H[49;161H   [44;24H[49;175H4[44;24H[?25h[?25l[49;161H~@k[44;24H[49;161H   [44;25H[106m([mp->key[106m)[m[49;175H5[44;25H[?25h[?25l[49;161H~@k[44;25H[49;161H   [44;26H(p->key)[49;175H6[44;26H[?25h[?25l[49;161H~@k[44;26H[49;161H   [44;25H[106m([mp->key[106m)[m[49;175H5[44;25H[?25h[?25l[49;161H~@k[44;25H[49;161H   [44;24H*(p->key)[49;175H4[44;24H[?25h[?25l[49;161Hi[44;24H[49;161H [44;24H[49;1H[1m-- INSERT --[m[49;13H[K[49;171H73,24[9CBot[44;24H[?25h[?25l(p->key), p->value);[44;44H[K[44;24H[106m([mp->key[106m)[44;24H[?25h[?25lp[m->key)[106m,[m p->value[97m[101m)[m;[44;43H[K[44;24Hp->key),[44;24H[?25h[?25l[49;175H5[44;25H[?25h[?25l[49;175H6[44;26H[?25h[?25l[49;175H7[44;27H[?25h[?25l[49;175H8[44;28H[?25h[?25l[49;175H9[44;29H[?25h[?25l[44;11H[106m([18C)[m[49;174H30[44;30H[?25h[?25l[49;175H1[44;31H[?25h[?25l[106m,[m p->value);[44;42H[K[44;11H([18C,[49;175H0[44;30H[?25h[?25l[1;48r[1;1H[42M[1;49r[7;1H[94m~                                                                                                                                                                                           [8;1H~                                                                                                                                                                                           [9;1H~                                                                                                                                                                                           [10;1H~                                                                                                                                                                                           [11;1H~                                                                                                                                                                                           [12;1H~                                                                                                                                                                                           [13;1H~                                                                                                                                                                                           [14;1H~                                                                                                                                                                                           [15;1H~                                                                                                                                                                                           [16;1H~                                                                                                                                                                                           [17;1H~                                                                                                                                                                                           [18;1H~                                                                                                                                                                                           [19;1H~                                                                                                                                                                                           [20;1H~                                                                                                                                                                                           [21;1H~                                                                                                                                                                                           [22;1H~                                                                                                                                                                                           [23;1H~                                                                                                                                                                                           [24;1H~                                                                                                                                                                                           [25;1H~                                                                                                                                                                                           [26;1H~                                                                                                                                                                                           [27;1H~                                                                                                                                                                                           [28;1H~                                                                                                                                                                                           [29;1H~                                                                                                                                                                                           [30;1H~                                                                                                                                                                                           [31;1H~                                                                                                                                                                                           [32;1H~                                                                                                                                                                                           [33;1H~                                                                                                                                                                                           [34;1H~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H[K[49;171H77,1[10CBot[6;1H[?25h[?25l[27m[23m[29m[m[H[2J[1;3H[38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m
[32mint[m main() {
  [32mstruct[m KeyValue *keyValues = make_key_values();
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);
[1m-- INSERT --[m[158C68,2[10C86%[43;2H[?25h[?25l[27m[23m[29m[m[H[2J[1;3H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);
  }
  free_key_values(keyValues);
  [38;5;130mreturn[m [31m0[m;
}
[94m~                                                                                                                                                                                           [8;1H~                                                                                                                                                                                           [9;1H~                                                                                                                                                                                           [10;1H~                                                                                                                                                                                           [11;1H~                                                                                                                                                                                           [12;1H~                                                                                                                                                                                           [13;1H~                                                                                                                                                                                           [14;1H~                                                                                                                                                                                           [15;1H~                                                                                                                                                                                           [16;1H~                                                                                                                                                                                           [17;1H~                                                                                                                                                                                           [18;1H~                                                                                                                                                                                           [19;1H~                                                                                                                                                                                           [20;1H~                                                                                                                                                                                           [21;1H~                                                                                                                                                                                           [22;1H~                                                                                                                                                                                           [23;1H~                                                                                                                                                                                           [24;1H~                                                                                                                                                                                           [25;1H~                                                                                                                                                                                           [26;1H~                                                                                                                                                                                           [27;1H~                                                                                                                                                                                           [28;1H~                                                                                                                                                                                           [29;1H~                                                                                                                                                                                           [30;1H~                                                                                                                                                                                           [31;1H~                                                                                                                                                                                           [32;1H~                                                                                                                                                                                           [33;1H~                                                                                                                                                                                           [34;1H~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;1H[1m-- INSERT --[m[158C77,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[32mstruct[m KeyValue *keyValues = make_key_values();[49;171H[K[49;171H76,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[32mint[m main() {[49;171H[K[49;171H75,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m */[m[49;171H[K[49;171H74,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m *  paired with their index in the verse.[m[49;171H[K[49;171H73,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m[49;171H[K[49;171H72,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H71,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H}[49;171H[K[49;171H70,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[38;5;130mreturn[m p;[49;171H[K[49;171H69,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H}[49;171H[K[49;171H68,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;5Hp = add_key_value(p, keys[i], i);[49;171H[K[49;171H67,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[49;171H[K[49;171H66,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[32mstruct[m KeyValue *p = [31mNULL[m;[49;171H[K[49;171H65,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m  };*/[m[49;171H[K[49;171H64,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m[49;171H[K[49;171H63,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[49;171H[K[49;171H62,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[49;171H[K[49;171H61,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;5H[31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[49;171H[K[49;171H60,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[32mconst[m [32mchar[m *keys[] = {[49;171H[K[49;171H59,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1Hmake_key_values([32mvoid[m) {[49;171H[K[49;171H58,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[32mstatic[m [32mstruct[m KeyValue *[49;171H[K[49;171H57,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m */[m[49;171H[K[49;171H56,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m *  Jabberwocky with value being the index of the word.[m[49;171H[K[49;171H55,1[10CBot[6;1H[?25h[?25l[49;172H6[7;1H[?25h[?25l[49;172H7[8;1H[?25h[?25l[49;172H8[9;1H[?25h[?25l[49;172H9[10;1H[?25h[?25l[49;171H60[11;1H[?25h[?25l[49;172H1[12;1H[?25h[?25l[49;172H2[13;1H[?25h[?25l[49;172H3[14;1H[?25h[?25l[49;172H4[15;1H[?25h[?25l[4;23H[106m{[16;1H}[m[49;172H5[16;1H[?25h[?25l[4;23H{[16;1H}[49;172H6[17;1H[?25h[?25l[18;48r[18;1H[L[1;49r[49;171H[K[49;171H67,1[10CBot[18;1H[?25h[?25l[19;48r[19;1H[L[1;49r[49;171H[K[49;171H68,1[10CBot[19;1H[?25h[?25l[49;172H7[18;1H[?25h[?25lv[49;174H2[18;2H[?25h[?25lo[49;174H3[18;3H[?25h[?25li[49;174H4[18;4H[?25h[?25l[32mvoid[m[49;174H5[18;5H[?25h[?25l[49;174H6[18;6H[?25h[?25lp[49;174H7[18;7H[?25h[?25lr[49;174H8[18;8H[?25h[?25li[49;174H9[18;9H[?25h[?25lt[49;174H10[18;10H[?25h[?25l[18;9H[K[49;174H9 [18;9H[?25h[?25ln[49;174H10[18;10H[?25h[?25lt[49;175H1[18;11H[?25h[?25l_[49;175H2[18;12H[?25h[?25lk[49;175H3[18;13H[?25h[?25lw[49;175H4[18;14H[?25h[?25l[18;13H[K[49;175H3[18;13H[?25h[?25lv[49;175H4[18;14H[?25h[?25l([23;12H[97m[101m{[25;64H{

[m  [97m[101m}[m[49;175H5[18;15H[?25h[?25ls[49;175H6[18;16H[?25h[?25lt[49;175H7[18;17H[?25h[?25lr[49;175H8[18;18H[?25h[?25lu[49;175H9[18;19H[?25h[?25lc[49;174H20[18;20H[?25h[?25l[32mstruct[m[49;175H1[18;21H[?25h[?25l[49;175H2[18;22H[?25h[?25lk[49;175H3[18;23H[?25h[?25lv[49;175H4[18;24H[?25h[?25l[18;23H[K[49;175H3[18;23H[?25h[?25l[18;22H[K[49;175H2[18;22H[?25h[?25lk[49;175H3[18;23H[?25h[?25lv[49;175H4[18;24H[?25h[?25l[49;175H5[18;25H[?25h[?25l*[49;175H6[18;26H[?25h[?25l)[23;12H{[25;64H{

  }[18;14H[106m([11C)[m[49;175H7[18;27H[?25h[?25l[19;48r[19;1H[L[1;49r[49;171H[K[49;171H68,2-9[8CBot[18;14H([11C)[19;9H[?25h[?25l{[49;175H  [19;2H[?25h[?25l[20;48r[20;1H[L[1;49r[49;171H[K[49;171H69,2-9[8CBot[20;9H[?25h[?25l[21;48r[21;1H[L[1;49r[49;171H[K[49;171H70,2-9[8CBot[21;9H[?25h[?25l}[19;1H[106m{

}[m[49;175H  [21;2H[?25h[?25l[19;1H{

}[49;171H69,1[20;1H[?25h[?25l[19;1H[106m{

}[m[49;172H8,2[19;2H[?25h[?25l{

}[49;172H7[18;2H[?25h[?25l[49;172H6,1[17;1H[?25h[?25l[4;23H[106m{[16;1H}[m[49;172H5,2[16;2H[?25h[?25l[4;23H{[16;1H}[49;172H4[15;2H[?25h[?25l[49;172H3[14;2H[?25h[?25l[49;172H2[13;2H[?25h[?25l[49;172H1[12;2H[?25h[?25l[49;172H0[11;2H[?25h[?25l[49;171H59[10;2H[?25h[?25l[49;172H8[9;2H[?25h[?25l[49;172H7[8;2H[?25h[?25l[49;172H6[7;2H[?25h[?25l[49;172H5[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H[K[49;171H54,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H53,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H}[49;171H[K[49;171H52,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hfree(keyValues);[49;171H[K[49;171H51,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);[49;171H[K[49;171H50,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hfree(keyValues->key);[49;171H[K[49;171H49,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H{[49;171H[K[49;171H48,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1Hfree_key_values([32mstruct[m KeyValue *keyValues)[49;171H[K[49;171H47,2[10CBot[2;1H[106m{[6;1H}[?25h[?25l[1;48r[m[1;1H[L[1;49r[1;1H[32mstatic[m [32mvoid[m[49;171H[K[49;171H46,2[10CBot[3;1H{[7;1H}[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m/** Free all the key-value's in keyValues. */[m[49;171H[K[49;171H45,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H44,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H}[49;171H[K[49;171H43,2[10CBot[6;1H[106m{[10;1H}[6;2H[?25h[?25l[1;48r[m[1;1H[L[1;49r[1;3H[38;5;130mreturn[m kv;[49;171H[K[49;171H42,2[10CBot[7;1H{[11;1H}[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H41,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hkv->succ = keyValues;[49;171H[K[49;171H40,2[10CBot[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hkv->value = v;[49;171H[K[49;171H39,1[10C97%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hkv->key = s;[49;171H[K[49;171H38,2[10C94%[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[34m//initialize fields of *kv.[m[49;171H[K[49;171H37,2[10C91%[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H36,1[10C88%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hstrcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m[49;171H[K[49;171H35,2[10C85%[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H}[49;171H[K[49;171H34,2[10C82%[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;5Hexit([31m1[m);[49;171H[K[49;171H33,2[10C79%[6;2H[?25h[?25l[49;172H4[7;2H[?25h[?25l[49;172H5[8;2H[?25h[?25l[49;172H6,1[9;1H[?25h[?25l[49;172H7,2[10;2H[?25h[?25l[49;172H8[11;2H[?25h[?25l[49;172H9,1[12;1H[?25h[?25l[49;171H40,2[13;2H[?25h[?25l[49;172H1[14;2H[?25h[?25l[49;172H2[15;2H[?25h[?25l
[106m{[20;1H}[m[49;172H3[16;2H[?25h[?25l{[20;1H}[49;172H4[17;2H[?25h[?25l[49;172H5[18;2H[?25h[?25l[49;172H6[19;2H[?25h[?25l[16;1H[106m{[20;1H}[m[49;172H7[20;2H[?25h[?25l[16;1H{[20;1H}[49;172H8,1[21;1H[?25h[?25l[49;172H9,2[22;2H[?25h[?25l[49;171H50[23;2H[?25h[?25l[49;172H1[24;2H[?25h[?25l[49;172H2[25;2H[?25h[?25l[49;172H3[26;2H[?25h[?25l[49;172H4[27;2H[?25h[?25l[49;172H5[28;2H[?25h[?25l[49;172H6[29;2H[?25h[?25l[49;172H7[30;2H[?25h[?25l[49;172H8[31;2H[?25h[?25l[49;172H9[32;2H[?25h[?25l[49;171H60[33;2H[?25h[?25l[49;172H1[34;2H[?25h[?25l[49;172H2[35;2H[?25h[?25l[49;172H3[36;2H[?25h[?25l[49;172H4[37;2H[?25h[?25l[26;23H[106m{[38;1H}[m[49;172H5[38;2H[?25h[?25l[26;23H{[38;1H}[49;172H6,1[39;1H[?25h[?25l[49;172H7,2[40;2H[?25h[?25l
[106m{

}[m[49;172H8[41;2H[?25h[?25l{

}[49;172H9,1[42;1H[?25h[?25l[41;1H[106m{

}[m[49;172H8,2[41;2H[?25h[?25l{

}[49;172H7[40;2H[?25h[?25l[49;172H6,1[39;1H[?25h[?25l[49;172H7,2[40;2H[?25h[?25l[49;174H3[40;3H[?25h[?25l[49;174H4[40;4H[?25h[?25l[49;174H5[40;5H[?25h[?25l[49;174H6[40;6H[?25h[?25l[49;174H7[40;7H[?25h[?25l[49;174H8[40;8H[?25h[?25l[49;174H9[40;9H[?25h[?25l[49;174H10[40;10H[?25h[?25l[49;175H1[40;11H[?25h[?25l[49;175H2[40;12H[?25h[?25l[49;175H3[40;13H[?25h[?25lv[106m([11C)[m[49;175H4[40;14H[?25h[?25l[49;175H5[40;15H[?25h[?25l([11C)[49;175H6[40;16H[?25h[?25l[49;175H7[40;17H[?25h[?25l[49;175H8[40;18H[?25h[?25l[49;175H9[40;19H[?25h[?25l[49;174H20[40;20H[?25h[?25l[49;175H1[40;21H[?25h[?25l[49;175H2[40;22H[?25h[?25l[49;175H3[40;23H[?25h[?25l[49;175H4[40;24H[?25h[?25l[49;175H5[40;25H[?25h[?25l[40;14H[106m([11C)[m[49;175H6[40;26H[?25h[?25l[49;175H7[40;27H[?25h[?25l[49;175H6[40;26H[?25h[?25l)[40;26H[K[40;25H[106m)[m[49;175H5[40;25H[?25h[?25l)[40;25H[K[40;24H[106m)[m[49;175H4[40;24H[?25h[?25l)[40;24H[K[40;23H[106m)[m[49;175H3[40;23H[?25h[?25l)[40;23H[K[40;22H[106m)[m[49;175H2[40;22H[?25h[?25l[106mK[m)K[106m)[m[49;175H3[40;23H[?25h[?25l[106me[m)e[106m)[m[49;175H4[40;24H[?25h[?25l[106my[m)y[106m)[m[49;175H5[40;25H[?25h[?25l[106mV[m)V[106m)[m[49;175H6[40;26H[?25h[?25l[106ma[m)a[106m)[m[49;175H7[40;27H[?25h[?25l[106ml[m)l[106m)[m[49;175H8[40;28H[?25h[?25l[106my[m)y[106m)[m[49;175H9[40;29H[?25h[?25l[106me[m)e[106m)[m[49;174H30[40;30H[?25h[?25l)[40;30H[K[40;29H[106m)[m[49;174H29[40;29H[?25h[?25l)[40;29H[K[40;28H[106m)[m[49;175H8[40;28H[?25h[?25l[106mu[m)u[106m)[m[49;175H9[40;29H[?25h[?25l[106me[m)e[106m)[m[49;174H30[40;30H[?25h[?25l[106m [m) [106m)[m[49;175H1[40;31H[?25h[?25l[106m*[m)*[106m)[m[49;175H2[40;32H[?25h[?25l[106m [m) [106m)[m[49;175H3[40;33H[?25h[?25l[106me[m)e[106m)[m[49;175H4[40;34H[?25h[?25l)[40;34H[K[40;33H[106m)[m[49;175H3[40;33H[?25h[?25l[106mk[m)k[106m)[m[49;175H4[40;34H[?25h[?25l[106me[m)e[106m)[m[49;175H5[40;35H[?25h[?25l[106my[m)y[106m)[m[49;175H6[40;36H[?25h[?25l[106mV[m)V[106m)[m[49;175H7[40;37H[?25h[?25l[106ma[m)a[106m)[m[49;175H8[40;38H[?25h[?25l[106ml[m)l[106m)[m[49;175H9[40;39H[?25h[?25l[106mu[m)u[106m)[m[49;174H40[40;40H[?25h[?25l[106me[m)e[106m)[m[49;175H1[40;41H[?25h[?25l[106ms[m)s[106m)[m[49;175H2[40;42H[?25h[?25l[106m [m) [106m)[m[49;175H3[40;43H[?25h[?25l)[40;43H[K[40;42H[106m)[m[49;175H2[40;42H[?25h[?25l)[40;42H[K[40;41H[106m)[m[49;175H1[40;41H[?25h[?25l)[40;41H[K[40;40H[106m)[m[49;175H0[40;40H[?25h[?25l)[40;40H[K[40;39H[106m)[m[49;174H39[40;39H[?25h[?25l)[40;39H[K[40;38H[106m)[m[49;175H8[40;38H[?25h[?25l)[40;38H[K[40;37H[106m)[m[49;175H7[40;37H[?25h[?25l)[40;37H[K[40;36H[106m)[m[49;175H6[40;36H[?25h[?25l)[40;36H[K[40;35H[106m)[m[49;175H5[40;35H[?25h[?25l)[40;35H[K[40;34H[106m)[m[49;175H4[40;34H[?25h[?25l)[40;34H[K[40;33H[106m)[m[49;175H3[40;33H[?25h[?25l[106mk[m)k[106m)[m[49;175H4[40;34H[?25h[?25l[106mv[m)v[106m)[m[49;175H5[40;35H[?25h[?25l[40;14H([20C)
[106m{

}[m[49;172H8,2 [41;2H[?25h[?25l{

}[49;172H9,1[42;1H[?25h[?25l[49;174H2-9[42;9H[?25h[?25l[49;174H1  [42;1H[?25h[?25l[49;174H2-9[42;9H[?25h[?25l[49;174H1  [42;1H[?25h[?25l[49;174H2[42;2H[?25h[?25l[49;174H3[42;3H[?25h[?25li[49;174H4[42;4H[?25h[?25l[38;5;130mif[m[49;174H5[42;5H[?25h[?25l[49;174H6[42;6H[?25h[?25l([49;174H7[42;7H[?25h[?25lk[49;174H8[42;8H[?25h[?25lv[49;174H9[42;9H[?25h[?25l-[49;174H10[42;10H[?25h[?25l>[49;175H1[42;11H[?25h[?25ls[49;175H2[42;12H[?25h[?25lu[49;175H3[42;13H[?25h[?25lc[49;175H4[42;14H[?25h[?25lc[49;175H5[42;15H[?25h[?25l[49;175H6[42;16H[?25h[?25l![49;175H7[42;17H[?25h[?25l=[49;175H8[42;18H[?25h[?25l[49;175H9[42;19H[?25h[?25lN[49;174H20[42;20H[?25h[?25lU[49;175H1[42;21H[?25h[?25lL[49;175H2[42;22H[?25h[?25l[31mNULL[m[49;175H3[42;23H[?25h[?25l)[42;6H[106m([16C)[m[49;175H4[42;24H[?25h[?25l[42;6H([16C)[49;175H5[42;25H[?25h[?25lp[49;175H6[42;26H[?25h[?25lr[49;175H7[42;27H[?25h[?25li[49;175H8[42;28H[?25h[?25ln[49;175H9[42;29H[?25h[?25lt[49;174H30[42;30H[?25h[?25l[97m[101m)[m[49;175H1[42;31H[?25h[?25l[42;30H[K[49;175H0[42;30H[?25h[?25l_[49;175H1[42;31H[?25h[?25ll[49;175H2[42;32H[?25h[?25lv[49;175H3[42;33H[?25h[?25l[42;32H[K[49;175H2[42;32H[?25h[?25l[42;31H[K[49;175H1[42;31H[?25h[?25lk[49;175H2[42;32H[?25h[?25lv[49;175H3[42;33H[?25h[?25l([49;175H4[42;34H[?25h[?25lk[49;175H5[42;35H[?25h[?25lv[49;175H6[42;36H[?25h[?25l-[49;175H7[42;37H[?25h[?25l>[49;175H8[42;38H[?25h[?25ls[49;175H9[42;39H[?25h[?25lu[49;174H40[42;40H[?25h[?25lc[49;175H1[42;41H[?25h[?25lc[49;175H2[42;42H[?25h[?25l)[42;33H[106m([8C)[m[49;175H3[42;43H[?25h[?25l;[42;33H([8C)[49;175H4[42;44H[?25h[?25l[43;48r[43;1H[L[1;49r[49;171H[K[49;171H70,3[10C77%[43;3H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[32mint[m main() {[49;171H[K[49;171H71,2[10C80%[40;1H[106m{


}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;3H[32mstruct[m KeyValue *keyValues = make_key_values();[49;171H[K[49;171H72,1[10C82%[39;1H{


}
[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[49;171H[K[49;171H73,3[10C85%[43;3H[?25h[?25l[1;48r[48;1H
[1;49r[48;5Hprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[49;171H[K[49;171H74,3[10C88%[43;3H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H}[49;171H[K[49;171H75,3[10C91%[43;3H[?25h[?25l[1;48r[48;1H
[1;49r[48;3Hfree_key_values(keyValues);[49;171H[K[49;171H76,3[10C94%[43;3H[?25h[?25l[49;172H5[42;3H[?25h[?25l[49;172H4[41;3H[?25h[?25l[49;172H3[40;3H[?25h[?25l[49;172H2,1[39;1H[?25h[?25l[35;1H[106m{


}[m[49;172H1,2[38;2H[?25h[?25l[35;1H{


}[49;172H0,1[37;1H[?25h[?25l[49;174H2-9[37;9H[?25h[?25l[49;174H1  [37;1H[?25h[?25l[49;174H2[37;2H[?25h[?25l[49;174H3[37;3H[?25h[?25lp[49;174H4[37;4H[?25h[?25lr[49;174H5[37;5H[?25h[?25li[49;174H6[37;6H[?25h[?25ln[49;174H7[37;7H[?25h[?25lt[49;174H8[37;8H[?25h[?25lf[49;174H9[37;9H[?25h[?25l([49;174H10[37;10H[?25h[?25l[31m"
}

/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */
int main() {
  struct KeyValue *keyValues = make_key_values();
  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
    printf([m[1C%s: %d\n[1C[31m, p->key, p->value);
  }
  free_key_values(keyValues);[m[49;175H1[37;11H[?25h[?25l[31m%[m[49;175H2[37;12H[?25h[?25l[35m%s[m[49;175H3[37;13H[?25h[?25l[31m:[m[49;175H4[37;14H[?25h[?25l[31m [m[49;175H5[37;15H[?25h[?25l[31m%[m[49;175H6[37;16H[?25h[?25l[35m%d[m[49;175H7[37;17H[?25h[?25l[35m\[m[49;175H8[37;18H[?25h[?25l[35mn[m[49;175H9[37;19H[?25h[?25l[31m"[m
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m
[32mint[m main() {
  [32mstruct[m KeyValue *keyValues = make_key_values();
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [4C; p = p->succ) {
    printf([1C[35m%s[m[31m: [m[35m%d\n[m[1C, p->key, p->value);
  }
  free_key_values(keyValues);[49;174H20[37;20H[?25h[?25l,[49;175H1[37;21H[?25h[?25l[49;175H2[37;22H[?25h[?25lk[49;175H3[37;23H[?25h[?25lv[49;175H4[37;24H[?25h[?25l-[49;175H5[37;25H[?25h[?25l>[49;175H6[37;26H[?25h[?25lk[49;175H7[37;27H[?25h[?25le[49;175H8[37;28H[?25h[?25ly[49;175H9[37;29H[?25h[?25l,[49;174H30[37;30H[?25h[?25l[49;175H1[37;31H[?25h[?25lk[49;175H2[37;32H[?25h[?25lv[49;175H3[37;33H[?25h[?25l-[49;175H4[37;34H[?25h[?25l>[49;175H5[37;35H[?25h[?25lv[49;175H6[37;36H[?25h[?25la[49;175H7[37;37H[?25h[?25ll[49;175H8[37;38H[?25h[?25ly[49;175H9[37;39H[?25h[?25le[49;174H40[37;40H[?25h[?25l[37;39H[K[49;174H39[37;39H[?25h[?25l[37;38H[K[49;175H8[37;38H[?25h[?25lu[49;175H9[37;39H[?25h[?25le[49;174H40[37;40H[?25h[?25l)[37;9H[106m([30C)[m[49;175H1[37;41H[?25h[?25l;[37;9H([30C)[49;175H2[37;42H[?25h[?25l[38;48r[38;1H[L[1;49r[49;171H[K[49;171H71,3[10C91%[38;3H[?25h[?25l[49;174H2[38;2H[?25h[?25l[49;174H1[38;1H[?25h[?25l[49;172H0[37;1H[?25h[?25l[49;171H69[36;1H[?25h[?25l[35;1H[106m{[39;1H}[m[49;172H8[35;1H[?25h[?25l{[39;1H}[49;172H7[34;1H[?25h[?25lsvoid print_kv([32mstruct[m KeyValue * kv)[49;174H2[34;2H[?25h[?25ltvoid print_kv([32mstruct[m KeyValue * kv)[49;174H3[34;3H[?25h[?25lavoid print_kv([32mstruct[m KeyValue * kv)[49;174H4[34;4H[?25h[?25ltvoid print_kv([32mstruct[m KeyValue * kv)[49;174H5[34;5H[?25h[?25livoid print_kv([32mstruct[m KeyValue * kv)[49;174H6[34;6H[?25h[?25lcvoid print_kv([32mstruct[m KeyValue * kv)[49;174H7[34;7H[?25h[?25l[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)[49;174H8[34;8H[?25h[?25l
[106m{[39;1H}[m[49;172H8,2[35;2H[?25h[?25l{[39;1H}[49;172H9,8[36;8H[?25h[?25l[49;171H70[37;8H[?25h[?25l[49;172H1,1[38;1H[?25h[?25l[37;48r[48;1H
[1;49r[37;3Hprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[48;3Hfree_key_values(keyValues);[49;171H[K[49;171H70,42[9C94%[37;42H[?25h[?25l[35;1H[106m{


}[m[49;172H1,2 [38;2H[?25h[?25l[35;1H{


}[49;172H2,1[39;1H[?25h[?25l[49;172H3,42[40;42H[?25h[?25l[49;172H4[41;42H[?25h[?25l[49;172H5,4 [42;4H[?25h[?25l[49;172H6,13[43;13H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[38;5;130mreturn[m [31m0[m;[49;171H[K[49;171H77,42[9C97%[43;42H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H}[49;171H[K[49;171H78,42[9CBot[43;42H[?25h[?25l[49;172H7[42;42H[?25h[?25l[49;172H8[43;42H[?25h[?25l[49;172H9[44;42H[?25h[?25l[43;64H[106m{

[m  [106m}[m[49;171H80,4 [45;4H[?25h[?25l[43;64H{

  }[49;172H1,30[46;30H[?25h[?25l[43;64H[106m{

[m  [106m}[m[49;172H0,4 [45;4H[?25h[?25l*[43;64H{

  }[49;174H5[45;5H[?25h[?25l[97m[101m*/[m[49;174H6[45;6H[?25h[?25l[49;171H79[44;6H[?25h[?25l[49;172H8[43;6H[?25h[?25l[49;174H5[43;5H[?25h[?25l[49;174H4[43;4H[?25h[?25l[49;174H3[43;3H[?25h[?25l/[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[49;174H4[43;4H[?25h[?25l[34m/*for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
    printf([m[1C[31m%s: %d[m[3C[34m, p->key, p->value);
  }*/[m[49;174H5[43;5H[?25h[?25l[49;174H4[43;4H[?25h[?25l[49;174H3[43;3H[?25h[?25l[1;48r[48;1H
[1;49r[43;48r[43;1H[L[1;49r[42;3H[K[43;3H[34m/*for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {[m[49;171H[K[49;171H79,3[10CBot[43;3H[?25h[?25l[49;172H8[42;3H[?25h[?25l[49;172H9[43;3H[?25h[?25l[49;172H8[42;3H[?25h[?25lp[49;174H4[42;4H[?25h[?25lr[49;174H5[42;5H[?25h[?25li[49;174H6[42;6H[?25h[?25ln[49;174H7[42;7H[?25h[?25lt[49;174H8[42;8H[?25h[?25l[97m[101m)[m[49;174H9[42;9H[?25h[?25l[42;8H[K[49;174H8[42;8H[?25h[?25l_[49;174H9[42;9H[?25h[?25lk[49;174H10[42;10H[?25h[?25lv[49;175H1[42;11H[?25h[?25l([49;175H2[42;12H[?25h[?25lk[49;175H3[42;13H[?25h[?25ley[49;175H5[42;15H[?25h[?25lV[49;175H6[42;16H[?25h[?25la[49;175H7[42;17H[?25h[?25ll[49;175H8[42;18H[?25h[?25lu[49;175H9[42;19H[?25h[?25le[49;174H20[42;20H[?25h[?25ls[49;175H1[42;21H[?25h[?25l[49;175H2[42;22H[?25h[?25l[49;175H1[42;21H[?25h[?25l)[42;11H[106m([9C)[m[49;175H2[42;22H[?25h[?25l;[42;11H([9C)[49;175H3[42;23H[?25h[49;1H[K[42;22H[?25l[49;161H^[[42;22H[49;161H  [42;23H[49;171H78,22[9CBot[42;22H[?25h[?25l[49;161H:[42;22H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 84L, 2336C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.cmake[Kvi bug-program.cvalgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.cmake[Kvi bug-program.cmake[Kvi bug-program.cvalgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 150L, 10358C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2904713==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2904713==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2904713==    by 0x48D6605: printf (printf.c:33)
==2904713==    by 0x1091BD: print_kv (bug-program.c:70)
==2904713==    by 0x109229: main (bug-program.c:78)
==2904713==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2904713==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2904713==    by 0x1091FB: add_key_value (bug-program.c:24)
==2904713==    by 0x1091FB: make_key_values (bug-program.c:62)
==2904713==    by 0x1091FB: main (bug-program.c:77)
==2904713==
--2904713-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
--2904713-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2904713==
==2904713== HEAP SUMMARY:
==2904713==     in use at exit: 0 bytes in 0 blocks
==2904713==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2904713==
==2904713== All heap blocks were freed -- no leaks are possible
==2904713==
==2904713== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
==2904713==
==2904713== 1 errors in context 1 of 2:
==2904713== Invalid read of size 1
==2904713==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2904713==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2904713==    by 0x48D6605: printf (printf.c:33)
==2904713==    by 0x1091BD: print_kv (bug-program.c:70)
==2904713==    by 0x109229: main (bug-program.c:78)
==2904713==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2904713==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2904713==    by 0x1091FB: add_key_value (bug-program.c:24)
==2904713==    by 0x1091FB: make_key_values (bug-program.c:62)
==2904713==    by 0x1091FB: main (bug-program.c:77)
==2904713==
==2904713==
==2904713== 1 errors in context 2 of 2:
==2904713== Invalid write of size 1
==2904713==    at 0x10920C: add_key_value (bug-program.c:30)
==2904713==    by 0x10920C: make_key_values (bug-program.c:62)
==2904713==    by 0x10920C: main (bug-program.c:77)
==2904713==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2904713==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2904713==    by 0x1091FB: add_key_value (bug-program.c:24)
==2904713==    by 0x1091FB: make_key_values (bug-program.c:62)
==2904713==    by 0x1091FB: main (bug-program.c:77)
==2904713==
==2904713== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)[49;171H148,1[9CBot[46;1H[?25h[?25l[49;161H^[[46;1H[49;161H  [46;1H[49;161H^[[46;1H[49;161H  [46;1H[?25h[?25l[49;161H:[46;1H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.valgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 84L, 2336C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[2;3H[38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m
[32mint[m main() {
  [32mstruct[m KeyValue *keyValues = make_key_values();
  print_kv(keyValues);
  [34m/*for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
    printf([m[31m"%s: %d[m[35m\n[m[31m"[m[34m, p->key, p->value);
  }*/[m
  free_key_values(keyValues);
  [38;5;130mreturn[m [31m0[m;[49;171H78,22[9C97%[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [43;22H[1;48r[48;1H
[1;49r[48;1H}[49;1H[K[49;171H79,22[9CBot[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [44;22H[49;171H80[44;22H[?25h[?25l[49;161H~@k[44;22H[49;161H   [43;22H[49;171H79[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [42;22H[49;172H8[42;22H[?25h[?25l[49;161H~@k[42;22H[49;161H   [41;22H[49;172H7[41;22H[?25h[?25l[49;161H~@k[41;22H[49;161H   [40;12H[106m{[48;1H}[m[49;172H6,1[40;12H[?25h[?25l[49;161H~@k[40;12H[49;161H   [39;3H[40;12H{[48;1H}[49;172H5,3 [39;3H[?25h[?25l[49;161H~@k[39;3H[49;161H   [38;22H[49;172H4,22[38;22H[?25h[?25l[49;172H3[37;22H[?25h[?25l[49;172H2,0-1[36;1H[?25h[?25l[49;161H~@k[36;1H[49;161H   [35;1H[32;1H[106m{


}[m[49;172H1,1  [35;1H[?25h[?25l[49;161H~@k[35;1H[49;161H   [34;22H[32;1H{


}[49;172H0,22[34;22H[?25h[?25l[49;161H~@k[34;22H[49;161H   [33;22H[49;171H69[33;22H[?25h[?25l[49;161H~@k[33;22H[49;161H   [32;1H[106m{


}[m[49;172H8,1 [32;1H[?25h[?25l[49;161H~@k[32;1H[49;161H   [31;22H
{


}[49;172H7,22[31;22H[?25h[?25l[49;161H~@k[31;22H[49;161H   [30;1H[49;172H6,0-1[30;1H[?25h[?25l[49;161H~@k[30;1H[49;161H   [29;1H[17;23H[106m{[29;1H}[m[49;172H5,1  [29;1H[?25h[?25l[49;161H~@k[29;1H[49;161H   [28;11H[17;23H{[29;1H}[49;172H4,11[28;11H[?25h[?25l[49;161H~@k[28;11H[49;161H   [29;1H[17;23H[106m{[29;1H}[m[49;172H5,1 [29;1H[?25h[?25l[49;161H~@k[29;1H[49;161H   [30;1H[17;23H{[29;1H}[49;172H6,0-1[30;1H[?25h[?25l[49;161H~@k[30;1H[49;161H   [31;22H[49;172H7,22 [31;22H[?25h[?25l[49;161H~@k[31;22H[49;161H   [32;1H[106m{


}[m[49;172H8,1 [32;1H[?25h[?25l[49;161H~@k[32;1H[49;161H   [33;22H[32;1H{


}[49;172H9,22[33;22H[?25h[?25l[49;161H~@k[33;22H[49;161H   [34;22H[49;171H70[34;22H[?25h[?25l[49;161H*[34;22H[49;1H/\<kv\>[49;161H[K[49;1H[34;31H[49;171H70,31[9CBot[34;31H[?25h[?25l[49;161Hi[34;31H[49;161H [34;31H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H70,31[9CBot[34;31H[?25h[?25l[49;175H0[34;30H[?25h[?25l[49;174H29[34;29H[?25h[?25l[49;175H8[34;28H[?25h[?25l[49;175H7[34;27H[?25h[?25l[49;175H6[34;26H[?25h[?25l[49;175H5[34;25H[?25h[?25l[49;175H4[34;24H[?25h[?25l[49;175H3[34;23H[?25h[?25l[49;175H2[34;22H[?25h[?25l*kv->key, kv->value);[49;175H3[34;23H[?25h[?25l[49;175H4[34;24H[?25h[?25l[49;175H5[34;25H[?25h[?25l[49;175H6[34;26H[?25h[?25l[49;175H7[34;27H[?25h[?25l[49;175H8[34;28H[?25h[?25l[49;175H9[34;29H[?25h[?25l[49;174H30[34;30H[?25h[?25l[49;175H1[34;31H[?25h[?25l[49;175H2[34;32H[?25h[?25l*kv->value);[49;175H3[34;33H[?25h[49;1H[K[34;32H[?25l[49;161H^[[34;32H[49;161H  [34;33H[49;171H70,32[9CBot[34;32H[?25h[?25l[49;161H:[34;32H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 84L, 2338C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kprint_kv[m[K’:
[01m[Kbug-program.c:70:32:[m[K [01;31m[Kerror: [m[Kinvalid type argument of unary ‘[01m[K*[m[K’ (have ‘[01m[Kint[m[K’)
   printf("%s: %d\n", *kv->key, [01;31m[K*kv->value[m[K);
                                [01;31m[K^~~~~~~~~~[m[K
make: *** [<builtin>: bug-program] Error 1
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 84L, 2338C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;5Hexit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, *kv->key, *kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m[49;171H70,32[9C75%[43;32H[?25h[?25l[49;161H~@k[43;32H[49;161H   [43;1H[1;48r[48;1H
[1;49r[40;1H[106m{


}[m[48;1H[32mint[m main() {[49;1H[K[49;171H71,1[10C77%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[39;1H{


}[48;3H[32mstruct[m KeyValue *keyValues = make_key_values();[49;171H[K[49;171H72,0-1[8C80%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [42;1H[39;1H[106m{


}[m[49;172H1,1  [42;1H[?25h[?25l[49;161H~@k[42;1H[49;161H   [41;32H[39;1H{


}[49;172H0,32[41;32H[?25h[?25l[49;161H~@k[41;32H[49;161H   [42;1H[39;1H[106m{


}[m[49;172H1,1 [42;1H[?25h[?25l[49;161H~@k[42;1H[49;161H   [41;32H[39;1H{


}[49;172H0,32[41;32H[?25h[?25l[49;161H~@k[41;32H[49;161H   [41;32H[49;161Hdl[41;32H[49;161H  [41;32Hkv->value);[41;43H[K[41;32H[?25h[?25l[49;161H:[41;32H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 84L, 2337C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ cl[K[Kvi bug-program.cmake[K
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kprint_kv[m[K’:
[01m[Kbug-program.c:70:12:[m[K [01;35m[Kwarning: [m[Kformat ‘[01m[K%s[m[K’ expects argument of type ‘[01m[Kchar *[m[K’, but argument 2 has type ‘[01m[Kint[m[K’ [[01;35m[K-Wformat=[m[K]
   printf("[01;35m[K%s[m[K: %d\n", [32m[K*kv->key[m[K, kv->value);
           [01;35m[K~^[m[K         [32m[K~~~~~~~~[m[K
           [32m[K%d[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.cmake[Kvi bug-program.cvalgrind algrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
Segmentation fault
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Kvalgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 84L, 2337C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;5Hexit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, *kv->key, kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m[49;171H70,32[9C75%[43;32H[?25h[?25l[49;161H~@k[43;32H[49;161H   [43;31H[49;175H1[43;31H[?25h[?25l[49;161H~@k[43;31H[49;161H   [43;30H[49;175H0[43;30H[?25h[?25l[49;161H~@k[43;30H[49;161H   [43;29H[49;174H29[43;29H[?25h[?25l[49;161H~@k[43;29H[49;161H   [43;28H[49;175H8[43;28H[?25h[?25l[49;161H~@k[43;28H[49;161H   [43;27H[49;175H7[43;27H[?25h[?25l[49;161H~@k[43;27H[49;161H   [43;26H[49;175H6[43;26H[?25h[?25l[49;161H~@k[43;26H[49;161H   [43;25H[49;175H5[43;25H[?25h[?25l[49;161H~@k[43;25H[49;161H   [43;24H[49;175H4[43;24H[?25h[?25l[49;161H~@k[43;24H[49;161H   [43;23H[49;175H3[43;23H[?25h[?25l[49;161H~@k[43;23H[49;161H   [43;22H[49;175H2[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [43;22H[49;161Hdl[43;22H[49;161H  [43;22Hkv->key, kv->value);[43;42H[K[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [43;1H[1;48r[48;1H
[1;49r[40;1H[106m{


}[m[48;1H[32mint[m main() {[49;1H[K[49;171H71,1[10C77%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[39;1H{


}[48;3H[32mstruct[m KeyValue *keyValues = make_key_values();[49;171H[K[49;171H72,0-1[8C80%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;22H[1;48r[48;1H
[1;49r[48;3Hprint_kv(keyValues);[49;171H[K[49;171H73,22[9C83%[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [43;22H[1;48r[48;1H
[1;49r[48;3H[34m/*for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {[m[49;171H[K[49;171H74,22[9C86%[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;1H[34m    printf([m[31m"%s: %d[m[35m\n[m[31m"[m[34m, p->key, p->value);[m[49;171H[K[49;171H75,3[10C88%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;12H[1;48r[48;1H
[1;49r[48;1H[34m  }*/[m[49;171H[K[49;171H76,12[9C91%[43;12H[?25h[?25l[49;161H~@k[43;12H[49;161H   [43;22H[1;48r[48;1H
[1;49r[48;3Hfree_key_values(keyValues);[49;171H[K[49;171H77,22[9C94%[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [43;22H[1;48r[48;1H
[1;49r[48;3H[38;5;130mreturn[m [31m0[m;[49;171H[K[49;171H78,22[9C97%[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [43;22H[1;48r[48;1H
[1;49r[48;1H}[49;171H[K[49;171H79,22[9CBot[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [44;22H[49;171H80[44;22H[?25h[?25l[49;161H~@k[44;22H[49;161H   [45;5H[49;172H1,5 [45;5H[?25h[?25l[49;161H~@k[45;5H[49;161H   [44;22H[49;172H0,22[44;22H[?25h[?25l[49;161H~@k[44;22H[49;161H   [43;22H[49;171H79[43;22H[?25h[?25l[49;161H~@k[43;22H[49;161H   [42;22H[49;172H8[42;22H[?25h[?25l[49;161H~@k[42;22H[49;161H   [41;22H[49;172H7[41;22H[?25h[?25l[49;161H~@k[41;22H[49;161H   [40;12H[106m{[48;1H}[m[49;172H6,1[40;12H[?25h[?25l[49;161H~@k[40;12H[49;161H   [39;3H[40;12H{[48;1H}[49;172H5,3 [39;3H[?25h[?25l[49;161H~@k[39;3H[49;161H   [38;22H[49;172H4,22[38;22H[?25h[?25l[49;161H~@k[38;22H[49;161H   [37;22H[49;172H3[37;22H[?25h[?25l[49;161H~@k[37;22H[49;161H   [36;1H[49;172H2,0-1[36;1H[?25h[?25l[49;161H~@k[36;1H[49;161H   [35;1H[32;1H[106m{


}[m[49;172H1,1  [35;1H[?25h[?25l[49;161H~@k[35;1H[49;161H   [34;22H[32;1H{


}[49;172H0,22[34;22H[?25h[?25l[49;161H~@k[34;22H[49;161H   [33;22H[49;171H69[33;22H[?25h[?25l[49;161H~@@[33;22H[49;161H   [33;43H[49;174H43[33;43H[?25h[?25l[49;161H^M[33;43H[49;161H  [34;3H[49;171H70,3 [34;3H[?25h[?25l[49;161Hi[34;3H[49;161H [34;3H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H70,3[10CBot[34;3H[?25h[?25l[35;48r[35;1H[L[1;49r[34;3H[K[35;3Hprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[49;171H[K[49;171H71,3[10C97%[35;3H[?25h[?25l[49;172H0[34;3H[?25h[?25li[49;174H4[34;4H[?25h[?25l[38;5;130mif[m[49;174H5[34;5H[?25h[?25l[49;174H6[34;6H[?25h[?25l([49;174H7[34;7H[?25h[?25ls[49;174H8[34;8H[?25h[?25li[49;174H9[34;9H[?25h[?25lz[49;174H10[34;10H[?25h[?25le[49;175H1[34;11H[?25h[?25lo[49;175H2[34;12H[?25h[?25l[38;5;130msizeof[m[49;175H3[34;13H[?25h[?25l([49;175H4[34;14H[?25h[?25lk[49;175H5[34;15H[?25h[?25lv[49;175H6[34;16H[?25h[?25l-[49;175H7[34;17H[?25h[?25l>[49;175H8[34;18H[?25h[?25lk[49;175H9[34;19H[?25h[?25le[49;174H20[34;20H[?25h[?25ly[49;175H1[34;21H[?25h[?25l)[34;13H[106m([7C)[m[49;175H2[34;22H[?25h[?25l[34;13H([7C)[49;175H3[34;23H[?25h[?25l>[49;175H4[34;24H[?25h[?25l=[49;175H5[34;25H[?25h[?25l[49;175H6[34;26H[?25h[?25ls[49;175H7[34;27H[?25h[?25li[49;175H8[34;28H[?25h[?25lz[49;175H9[34;29H[?25h[?25le[49;174H30[34;30H[?25h[?25lo[49;175H1[34;31H[?25h[?25l[38;5;130msizeof[m[49;175H2[34;32H[?25h[?25l([49;175H3[34;33H[?25h[?25lk[49;175H4[34;34H[?25h[?25ln[49;175H5[34;35H[?25h[?25l[34;34H[K[49;175H4[34;34H[?25h[?25l[34;33H[K[49;175H3[34;33H[?25h[?25lc[49;175H4[34;34H[?25h[?25lh[49;175H5[34;35H[?25h[?25la[49;175H6[34;36H[?25h[?25l[32mchar[m[49;175H7[34;37H[?25h[?25l)[106m([4C)[m[49;175H8[34;38H[?25h[?25l([4C)[49;175H9[34;39H[?25h[?25l|[49;174H40[34;40H[?25h[?25l|[49;175H1[34;41H[?25h[?25l[34;40H[K[49;175H0[34;40H[?25h[?25l[34;39H[K[49;174H39[34;39H[?25h[?25l[34;32H[106m([4C)[m[49;175H8[34;38H[?25h[?25l)[34;6H[106m([m[25C([4C)[106m)[m[49;175H9[34;39H[?25h[?25l[34;6H([31C)[49;172H1[35;39H[?25h[?25l[49;175H8[35;38H[?25h[?25l[49;175H7[35;37H[?25h[?25l[49;175H6[35;36H[?25h[?25l[49;175H5[35;35H[?25h[?25l[49;175H4[35;34H[?25h[?25l[49;175H3[35;33H[?25h[?25l[49;175H2[35;32H[?25h[?25l[49;175H1[35;31H[?25h[?25l[49;175H0[35;30H[?25h[?25l[49;174H29[35;29H[?25h[?25l[49;175H8[35;28H[?25h[?25l[49;175H7[35;27H[?25h[?25l[49;175H6[35;26H[?25h[?25l[49;175H5[35;25H[?25h[?25l[49;175H4[35;24H[?25h[?25l[49;175H3[35;23H[?25h[?25l[49;175H2[35;22H[?25h[?25l[49;175H1[35;21H[?25h[?25l[49;175H0[35;20H[?25h[?25l[49;174H19[35;19H[?25h[?25l[49;175H8[35;18H[?25h[?25l[49;175H7[35;17H[?25h[?25l[49;175H6[35;16H[?25h[?25l[49;175H5[35;15H[?25h[?25l[49;175H4[35;14H[?25h[?25l[49;175H3[35;13H[?25h[?25l[49;175H2[35;12H[?25h[?25l[49;175H1[35;11H[?25h[?25l[106m([30C)[m[49;175H0[35;10H[?25h[?25l[49;174H9 [35;9H[?25h[?25l([30C)[49;174H8[35;8H[?25h[?25l[49;174H7[35;7H[?25h[?25l[49;174H6[35;6H[?25h[?25l[49;174H5[35;5H[?25h[?25l[49;174H4[35;4H[?25h[?25l[49;174H3[35;3H[?25h[?25lprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[35;41H[K[49;174H2[35;2H[?25h[?25lprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[35;40H[K[49;174H1[35;1H[?25h[?25l[34;48r[48;1H
[1;49r[34;1H  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) >= [38;5;130msizeof[m([32mchar[m))printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[48;1H}[49;171H[K[49;171H70,39[9CBot[34;6H[106m([31C)[?25h[?25l[m printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[34;6H([31C)[49;174H40[34;40H[?25h[?25l:printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[49;175H1[34;41H[?25h[?25lprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[34;79H[K[49;175H0[34;40H[?25h[49;1H[K[34;39H[?25l[49;161H^[[34;39H[49;161H  [34;40H[49;171H70,39[9CBot[34;39H[?25h[?25l[49;161H:[34;39H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 84L, 2373C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.calgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 84L, 2373C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;5Hexit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) >= [38;5;130msizeof[m([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m[49;171H70,39[9C75%[43;39H[?25h[?25l[49;161H:[43;39H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.calgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.calgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.cmake[Kvi bug-program.cvalgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 150L, 10358C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2905487==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2905487==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2905487==    by 0x48D6605: printf (printf.c:33)
==2905487==    by 0x1091BD: print_kv (bug-program.c:70)
==2905487==    by 0x109229: main (bug-program.c:78)
==2905487==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2905487==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2905487==    by 0x1091FB: add_key_value (bug-program.c:24)
==2905487==    by 0x1091FB: make_key_values (bug-program.c:62)
==2905487==    by 0x1091FB: main (bug-program.c:77)
==2905487==
--2905487-- REDIR: 0x49da690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
--2905487-- REDIR: 0x49029a0 (libc.so.6:free) redirected to 0x4836940 (free)
==2905487==
==2905487== HEAP SUMMARY:
==2905487==     in use at exit: 0 bytes in 0 blocks
==2905487==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2905487==
==2905487== All heap blocks were freed -- no leaks are possible
==2905487==
==2905487== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
==2905487==
==2905487== 1 errors in context 1 of 2:
==2905487== Invalid read of size 1
==2905487==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2905487==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2905487==    by 0x48D6605: printf (printf.c:33)
==2905487==    by 0x1091BD: print_kv (bug-program.c:70)
==2905487==    by 0x109229: main (bug-program.c:78)
==2905487==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2905487==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2905487==    by 0x1091FB: add_key_value (bug-program.c:24)
==2905487==    by 0x1091FB: make_key_values (bug-program.c:62)
==2905487==    by 0x1091FB: main (bug-program.c:77)
==2905487==
==2905487==
==2905487== 1 errors in context 2 of 2:
==2905487== Invalid write of size 1
==2905487==    at 0x10920C: add_key_value (bug-program.c:30)
==2905487==    by 0x10920C: make_key_values (bug-program.c:62)
==2905487==    by 0x10920C: main (bug-program.c:77)
==2905487==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2905487==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2905487==    by 0x1091FB: add_key_value (bug-program.c:24)
==2905487==    by 0x1091FB: make_key_values (bug-program.c:62)
==2905487==    by 0x1091FB: main (bug-program.c:77)
==2905487==
==2905487== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)[49;171H148,1[9CBot[46;1H[?25h[?25l[49;161H:[46;1H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.valgrind c[Kalgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Ci bug-program.c[K
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 84L, 2373C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;5Hexit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) >= [38;5;130msizeof[m([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m[49;171H70,39[9C75%[43;39H[?25h[?25l[49;161H~@k[43;39H[49;161H   [42;39H[49;171H69[42;39H[?25h[?25l[49;161H~@k[42;39H[49;161H   [43;39H[49;171H70[43;39H[?25h[?25l[49;161H~@k[43;39H[49;161H   [43;38H[43;6H[106m([31C)[m[49;175H8[43;38H[?25h[?25l[49;161H~@k[43;38H[49;161H   [43;37H[43;6H([25C[106m([4C)[m)[49;175H7[43;37H[?25h[?25l[49;161H~@k[43;37H[49;161H   [43;36H([4C)[49;175H6[43;36H[?25h[?25l[49;161H~@k[43;36H[49;161H   [43;35H[49;175H5[43;35H[?25h[?25l[49;161H~@k[43;35H[49;161H   [43;34H[49;175H4[43;34H[?25h[?25l[49;161H~@k[43;34H[49;161H   [43;33H[49;175H3[43;33H[?25h[?25l[49;161H~@k[43;33H[49;161H   [43;32H[106m([4C)[m[49;175H2[43;32H[?25h[?25l[49;161H~@k[43;32H[49;161H   [43;31H[1C([4C)[49;175H1[43;31H[?25h[?25l[49;161H~@k[43;31H[49;161H   [43;30H[49;175H0[43;30H[?25h[?25l[49;161H~@k[43;30H[49;161H   [43;29H[49;174H29[43;29H[?25h[?25l[49;161H~@k[43;29H[49;161H   [43;28H[49;175H8[43;28H[?25h[?25l[49;161H~@k[43;28H[49;161H   [43;27H[49;175H7[43;27H[?25h[?25l[49;161H~@k[43;27H[49;161H   [43;26H[49;175H6[43;26H[?25h[?25l[49;161H~@k[43;26H[49;161H   [43;25H[49;175H5[43;25H[?25h[?25l[49;161H~@k[43;25H[49;161H   [43;24H[49;175H4[43;24H[?25h[?25l[49;161H~@k[43;24H[49;161H   [43;24H[49;161Hdl[43;24H[49;161H  [43;24H [38;5;130msizeof[m([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;78H[K[43;24H[?25h[?25l[49;161H<20>[43;24H[49;161H    [43;25H[49;175H5[43;25H[?25h[?25l[49;161H1[43;25H[?25h[?25l[49;162H1[43;25H[?25h[?25l[49;163H1[43;25H[?25h[?25l[49;164Hi[43;25H[49;161H    [43;25H[49;1H[1m-- INSERT --[m[49;13H[K[49;171H70,25[9C75%[43;25H[?25h[?25l1sizeof([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[49;175H6[43;26H[?25h[?25lizeof([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;78H[K[43;26H[?25h[?25lzeof([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;77H[K[43;26H[?25h[?25leof([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;76H[K[43;26H[?25h[?25lof([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;75H[K[43;26H[?25h[?25l[31m1f[m([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;74H[K[43;26H[?25h[?25l([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;73H[K[43;26H[106m([4C)[?25h[?25l[m1[106mc[mhar)[97m[106m)[m printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;72H[K[43;26Hchar)[97m[101m)[?25h[?25l[mhar)[97m[101m)[m printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;71H[K[43;26H[?25h[?25lar)[97m[101m)[m printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;70H[K[43;26H[?25h[?25lr)[97m[101m)[m printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;69H[K[43;26H[?25h[?25l[31m1[m)[97m[101m)[m printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;68H[K[43;6H[106m([19C)[?25h[?25l[m[1C printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;67H[K[43;26H[?25h[49;1H[K[43;25H[?25l[49;161H^[[43;25H[49;161H  [43;26H[43;6H([19C[31m11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111[m
[94m~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H70,135[8CBot[43;135H[?25h[?25l[49;161H:[43;135H[49;161H[K[49;1H:[?2004h[?25h[?25l[49;1H[K[43;135H[49;171H70,135[8CBot[43;135H[?25h[?25l[49;161H:[43;135H[49;161H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[97m[41mE37: No write since last change (add ! to override)[?2004h[43;135H[m[49;171H70,135[8CBot[43;135H[?25h[?25l[49;161H^[[43;135H[49;161H  [43;135H[49;161H^[[43;135H[49;161H  [43;135H[?25h[?25l[49;161H^[[43;135H[49;161H  [43;135H[49;161H^[[43;135H[49;161H  [43;135H[?25h[?25l[49;161H^[[43;135H[49;161H  [43;135H[49;161H^[[43;135H[49;161H  [43;135H[?25h[?25l[49;161H^[[43;135H[49;161H  [43;135H[49;161H^[[43;135H[49;161H  [43;135H[?25h[?25l[49;161H^[[43;135H[49;161H  [43;135H[49;161H^[[43;135H[49;161H  [43;135H[?25h[?25l[49;161H^[[43;135H[49;161H  [43;135H[49;161H^[[43;135H[49;161H  [43;135H[?25h[?25l[49;161H^[[43;135H[49;161H  [43;135H[49;161H^[[43;135H[49;161H  [43;135H[?25h[?25l[49;161H:[43;135H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[97m[41mE37: No write since last change (add ! to override)[?2004h[43;135H[m[49;171H70,135[8CBot[43;135H[?25h[?25l[49;161H:[43;135H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h![?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 84L, 2373C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;5Hexit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) >= [38;5;130msizeof[m([32mchar[m)) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m[49;171H70,78[9C75%[43;78H[?25h[?25l[49;161H~@k[43;78H[49;161H   [43;77H[43;46H[106m([30C)[m[49;175H7[43;77H[?25h[?25l[49;161H~@k[43;77H[49;161H   [43;76H[43;46H([30C)[49;175H6[43;76H[?25h[?25l[49;161H~@k[43;76H[49;161H   [43;75H[49;175H5[43;75H[?25h[?25l[49;161H~@k[43;75H[49;161H   [43;74H[49;175H4[43;74H[?25h[?25l[49;161H~@k[43;74H[49;161H   [43;73H[49;175H3[43;73H[?25h[?25l[49;161H~@k[43;73H[49;161H   [43;72H[49;175H2[43;72H[?25h[?25l[49;161H~@k[43;72H[49;161H   [43;71H[49;175H1[43;71H[?25h[?25l[49;161H~@k[43;71H[49;161H   [43;70H[49;175H0[43;70H[?25h[?25l[49;161H~@k[43;70H[49;161H   [43;69H[49;174H69[43;69H[?25h[?25l[49;161H~@k[43;69H[49;161H   [43;68H[49;175H8[43;68H[?25h[?25l[49;161H~@k[43;68H[49;161H   [43;67H[49;175H7[43;67H[?25h[?25l[49;161H~@k[43;67H[49;161H   [43;66H[49;175H6[43;66H[?25h[?25l[49;161H~@k[43;66H[49;161H   [43;65H[49;175H5[43;65H[?25h[?25l[49;161H~@k[43;65H[49;161H   [43;64H[49;175H4[43;64H[?25h[?25l[49;161H~@k[43;64H[49;161H   [43;63H[49;175H3[43;63H[?25h[?25l[49;161H~@k[43;63H[49;161H   [43;62H[49;175H2[43;62H[?25h[?25l[49;161H~@k[43;62H[49;161H   [43;61H[49;175H1[43;61H[?25h[?25l[49;161H~@k[43;61H[49;161H   [43;60H[49;175H0[43;60H[?25h[?25l[49;161H~@k[43;60H[49;161H   [43;59H[49;174H59[43;59H[?25h[?25l[49;161H~@k[43;59H[49;161H   [43;58H[49;175H8[43;58H[?25h[?25l[49;161H~@k[43;58H[49;161H   [43;57H[49;175H7[43;57H[?25h[?25l[49;161H~@k[43;57H[49;161H   [43;56H[49;175H6[43;56H[?25h[?25l[49;161H~@k[43;56H[49;161H   [43;55H[49;175H5[43;55H[?25h[?25l[49;161H~@k[43;55H[49;161H   [43;54H[49;175H4[43;54H[?25h[?25l[49;161H~@k[43;54H[49;161H   [43;53H[49;175H3[43;53H[?25h[?25l[49;161H~@k[43;53H[49;161H   [43;52H[49;175H2[43;52H[?25h[?25l[49;161H~@k[43;52H[49;161H   [43;51H[49;175H1[43;51H[?25h[?25l[49;161H~@k[43;51H[49;161H   [43;50H[49;175H0[43;50H[?25h[?25l[49;161H~@k[43;50H[49;161H   [43;49H[49;174H49[43;49H[?25h[?25l[49;161H~@k[43;49H[49;161H   [43;48H[49;175H8[43;48H[?25h[?25l[49;161H~@k[43;48H[49;161H   [43;47H[49;175H7[43;47H[?25h[?25l[49;161H~@k[43;47H[49;161H   [43;46H[106m([30C)[m[49;175H6[43;46H[?25h[?25l[49;161H~@k[43;46H[49;161H   [43;45Hf([30C)[49;175H5[43;45H[?25h[?25l[49;161H~@k[43;45H[49;161H   [43;44H[49;175H4[43;44H[?25h[?25l[49;161H~@k[43;44H[49;161H   [43;43H[49;175H3[43;43H[?25h[?25l[49;161H~@k[43;43H[49;161H   [43;42H[49;175H2[43;42H[?25h[?25l[49;161H~@k[43;42H[49;161H   [43;41H[49;175H1[43;41H[?25h[?25l[49;161H~@k[43;41H[49;161H   [43;40H[49;175H0[43;40H[?25h[?25l[49;161H~@k[43;40H[49;161H   [43;39H[49;174H39[43;39H[?25h[?25l[49;161H~@k[43;39H[49;161H   [43;38H[43;6H[106m([31C)[m[49;175H8[43;38H[?25h[?25l[49;161H~@k[43;38H[49;161H   [43;37H[43;6H([25C[106m([4C)[m)[49;175H7[43;37H[?25h[?25l[49;161H~@k[43;37H[49;161H   [43;36H([4C)[49;175H6[43;36H[?25h[?25l[49;161Hi[43;36H[49;161H [43;36H[49;1H[1m-- INSERT --[m[49;13H[K[49;171H70,36[9C75%[43;36H[?25h[?25l[106m([4C)[m[49;175H7[43;37H[?25h[?25l[43;6H[106m([m[25C([4C)[106m)[m[49;175H8[43;38H[?25h[?25l[43;6H([25C[106m([4C)[m)[49;175H7[43;37H[?25h[?25lcha)[1C printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;78H[K[43;36H[106m)[m)[49;175H6[43;36H[?25h[?25l)[1C printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;77H[K[43;35H[106m)[m)[49;175H5[43;35H[?25h[?25l)[1C printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;76H[K[43;34H[106m)[m)[49;175H4[43;34H[?25h[?25l)[1C printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;75H[K[43;33H[106m)[m)[49;175H3[43;33H[?25h[?25l[106m)[m[97m[106m)[m printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;74H[K[43;6H[106m([m[26C[97m[101m)[m[49;175H2[43;32H[?25h[?25lsizeo)[97m[106m)[m printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;73H[K[43;31H[106m)[m[97m[101m)[m[49;175H1[43;31H[?25h[?25l)[97m[106m)[m printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;72H[K[43;30H[106m)[m[97m[101m)[m[49;175H0[43;30H[?25h[?25l[1C printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;71H[K[43;30H[?25h[?25l)[106m [mprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;70H[K[43;29H[106m)[m [49;174H29[43;29H[?25h[?25l)[106m [mprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;69H[K[43;28H[106m)[m [49;175H8[43;28H[?25h[?25l)[106m [mprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;68H[K[43;27H[106m)[m [49;175H7[43;27H[?25h[?25l)[106m [mprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;67H[K[43;26H[106m)[m [49;175H6[43;26H[?25h[?25l)[106m [mprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;66H[K[43;25H[106m)[m [49;175H5[43;25H[?25h[?25l)[106m [mprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;65H[K[43;24H[106m)[m [49;175H4[43;24H[?25h[?25l[106m [m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;24H [106m)[m[49;175H5[43;25H[?25h[?25l[31m[106m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[43;25H[31m1[m[106m)[m[49;175H6[43;26H[?25h[49;1H[K[43;25H[?25l[49;161H^[[43;25H[49;161H  [43;26H[43;6H([19C)[49;171H70,25[9C75%[43;25H[?25h[?25l[49;161H:[43;25H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 84L, 2361C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevi bug-program.cvalgrind c[Kvalgrind c[Kmake[K[Kmakevi bug-program.cvalgrind c[Kalgrind -v --leak-check=yes ./bug-program 2>bug-program.valgrind[1P[1P[1P
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.cvalgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 36L, 1824C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2905831== Memcheck, a memory error detector
==2905831== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2905831== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==2905831== Command: ./bug-program
==2905831==
==2905831== Invalid write of size 1
==2905831==    at 0x10920C: add_key_value (bug-program.c:30)
==2905831==    by 0x10920C: make_key_values (bug-program.c:62)
==2905831==    by 0x10920C: main (bug-program.c:77)
==2905831==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2905831==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2905831==    by 0x1091FB: add_key_value (bug-program.c:24)
==2905831==    by 0x1091FB: make_key_values (bug-program.c:62)
==2905831==    by 0x1091FB: main (bug-program.c:77)
==2905831==
==2905831== Invalid read of size 1
==2905831==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2905831==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2905831==    by 0x48D6605: printf (printf.c:33)
==2905831==    by 0x1091BD: print_kv (bug-program.c:70)
==2905831==    by 0x109229: main (bug-program.c:78)
==2905831==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2905831==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2905831==    by 0x1091FB: add_key_value (bug-program.c:24)
==2905831==    by 0x1091FB: make_key_values (bug-program.c:62)
==2905831==    by 0x1091FB: main (bug-program.c:77)
==2905831==
==2905831==
==2905831== HEAP SUMMARY:
==2905831==     in use at exit: 0 bytes in 0 blocks
==2905831==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2905831==
==2905831== All heap blocks were freed -- no leaks are possible
==2905831==
==2905831== For counts of detected and suppressed errors, rerun with: -v
==2905831== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H1,1[11CAll[1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [2;1H[49;171H2[2;1H[?25h[?25l[49;161H~@k[2;1H[49;161H   [1;1H[49;171H1[1;1H[?25h[?25l[49;161H:[1;1H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vi bug-program.valgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvi bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 84L, 2361C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;5Hexit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m[49;171H70,25[9C75%[43;25H[?25h[?25l[49;161H~@k[43;25H[49;161H   [42;25H[49;171H69[42;25H[?25h[?25l[49;161H~@k[42;25H[49;161H   [41;1H[106m{


}[m[49;172H8,1 [41;1H[?25h[?25l[49;161H~@k[41;1H[49;161H   [40;25H
{


}[49;172H7,25[40;25H[?25h[?25l[49;161H~@k[40;25H[49;161H   [39;1H[49;172H6,0-1[39;1H[?25h[?25l[49;161H~@k[39;1H[49;161H   [38;1H[26;23H[106m{[38;1H}[m[49;172H5,1  [38;1H[?25h[?25l[49;161H~@k[38;1H[49;161H   [37;11H[26;23H{[38;1H}[49;172H4,11[37;11H[?25h[?25l[49;161H~@k[37;11H[49;161H   [36;3H[34;58H[106m{

[m  [106m}[m[49;172H3,3 [36;3H[?25h[?25l[49;161H~@k[36;3H[49;161H   [35;25H[34;58H{

  }[49;172H2,25[35;25H[?25h[?25l[49;161H~@k[35;25H[49;161H   [34;25H[49;172H1[34;25H[?25h[?25l[49;161H~@k[34;25H[49;161H   [33;25H[49;172H0[33;25H[?25h[?25l[49;161H~@k[33;25H[49;161H   [33;24H[49;175H4[33;24H[?25h[?25l[49;161H~@k[33;24H[49;161H   [33;23H[49;175H3[33;23H[?25h[?25l[49;161H~@k[33;23H[49;161H   [33;22H[49;175H2[33;22H[?25h[?25l[49;161H~@k[33;22H[49;161H   [33;21H[49;175H1[33;21H[?25h[?25l[49;161H~@k[33;21H[49;161H   [33;20H[49;175H0[33;20H[?25h[?25l[49;161H~@k[33;20H[49;161H   [33;19H[49;174H19[33;19H[?25h[?25l[49;161H~@k[33;19H[49;161H   [34;19H[49;172H1[34;19H[?25h[?25l[49;161H~@k[34;19H[49;161H   [35;19H[49;172H2[35;19H[?25h[?25l[49;161H~@k[35;19H[49;161H   [36;3H[34;58H[106m{

[m  [106m}[m[49;172H3,3 [36;3H[?25h[?25l[49;161H~@k[36;3H[49;161H   [37;11H[34;58H{

  }[49;172H4,11[37;11H[?25h[?25l[49;161H~@k[37;11H[49;161H   [36;3H[34;58H[106m{

[m  [106m}[m[49;172H3,3 [36;3H[?25h[?25l[49;161H~@k[36;3H[49;161H   [35;19H[34;58H{

  }[49;172H2,19[35;19H[?25h[?25l[49;161H~@k[35;19H[49;161H   [34;19H[49;172H1[34;19H[?25h[?25l[49;161H~@k[34;19H[49;161H   [34;18H[49;175H8[34;18H[?25h[?25l[49;161H~@k[34;18H[49;161H   [34;17H[49;175H7[34;17H[?25h[?25l[49;161H~@k[34;17H[49;161H   [34;16H[49;175H6[34;16H[?25h[?25l[49;161H~@k[34;16H[49;161H   [34;15H[49;175H5[34;15H[?25h[?25l[49;161H~@k[34;15H[49;161H   [34;14H[49;175H4[34;14H[?25h[?25l[49;161H~@k[34;14H[49;161H   [34;13H[49;175H3[34;13H[?25h[?25l[49;161H~@k[34;13H[49;161H   [34;12H[49;175H2[34;12H[?25h[?25l[49;161H~@k[34;12H[49;161H   [34;11H[49;175H1[34;11H[?25h[?25l[49;161H~@k[34;11H[49;161H   [34;10H[49;175H0[34;10H[?25h[?25l[49;161H~@k[34;10H[49;161H   [34;9H[49;174H9 [34;9H[?25h[?25l[49;161H~@k[34;9H[49;161H   [34;8H[49;174H8[34;8H[?25h[?25l[49;161H~@k[34;8H[49;161H   [34;7H[106m([48C)[m[49;174H7[34;7H[?25h[?25l[49;161H~@k[34;7H[49;161H   [34;6H ([48C)[49;174H6[34;6H[?25h[?25l[49;161H~@k[34;6H[49;161H   [34;5H[49;174H5[34;5H[?25h[?25l[49;161H~@k[34;5H[49;161H   [34;4H[49;174H4[34;4H[?25h[?25l[49;161H~@k[34;4H[49;161H   [34;3H[49;174H3[34;3H[?25h[?25l[49;161H~@k[34;3H[49;161H   [35;3H[49;172H2[35;3H[?25h[?25l[49;161H~@k[35;3H[49;161H   [36;3H[34;58H[106m{

[m  [106m}[m[49;172H3[36;3H[?25h[?25l[49;161H~@k[36;3H[49;161H   [37;3H[34;58H{

  }[49;172H4[37;3H[?25h[?25l[49;161H~@k[37;3H[49;161H   [38;1H[26;23H[106m{[38;1H}[m[49;172H5,1[38;1H[?25h[?25l[49;161H~@k[38;1H[49;161H   [39;1H[26;23H{[38;1H}[49;172H6,0-1[39;1H[?25h[?25l[49;161H~@k[39;1H[49;161H   [40;3H[49;172H7,3  [40;3H[?25h[?25l[49;161H~@k[40;3H[49;161H   [41;1H[106m{


}[m[49;172H8,1[41;1H[?25h[?25l[49;161H~@k[41;1H[49;161H   [42;3H[41;1H{


}[49;172H9,3[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [41;1H[106m{


}[m[49;172H8,1[41;1H[?25h[?25l[49;161H~@k[41;1H[49;161H   [40;3H
{


}[49;172H7,3[40;3H[?25h[?25l[49;161H~@k[40;3H[49;161H   [39;1H[49;172H6,0-1[39;1H[?25h[?25l[49;161H~@k[39;1H[49;161H   [38;1H[26;23H[106m{[38;1H}[m[49;172H5,1  [38;1H[?25h[?25l[49;161H~@k[38;1H[49;161H   [37;3H[26;23H{[38;1H}[49;172H4,3[37;3H[?25h[?25l[49;161H~@k[37;3H[49;161H   [36;3H[34;58H[106m{

[m  [106m}[m[49;172H3[36;3H[?25h[?25l[49;161H~@k[36;3H[49;161H   [35;3H[34;58H{

  }[49;172H2[35;3H[?25h[?25l[49;161H~@k[35;3H[49;161H   [34;3H[49;172H1[34;3H[?25h[?25l[49;161H~@k[34;3H[49;161H   [33;3H[49;172H0[33;3H[?25h[?25l[49;161H~@k[33;3H[49;161H   [32;3H[26;23H[106m{[m[32;3H[34m[106m}[m[49;171H59[32;3H[?25h[?25l[49;161H~@k[32;3H[49;161H   [31;3H[26;23H{[32;3H[34m}[m[49;172H8[31;3H[?25h[?25l[49;161H^[[31;3H[49;161H  [31;3H[49;161H^[[31;3H[49;161H  [31;3H[?25h[?25l[49;161H:[31;3H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ gdb bg[Kug-program
GNU gdb (Debian 8.2.1-2+b3) 8.2.1
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from bug-program...done.
(gdb) b main
Breakpoint 1 at 0x11e4: file bug-program.c, line 76.
(gdb) 
Note: breakpoint 1 also set at pc 0x11e4.
Breakpoint 2 at 0x11e4: file bug-program.c, line 76.
(gdb) 
Note: breakpoints 1 and 2 also set at pc 0x11e4.
Breakpoint 3 at 0x11e4: file bug-program.c, line 76.
(gdb) run
Starting program: /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program 

Breakpoint 1, main () at bug-program.c:76
76	int main() {
(gdb) list
71	}
72	
73	/** Print out all the words in the first verse of Carroll's Jabberwocky
74	 *  paired with their index in the verse.
75	 */
76	int main() {
77	  struct KeyValue *keyValues = make_key_values();
78	  print_kv(keyValues);
79	  /*for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
80	    printf("%s: %d\n", p->key, p->value);
(gdb) n
77	  struct KeyValue *keyValues = make_key_values();
(gdb) 
78	  print_kv(keyValues);
(gdb) p keyValues
$1 = (struct KeyValue *) 0x555555559260
(gdb) p keyValues*keyValues
$2 = {key = 0x555555559280 "twas", value = 0, succ = 0x0}
(gdb) next
twas: 0
82	  free_key_values(keyValues);
(gdb) 
83	  return 0;
(gdb) 
__libc_start_main (main=0x5555555551e4 <main>, argc=1, argv=0x7fffffffe1b8, init=<optimized out>, fini=<optimized out>, rtld_fini=<optimized out>, stack_end=0x7fffffffe1a8)
    at ../csu/libc-start.c:342
342	../csu/libc-start.c: No such file or directory.
(gdb) 
[Inferior 1 (process 2906265) exited normally]
(gdb) 
The program is not being run.
(gdb) 
The program is not being run.
(gdb) 
The program is not being run.
(gdb) 
The program is not being run.
(gdb) run
Starting program: /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program 

Breakpoint 1, main () at bug-program.c:76
76	int main() {
(gdb) next
77	  struct KeyValue *keyValues = make_key_values();
(gdb) l
72	
73	/** Print out all the words in the first verse of Carroll's Jabberwocky
74	 *  paired with their index in the verse.
75	 */
76	int main() {
77	  struct KeyValue *keyValues = make_key_values();
78	  print_kv(keyValues);
79	  /*for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
80	    printf("%s: %d\n", p->key, p->value);
81	  }*/
(gdb) n
78	  print_kv(keyValues);
(gdb) 
twas: 0
82	  free_key_values(keyValues);
(gdb) q
A debugging session is active.

	Inferior 1 [process 2906514] will be killed.

Quit anyway? (y or n) n
Not confirmed.
(gdb) run
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program 

Breakpoint 1, main () at bug-program.c:76
76	int main() {
(gdb) n
77	  struct KeyValue *keyValues = make_key_values();
(gdb) 
78	  print_kv(keyValues);
(gdb) i[Ksi
0x0000555555555225	78	  print_kv(keyValues);
(gdb) list
73	/** Print out all the words in the first verse of Carroll's Jabberwocky
74	 *  paired with their index in the verse.
75	 */
76	int main() {
77	  struct KeyValue *keyValues = make_key_values();
78	  print_kv(keyValues);
79	  /*for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
80	    printf("%s: %d\n", p->key, p->value);
81	  }*/
82	  free_key_values(keyValues);
(gdb) ni
twas: 0
82	  free_key_values(keyValues);
(gdb) q
A debugging session is active.

	Inferior 1 [process 2906615] will be killed.

Quit anyway? (y or n) n
Not confirmed.
(gdb) ur[K[Kry[Kun
The program being debugged has been started already.
Start it from the beginning? (y or n) y
Starting program: /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program 

Breakpoint 1, main () at bug-program.c:76
76	int main() {
(gdb) 
(gdb) n
77	  struct KeyValue *keyValues = make_key_values();
(gdb) 
78	  print_kv(keyValues);
(gdb) si
0x0000555555555225	78	  print_kv(keyValues);
(gdb) si
print_kv (kv=0x555555559260) at bug-program.c:68
68	{
(gdb) list
63	  }
64	  return p;
65	}
66	
67	static void print_kv(struct KeyValue * kv)
68	{
69	  if (kv->succ != NULL) print_kv(kv->succ);
70	  if (sizeof(kv->key) > 1) printf("%s: %d\n", kv->key, kv->value);
71	}
72	
(gdb) next
69	  if (kv->succ != NULL) print_kv(kv->succ);
(gdb) p kv
$3 = (struct KeyValue *) 0x555555559260
(gdb) p kv_[K->succ
$4 = (struct KeyValue *) 0x0
(gdb) next
70	  if (sizeof(kv->key) > 1) printf("%s: %d\n", kv->key, kv->value);
(gdb) pr[K kv_[K->key
$5 = 0x555555559280 "twas"
(gdb) p kv->key[K[K[Kvalue
$6 = 0
(gdb) c
Continuing.
twas: 0
[Inferior 1 (process 2906724) exited normally]
(gdb) q
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ [K]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ [K]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.c.old  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ cat bug-program.valgrind 
==2905831== Memcheck, a memory error detector
==2905831== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2905831== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==2905831== Command: ./bug-program
==2905831== 
==2905831== Invalid write of size 1
==2905831==    at 0x10920C: add_key_value (bug-program.c:30)
==2905831==    by 0x10920C: make_key_values (bug-program.c:62)
==2905831==    by 0x10920C: main (bug-program.c:77)
==2905831==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2905831==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2905831==    by 0x1091FB: add_key_value (bug-program.c:24)
==2905831==    by 0x1091FB: make_key_values (bug-program.c:62)
==2905831==    by 0x1091FB: main (bug-program.c:77)
==2905831== 
==2905831== Invalid read of size 1
==2905831==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2905831==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2905831==    by 0x48D6605: printf (printf.c:33)
==2905831==    by 0x1091BD: print_kv (bug-program.c:70)
==2905831==    by 0x109229: main (bug-program.c:78)
==2905831==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2905831==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2905831==    by 0x1091FB: add_key_value (bug-program.c:24)
==2905831==    by 0x1091FB: make_key_values (bug-program.c:62)
==2905831==    by 0x1091FB: main (bug-program.c:77)
==2905831== 
==2905831== 
==2905831== HEAP SUMMARY:
==2905831==     in use at exit: 0 bytes in 0 blocks
==2905831==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2905831== 
==2905831== All heap blocks were freed -- no leaks are possible
==2905831== 
==2905831== For counts of detected and suppressed errors, rerun with: -v
==2905831== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim g[Kbug-progra,.c[K[K[Km.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 84L, 2361C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[34m */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }[49;171H58,3[10C41%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[37;23H[106m{[m[43;3H[34m[106m}[m[48;3H[38;5;130mreturn[m p;[49;1H[K[49;171H59,3[10C44%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[36;23H{[42;3H[34m}[m[48;1H}[49;171H[K[49;171H60,3[10C47%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[49;171H[K[49;171H61,3[10C50%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;1H[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)[49;171H[K[49;171H62,3[10C52%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[41;58H[106m{

[m  [106m}[m[48;1H{[49;171H[K[49;171H63,3[10C55%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[40;58H{

  }[48;3H[38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);[49;171H[K[49;171H64,3[10C58%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;1H[1;48r[48;1H
[1;49r[31;23H[106m{[43;1H}[m[48;3H[38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[49;171H[K[49;171H65,1[10C61%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[30;23H{[42;1H}[48;1H}[49;171H[K[49;171H66,0-1[8C63%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;3H[1;48r[48;1H
[1;49r[49;171H[K[49;171H67,3[10C66%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;1H[1;48r[48;1H
[1;49r[43;1H[106m{


}[m

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m[49;171H[K[49;171H68,1[10C69%[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[42;1H{


}


[34m *  paired with their index in the verse.[m[49;171H[K[49;171H69,3[10C72%[43;3H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[34m */[m[49;171H[K[49;171H70,3[10C75%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;1H[1;48r[48;1H
[1;49r[40;1H[106m{


}[m[48;1H[32mint[m main() {[49;171H[K[49;171H71,1[10C77%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;1H[1;48r[48;1H
[1;49r[39;1H{


}[48;3H[32mstruct[m KeyValue *keyValues = make_key_values();[49;171H[K[49;171H72,0-1[8C80%[43;1H[?25h[?25l[49;161H~@k[43;1H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;3Hprint_kv(keyValues);[49;171H[K[49;171H73,3[10C83%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;3H[34m/*for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {[m[49;171H[K[49;171H74,3[10C86%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;1H[34m    printf([m[31m"%s: %d[m[35m\n[m[31m"[m[34m, p->key, p->value);[m[49;171H[K[49;171H75,3[10C88%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;1H[34m  }*/[m[49;171H[K[49;171H76,3[10C91%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;3Hfree_key_values(keyValues);[49;171H[K[49;171H77,3[10C94%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;3H[38;5;130mreturn[m [31m0[m;[49;171H[K[49;171H78,3[10C97%[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [43;3H[1;48r[48;1H
[1;49r[48;1H}[49;171H[K[49;171H79,3[10CBot[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [44;3H[49;171H80[44;3H[?25h[?25l[49;161H~@k[44;3H[49;161H   [45;3H[43;66H[34m[106m{[45;3H}[m[49;172H1[45;3H[?25h[?25l[49;161H~@k[45;3H[49;161H   [46;3H[43;66H[34m{

  }[m[49;172H2[46;3H[?25h[?25l[49;161H~@k[46;3H[49;161H   [47;3H[49;172H3[47;3H[?25h[?25l[49;161H~@k[47;3H[49;161H   [48;1H[40;12H[106m{[48;1H}[m[49;172H4,1[48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [48;1H[?25h[?25l[49;161H~@k[48;1H[49;161H   [47;3H[40;12H{[48;1H}[49;172H3,3[47;3H[?25h[?25l[49;161H~@k[47;3H[49;161H   [46;3H[49;172H2[46;3H[?25h[?25l[49;161H~@k[46;3H[49;161H   [45;3H[43;66H[34m[106m{[45;3H}[m[49;172H1[45;3H[?25h[?25l[49;161H~@k[45;3H[49;161H   [44;3H[43;66H[34m{

  }[m[49;172H0[44;3H[?25h[?25l[49;161H~@k[44;3H[49;161H   [43;3H[49;171H79[43;3H[?25h[?25l[49;161H~@k[43;3H[49;161H   [42;3H[49;172H8[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [41;3H[49;172H7[41;3H[?25h[?25l[49;161H~@k[41;3H[49;161H   [40;3H[49;172H6[40;3H[?25h[?25l[49;161H~@k[40;3H[49;161H   [39;3H[49;172H5[39;3H[?25h[?25l[49;161H~@k[39;3H[49;161H   [38;3H[49;172H4[38;3H[?25h[?25l[49;161H~@k[38;3H[49;161H   [37;3H[49;172H3[37;3H[?25h[?25l[49;161H~@k[37;3H[49;161H   [36;1H[49;172H2,0-1[36;1H[?25h[?25l[49;161H~@k[36;1H[49;161H   [35;1H[32;1H[106m{


}[m[49;172H1,1  [35;1H[?25h[?25l[49;161H~@k[35;1H[49;161H   [34;3H[32;1H{


}[49;172H0,3[34;3H[?25h[?25l[49;161H~@k[34;3H[49;161H   [33;3H[49;171H69[33;3H[?25h[?25l[49;161H~@k[33;3H[49;161H   [34;3H[49;171H70[34;3H[?25h[?25l[49;161H~@k[34;3H[49;161H   [35;1H[32;1H[106m{


}[m[49;172H1,1[35;1H[?25h[?25l[49;161H~@k[35;1H[49;161H   [36;1H[32;1H{


}[49;172H2,0-1[36;1H[?25h[?25l[49;161H~@k[36;1H[49;161H   [37;3H[49;172H3,3  [37;3H[?25h[?25l[49;161H~@k[37;3H[49;161H   [38;3H[49;172H4[38;3H[?25h[?25l[49;161H~@k[38;3H[49;161H   [39;3H[49;172H5[39;3H[?25h[?25l[49;161H~@k[39;3H[49;161H   [40;3H[49;172H6[40;3H[?25h[?25l[49;161H~@k[40;3H[49;161H   [41;3H[49;172H7[41;3H[?25h[?25l[49;161H~@k[41;3H[49;161H   [42;3H[49;172H8[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Hrint_kv(keyValues);[42;22H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Hint_kv(keyValues);[42;21H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Hnt_kv(keyValues);[42;20H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Ht_kv(keyValues);[42;19H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3H_kv(keyValues);[42;18H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Hkv(keyValues);[42;17H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Hv(keyValues);[42;16H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3H[106m([mkeyValues[106m)[m;[42;15H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3HkeyValues[97m[101m)[m;[42;14H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3HeyValues[97m[101m)[m;[42;13H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3HyValues[97m[101m)[m;[42;12H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3HValues[97m[101m)[m;[42;11H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Halues[97m[101m)[m;[42;10H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Hlues[97m[101m)[m;[42;9H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Hues[97m[101m)[m;[42;8H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Hes[97m[101m)[m;[42;7H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3Hs[97m[101m)[m;[42;6H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3H[97m[101m)[m;[42;5H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;3H;[42;4H[K[42;3H[?25h[?25l[49;161H~@k[42;3H[49;161H   [42;3H[49;161Hdl[42;3H[49;161H  [42;2H[42;3H[K[49;174H2[42;2H[?25h[?25l[49;161H~@k[42;2H[49;161H   [42;1H[49;174H1[42;1H[?25h[?25l[49;161H~@k[42;1H[49;161H   [41;49H[49;172H7,49[41;49H[?25h[?25l[49;161H~@k[41;49H[49;161H   [41;48H[106m()[m[49;175H8[41;48H[?25h[?25l[49;161Hi[41;48H[49;161H [41;48H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H77,48[9CBot[41;48H[?25h[?25l()[49;172H8,3 [42;3H[?25h[?25l[49;172H9,48[43;48H[?25h[?25l[49;175H7[43;47H[?25h[?25l[49;171H80,42[44;42H[?25h[?25l[49;172H1,6 [45;6H[?25h[?25l[45;5H[K[46;1H[34m  free_key_values(keyValues);
  return [1C;
}[m[49;174H5[45;5H[?25h[?25l[45;4H[K[43;66H[34m[106m{[45;3H}[m[49;174H4[45;4H[?25h[?25l[45;3H[K[43;66H[34m{[m[49;174H3[45;3H[?25h[?25l[34m  }[m[43;66H[34m[106m{[45;5H}[m[49;174H6[45;6H[?25h[?25l[43;66H[34m{[45;5H}[m[49;172H0[44;6H[?25h[?25l[49;174H5[44;5H[?25h[?25l[49;171H79[43;5H[?25h[?25l/[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[43;66H[K[44;1H    printf([1C[35m%s[2C%d[m[3C, p->key, p->value);
    }
  free_key_values(keyValues);
  [38;5;130mreturn[m [1C;
}[49;174H4[43;4H[?25h[?25l[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNUL[m[1C; p = p->succ) {[43;65H[K[49;174H3[43;3H[?25h[?25l[49;171H80[44;3H[?25h[?25l[49;172H1[45;3H[?25h[?25l }[45;5H[K[45;3H[?25h[?25l}[45;4H[K[43;64H[106m{

[m  [106m}[?25h[?25l[m[43;64H{

  }[49;172H0[44;3H[?25h[?25l[49;171H79[43;3H[?25h[?25l[49;171H80[44;3H[?25h[?25l[43;64H[106m{

[m  [106m}[m[49;172H1[45;3H[?25h[?25l[43;64H{

  }[49;172H2[46;3H[?25h[?25l[1;48r[48;1H
[1;49r[46;48r[46;1H[L[1;49r[45;3H[K[46;3Hfree_key_values(keyValues);[49;171H[K[49;171H83,3[10CBot[46;3H[?25h[?25l[49;172H2[45;3H[?25h[?25l[42;64H[106m{

[m  [106m}[m[49;172H1[44;3H[?25h[?25l[42;64H{

  }[49;172H0[43;3H[?25h[?25l[49;171H79[42;3H[?25h[?25l[49;171H80[43;3H[?25h[?25l[49;174H4[43;4H[?25h[?25l[49;174H5[43;5H[?25h[?25l[49;174H6[43;6H[?25h[?25l[49;174H7[43;7H[?25h[?25l[49;174H8[43;8H[?25h[?25l[49;174H9[43;9H[?25h[?25l[49;174H10[43;10H[?25h[?25lf[106m([28C)[m[49;175H1[43;11H[?25h[?25l[49;175H2[43;12H[?25h[?25l([28C)[49;175H3[43;13H[?25h[?25l[49;175H4[43;14H[?25h[?25l[49;175H5[43;15H[?25h[?25l[49;175H6[43;16H[?25h[?25l[49;175H7[43;17H[?25h[?25l[49;175H8[43;18H[?25h[?25l[49;175H9[43;19H[?25h[?25l[49;174H20[43;20H[?25h[?25l[49;175H1[43;21H[?25h[?25l[49;175H2[43;22H[?25h[?25l[49;175H3[43;23H[?25h[?25l[49;175H4[43;24H[?25h[?25l[49;175H5[43;25H[?25h[?25l[49;175H6[43;26H[?25h[?25l[49;175H7[43;27H[?25h[?25l[49;175H8[43;28H[?25h[?25l[49;175H9[43;29H[?25h[?25l[49;174H30[43;30H[?25h[?25l[49;175H1[43;31H[?25h[?25l[49;175H2[43;32H[?25h[?25l[49;175H3[43;33H[?25h[?25l[49;175H4[43;34H[?25h[?25l[49;175H5[43;35H[?25h[?25l[49;175H6[43;36H[?25h[?25l[49;175H7[43;37H[?25h[?25l[49;175H8[43;38H[?25h[?25l[49;175H9[43;39H[?25h[?25l[43;11H[106m([28C)[m[49;174H40[43;40H[?25h[?25l[106m:[m);:[106m)[m[49;175H1[43;41H[?25h[49;1H[K[43;40H[?25l[49;161H^[[43;40H[49;161H  [43;41H[43;11H([29C)[49;171H80,40[9CBot[43;40H[?25h[?25l[49;161H:[43;40H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 85L, 2341C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kmain[m[K’:
[01m[Kbug-program.c:80:40:[m[K [01;31m[Kerror: [m[Kexpected ‘[01m[K)[m[K’ before ‘[01m[K:[m[K’ token
     printf("%s: %d\n", p->key, p->value[01;31m[K:[m[K);
                                        [01;31m[K^[m[K
                                        [32m[K)[m[K
At top level:
[01m[Kbug-program.c:67:13:[m[K [01;35m[Kwarning: [m[K‘[01m[Kprint_kv[m[K’ defined but not used [[01;35m[K-Wunused-function[m[K]
 static void [01;35m[Kprint_kv[m[K(struct KeyValue * kv)
             [01;35m[K^~~~~~~~[m[K
make: *** [<builtin>: bug-program] Error 1
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 85L, 2341C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m
[32mint[m main() {
  [32mstruct[m KeyValue *keyValues = make_key_values();

  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value:);
  }

  free_key_values(keyValues);
  [38;5;130mreturn[m [31m0[m;
}[49;171H80,40[9CBot[43;40H[?25h[?25l[49;161H~@k[43;40H[49;161H   [43;40H[49;161Hdl[43;40H[49;161H  [43;40H[43;11H[106m([28C)[m;[43;42H[K[43;40H[?25h[?25l[49;161H:[43;40H[49;1H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 85L, 2340C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:67:13:[m[K [01;35m[Kwarning: [m[K‘[01m[Kprint_kv[m[K’ defined but not used [[01;35m[K-Wunused-function[m[K]
 static void [01;35m[Kprint_kv[m[K(struct KeyValue * kv)
             [01;35m[K^~~~~~~~[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.cmake[Kvim bug-program.ccat bug-program.valgrind ls[Kgdb bug-programvi bug-program.cvalgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim bug-program.cmake[Kvim bug-program.c[Kvalgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 35L, 1768C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2908389== Memcheck, a memory error detector
==2908389== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2908389== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==2908389== Command: ./bug-program
==2908389==
==2908389== Invalid write of size 1
==2908389==    at 0x1091E4: add_key_value (bug-program.c:30)
==2908389==    by 0x1091E4: make_key_values (bug-program.c:62)
==2908389==    by 0x1091E4: main (bug-program.c:77)
==2908389==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2908389==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2908389==    by 0x1091D3: add_key_value (bug-program.c:24)
==2908389==    by 0x1091D3: make_key_values (bug-program.c:62)
==2908389==    by 0x1091D3: main (bug-program.c:77)
==2908389==
==2908389== Invalid read of size 1
==2908389==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2908389==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2908389==    by 0x48D6605: printf (printf.c:33)
==2908389==    by 0x10921A: main (bug-program.c:80)
==2908389==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2908389==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2908389==    by 0x1091D3: add_key_value (bug-program.c:24)
==2908389==    by 0x1091D3: make_key_values (bug-program.c:62)
==2908389==    by 0x1091D3: main (bug-program.c:77)
==2908389==
==2908389==
==2908389== HEAP SUMMARY:
==2908389==     in use at exit: 0 bytes in 0 blocks
==2908389==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2908389==
==2908389== All heap blocks were freed -- no leaks are possible
==2908389==
==2908389== For counts of detected and suppressed errors, rerun with: -v
==2908389== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H1,1[11CAll[1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [2;1H[49;171H2[2;1H[?25h[?25l[49;161H~@k[2;1H[49;161H   [3;1H[49;171H3[3;1H[?25h[?25l[49;161H~@k[3;1H[49;161H   [4;1H[49;171H4[4;1H[?25h[?25l[49;161H~@k[4;1H[49;161H   [5;1H[49;171H5[5;1H[?25h[?25l[49;161H~@k[5;1H[49;161H   [6;1H[49;171H6[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [7;1H[49;171H7[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [8;1H[49;171H8[8;1H[?25h[?25l[49;161H~@k[8;1H[49;161H   [9;1H[49;171H9[9;1H[?25h[?25l[49;161H~@k[9;1H[49;161H   [10;1H[49;171H10,1[10;1H[?25h[?25l[49;161H~@k[10;1H[49;161H   [11;1H[49;172H1[11;1H[?25h[?25l[49;161H~@k[11;1H[49;161H   [12;1H[49;172H2[12;1H[?25h[?25l[49;161H~@k[12;1H[49;161H   [13;1H[49;172H3[13;1H[?25h[?25l[49;161H~@k[13;1H[49;161H   [14;1H[49;172H4[14;1H[?25h[?25l[49;161H~@k[14;1H[49;161H   [15;1H[49;172H5[15;1H[?25h[?25l[49;161H~@k[15;1H[49;161H   [16;1H[49;172H6[16;1H[?25h[?25l[49;161H~@k[16;1H[49;161H   [17;1H[49;172H7[17;1H[?25h[?25l[49;161H~@k[17;1H[49;161H   [18;1H[49;172H8[18;1H[?25h[?25l[49;161H~@k[18;1H[49;161H   [19;1H[49;172H9[19;1H[?25h[?25l[49;161H~@k[19;1H[49;161H   [20;1H[49;171H20[20;1H[?25h[?25l[49;161H~@k[20;1H[49;161H   [21;1H[49;172H1[21;1H[?25h[?25l[49;161H~@k[21;1H[49;161H   [22;1H[49;172H2[22;1H[?25h[?25l[49;161H~@k[22;1H[49;161H   [23;1H[49;172H3[23;1H[?25h[?25l[49;161H~@k[23;1H[49;161H   [24;1H[49;172H4[24;1H[?25h[?25l[49;161H~@k[24;1H[49;161H   [25;1H[49;172H5[25;1H[?25h[?25l[49;161H~@k[25;1H[49;161H   [26;1H[49;172H6[26;1H[?25h[?25l[49;161H~@k[26;1H[49;161H   [27;1H[49;172H7[27;1H[?25h[?25l[49;161H~@k[27;1H[49;161H   [28;1H[49;172H8[28;1H[?25h[?25l[49;161H~@k[28;1H[49;161H   [29;1H[49;172H9[29;1H[?25h[?25l[49;161H~@k[29;1H[49;161H   [30;1H[49;171H30[30;1H[?25h[?25l[49;161H~@k[30;1H[49;161H   [31;1H[49;172H1[31;1H[?25h[?25l[49;161H~@k[31;1H[49;161H   [32;1H[49;172H2[32;1H[?25h[?25l[49;161H~@k[32;1H[49;161H   [33;1H[49;172H3[33;1H[?25h[?25l[49;161H~@k[33;1H[49;161H   [34;1H[49;172H4[34;1H[?25h[?25l[49;161H~@k[34;1H[49;161H   [33;1H[49;172H3[33;1H[?25h[?25l[49;161H~@k[33;1H[49;161H   [32;1H[49;172H2[32;1H[?25h[?25l[49;161H~@k[32;1H[49;161H   [31;1H[49;172H1[31;1H[?25h[?25l[49;161H~@k[31;1H[49;161H   [30;1H[49;172H0[30;1H[?25h[?25l[49;161H~@k[30;1H[49;161H   [29;1H[49;171H29[29;1H[?25h[?25l[49;161H~@k[29;1H[49;161H   [28;1H[49;172H8[28;1H[?25h[?25l[49;161H~@k[28;1H[49;161H   [27;1H[49;172H7[27;1H[?25h[?25l[49;161H~@k[27;1H[49;161H   [26;1H[49;172H6[26;1H[?25h[?25l[49;161H~@k[26;1H[49;161H   [25;1H[49;172H5[25;1H[?25h[?25l[49;161H~@k[25;1H[49;161H   [24;1H[49;172H4[24;1H[?25h[?25l[49;161H~@k[24;1H[49;161H   [23;1H[49;172H3[23;1H[?25h[?25l[49;161H~@k[23;1H[49;161H   [22;1H[49;172H2[22;1H[?25h[?25l[49;161H~@k[22;1H[49;161H   [21;1H[49;172H1[21;1H[?25h[?25l[49;161H~@k[21;1H[49;161H   [20;1H[49;172H0[20;1H[?25h[?25l[49;161H~@k[20;1H[49;161H   [19;1H[49;171H19[19;1H[?25h[?25l[49;161H~@k[19;1H[49;161H   [18;1H[49;172H8[18;1H[?25h[?25l[49;161H~@k[18;1H[49;161H   [17;1H[49;172H7[17;1H[?25h[?25l[49;161H~@k[17;1H[49;161H   [16;1H[49;172H6[16;1H[?25h[?25l[49;161H~@k[16;1H[49;161H   [15;1H[49;172H5[15;1H[?25h[?25l[49;161H~@k[15;1H[49;161H   [14;1H[49;172H4[14;1H[?25h[?25l[49;161H~@k[14;1H[49;161H   [13;1H[49;172H3[13;1H[?25h[?25l[49;161H~@k[13;1H[49;161H   [12;1H[49;172H2[12;1H[?25h[?25l[49;161H~@k[12;1H[49;161H   [11;1H[49;172H1[11;1H[?25h[?25l[49;161H~@k[11;1H[49;161H   [10;1H[49;172H0[10;1H[?25h[?25l[49;161H~@k[10;1H[49;161H   [9;1H[49;171H9,1 [9;1H[?25h[?25l[49;161H~@k[9;1H[49;161H   [8;1H[49;171H8[8;1H[?25h[?25l[49;161H~@k[8;1H[49;161H   [7;1H[49;171H7[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [6;1H[49;171H6[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [5;1H[49;171H5[5;1H[?25h[?25l[49;161H~@k[5;1H[49;161H   [4;1H[49;171H4[4;1H[?25h[?25l[49;161H~@k[4;1H[49;161H   [3;1H[49;171H3[3;1H[?25h[?25l[49;161H~@k[3;1H[49;161H   [2;1H[49;171H2[2;1H[?25h[?25l[49;161H~@k[2;1H[49;161H   [1;1H[49;171H1[1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [2;1H[49;171H2[2;1H[?25h[?25l[49;161H~@k[2;1H[49;161H   [3;1H[49;171H3[3;1H[?25h[?25l[49;161H~@k[3;1H[49;161H   [4;1H[49;171H4[4;1H[?25h[?25l[49;161H~@k[4;1H[49;161H   [5;1H[49;171H5[5;1H[?25h[?25l[49;161H~@k[5;1H[49;161H   [6;1H[49;171H6[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [7;1H[49;171H7[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [8;1H[49;171H8[8;1H[?25h[?25l[49;161H~@k[8;1H[49;161H   [9;1H[49;171H9[9;1H[?25h[?25l[49;161H~@k[9;1H[49;161H   [10;1H[49;171H10,1[10;1H[?25h[?25l[49;161H~@k[10;1H[49;161H   [11;1H[49;172H1[11;1H[?25h[?25l[49;161H~@k[11;1H[49;161H   [12;1H[49;172H2[12;1H[?25h[?25l[49;161H~@k[12;1H[49;161H   [13;1H[49;172H3[13;1H[?25h[?25l[49;161H~@k[13;1H[49;161H   [14;1H[49;172H4[14;1H[?25h[?25l[49;161H~@k[14;1H[49;161H   [15;1H[49;172H5[15;1H[?25h[?25l[49;161H~@k[15;1H[49;161H   [16;1H[49;172H6[16;1H[?25h[?25l[49;161H~@k[16;1H[49;161H   [17;1H[49;172H7[17;1H[?25h[?25l[49;161H~@k[17;1H[49;161H   [18;1H[49;172H8[18;1H[?25h[?25l[49;161H~@k[18;1H[49;161H   [19;1H[49;172H9[19;1H[?25h[?25l[49;161H^M[19;1H[49;161H  [20;1H[49;171H20[20;1H[?25h[?25l[49;161H:[20;1H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim bug-program.valgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim bug-program.cmake[Kvim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 85L, 2340C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,
    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,
    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,
  };*/[m
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m
[32mint[m main() {
  [32mstruct[m KeyValue *keyValues = make_key_values();

  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    printf[106m([m[31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value[106m)[m;
  }

  free_key_values(keyValues);
  [38;5;130mreturn[m [31m0[m;
}[49;171H80,40[9CBot[43;40H[?25h[?25l[49;161H:[43;40H[49;1H[K[49;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25hr[?25l[?25h[?25l [?25h[?25l[?25h[?25l[49;5H[K[49;5H[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[43;44H[1;1H[38;5;130m 38 [m}
[38;5;130m 39 
 40 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 41 [m[32mstatic[m [32mvoid[m
[38;5;130m 42 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 43 [m{
[38;5;130m 44 [m  free(keyValues->key);
[38;5;130m 45 [m  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
[38;5;130m 46 [m  free(keyValues);
[38;5;130m 47 [m}
[38;5;130m 48 
 49 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m
[38;5;130m 50 [m[34m *  Jabberwocky with value being the index of the word.[m
[38;5;130m 51 [m[34m */[m
[38;5;130m 52 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 53 [mmake_key_values([32mvoid[m) {
[38;5;130m 54 [m  [32mconst[m [32mchar[m *keys[] = {
[38;5;130m 55 [m    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[1C[31mand"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m
[38;5;130m 56 [m[34m    [m[1C[31mdid"[m[34m, [m[31m"gyre"[m[34m, [m[1C[31mand"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"wabe"[m[34m,[m
[38;5;130m 57 [m[34m    [m[1C[31mall"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"borogoves"[m[34m,[m
[38;5;130m 58 [m[34m    [m[1C[31mand"[m[34m, [m[1C[31mthe"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m
[38;5;130m 59 [m[34m  };*/[m
[38;5;130m 60 [m  [32mstruct[m KeyValue *p = [31mNULL[m;
[38;5;130m 61 [m  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
[38;5;130m 62 [m    p = add_key_value(p, keys[i], i);
[38;5;130m 63 [m  }
[38;5;130m 64 [m  [1C[38;5;130meturn[m p;
[38;5;130m 65 [m}
[38;5;130m 66 
 67 [m[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
[38;5;130m 68 [m{
[38;5;130m 69 [m  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
[38;5;130m 70 [m  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[1C[35ms[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);
[38;5;130m 71 [m}
[38;5;130m 72 
 73 [m[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m
[38;5;130m 74 [m[34m *  paired with their index in the verse.[m
[38;5;130m 75 [m[34m */[m
[38;5;130m 76 [m[32mint[m main() {
[38;5;130m 77 [m  [32mstruct[m KeyValue *keyValues = make_key_values();
[38;5;130m 78 
 79 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
[38;5;130m 80 [m    printf[106m([m[31m"[m[1C[35ms[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value[106m)[m;
[38;5;130m 81 [m  }
[38;5;130m 82 
 83 [m  free_key_values(keyValues);
[38;5;130m 84 [m  [1C[38;5;130meturn[m [31m0[m;
[38;5;130m 85 [m}[49;171H80,40[9CBot[43;44H[?25h[?25l[49;161Hi[43;44H[49;161H [43;44H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H80,40[9CBot[43;44H[?25h[?25l[42;68H[106m{[m[43;15H([28C)[44;7H[106m}[m[49;172H1,4 [44;8H[?25h[?25l[42;68H{[44;7H}[49;172H2,3[45;7H[?25h[?25l[49;172H3,30[46;34H[?25h[?25l[49;172H4,12[47;16H[?25h[?25l[39;16H[106m{[48;5H}[m[49;172H5,2 [48;6H[?25h[?25l[39;16H{[48;5H}[49;172H4,12[47;16H[?25h[?25l[49;172H3,30[46;34H[?25h[?25l[49;172H2,3 [45;7H[?25h[?25l[42;68H[106m{[44;7H}[m[49;172H1,4[44;8H[?25h[?25l[42;68H{[43;15H[106m([28C)[m[44;7H}[49;172H0,40[43;44H[?25h[?25l[43;15H([28C)[49;171H79[42;44H[?25h[?25l[49;172H8,3 [41;7H[?25h[?25l[49;172H7,40[40;44H[?25h[?25l[39;16H[106m{[48;5H}[m[49;172H6,13[39;17H[?25h[?25l{[48;5H}[49;172H5,4 [38;8H[?25h[?25l[49;172H4,40[37;44H[?25h[?25l[49;172H3[36;44H[?25h[?25l[49;172H2,1 [35;5H[?25h[?25l[31;5H[106m{[34;5H}[m[49;172H1,2[34;6H[?25h[?25l[31;5H{[34;5H}[49;172H0,40[33;44H[?25h[?25l[49;171H69[32;44H[?25h[?25l[31;5H[106m{[34;5H}[m[49;172H8,2 [31;6H[?25h[?25l{[34;5H}[49;172H7,40[30;44H[?25h[?25l[49;172H6,1 [29;5H[?25h[?25l[16;27H[106m{[28;5H}[m[49;172H5,2[28;6H[?25h[?25l[16;27H{[28;5H}[49;172H4,12[27;16H[?25h[?25l[24;62H[106m{[26;7H}[m[49;172H3,4 [26;8H[?25h[?25l[24;62H{[26;7H}[49;172H2,38[25;42H[?25h[?25l[49;172H1,40[24;44H[?25h[?25l[49;172H0,29[23;33H[?25h[?25l[49;171H59,7 [22;11H[?25h[?25l[49;172H8,40[21;44H[?25h[?25l[49;172H7[20;44H[?25h[?25l[49;172H6[19;44H[?25h[?25l[49;172H5[18;44H[?25h[?25l[17;28H[106m{[18;16H}[m[49;172H4,25[17;29H[?25h[?25l[16;27H[106m{[m[17;28H{[18;16H}[28;5H[106m}[m[49;172H3,24[16;28H[?25h[?25l{[28;5H}[49;172H2,25[15;29H[?25h[?25l[49;172H1,4 [14;8H[?25h[?25l[49;172H0,40[13;44H[?25h[?25l[49;171H49[12;44H[?25h[?25l[49;172H8,1 [11;5H[?25h[?25l[6;5H[106m{[10;5H}[m[49;172H7,2[10;6H[?25h[?25l[6;5H{[10;5H}[49;172H6,19[9;23H[?25h[?25l[49;172H5,40[8;44H[?25h[?25l[49;172H4,24[7;28H[?25h[?25l[6;5H[106m{[10;5H}[m[49;172H3,2 [6;6H[?25h[?25l{[10;5H}[49;172H4,24[7;28H[?25h[?25l[49;172H5,40[8;44H[?25h[?25l[49;172H6,19[9;23H[?25h[?25l[6;5H[106m{[10;5H}[m[49;172H7,2 [10;6H[?25h[?25l[6;5H{[10;5H}[49;172H8,1[11;5H[?25h[?25l[49;172H9,40[12;44H[?25h[?25l[49;171H50[13;44H[?25h[?25l[49;172H1,4 [14;8H[?25h[?25l[49;172H2,25[15;29H[?25h[?25l[16;27H[106m{[28;5H}[m[49;172H3,24[16;28H[?25h[?25l{[17;28H[106m{[18;16H}[m[28;5H}[49;172H4,25[17;29H[?25h[?25l{[18;16H}[49;172H5,40[18;44H[?25h[?25l[49;172H6[19;44H[?25h[?25l[49;172H7[20;44H[?25h[?25l[49;172H8[21;44H[?25h[?25l[49;172H9,7 [22;11H[?25h[?25l[49;171H60,29[23;33H[?25h[?25l[49;172H1,40[24;44H[?25h[?25l[49;172H2,38[25;42H[?25h[?25l[24;62H[106m{[26;7H}[m[49;172H3,4 [26;8H[?25h[?25l[24;62H{[26;7H}[49;172H4,12[27;16H[?25h[?25l[16;27H[106m{[28;5H}[m[49;172H5,2 [28;6H[?25h[?25l[16;27H{[28;5H}[49;172H6,1[29;5H[?25h[?25l[49;172H7,40[30;44H[?25h[?25l[31;5H[106m{[34;5H}[m[49;172H8,2 [31;6H[?25h[?25l{[34;5H}[49;172H9,40[32;44H[?25h[?25l[49;171H70[33;44H[?25h[?25l[31;5H[106m{[34;5H}[m[49;172H1,2 [34;6H[?25h[?25l[31;5H{[34;5H}[49;172H0,40[33;44H[?25h[?25l[49;171H69[32;44H[?25h[?25l[31;5H[106m{[34;5H}[m[49;172H8,2 [31;6H[?25h[?25l{[34;5H}[49;172H7,40[30;44H[?25h[?25l[49;172H6,1 [29;5H[?25h[?25l[16;27H[106m{[28;5H}[m[49;172H5,2[28;6H[?25h[?25l[16;27H{[28;5H}[49;172H4,12[27;16H[?25h[?25l[24;62H[106m{[26;7H}[m[49;172H3,4 [26;8H[?25h[?25l[24;62H{[26;7H}[49;172H2,38[25;42H[?25h[?25l[49;172H1,40[24;44H[?25h[?25l[49;172H0,29[23;33H[?25h[?25l[49;171H59,7 [22;11H[?25h[?25l[49;172H8,40[21;44H[?25h[?25l[49;172H7[20;44H[?25h[?25l[49;172H6[19;44H[?25h[?25l[49;172H5[18;44H[?25h[?25l[17;28H[106m{[18;16H}[m[49;172H4,25[17;29H[?25h[?25l[16;27H[106m{[m[17;28H{[18;16H}[28;5H[106m}[m[49;172H3,24[16;28H[?25h[?25l{[28;5H}[49;172H2,25[15;29H[?25h[?25l[49;172H1,4 [14;8H[?25h[?25l[49;172H0,40[13;44H[?25h[?25l[49;171H49[12;44H[?25h[?25l[49;172H8,1 [11;5H[?25h[?25l[6;5H[106m{[10;5H}[m[49;172H7,2[10;6H[?25h[?25l[6;5H{[10;5H}[49;172H6,19[9;23H[?25h[?25l[49;172H5,40[8;44H[?25h[?25l[49;172H4,24[7;28H[?25h[?25l[6;5H[106m{[10;5H}[m[49;172H3,2 [6;6H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 37 [m  [38;5;130mreturn[m kv;[49;171H[K[49;171H42,40[9C97%[7;5H{[11;5H}[6;44H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 36 [m[49;171H[K[49;171H41,12[9C94%[6;16H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 35 [m  kv->succ = keyValues;[49;171H[K[49;171H40,40[9C91%[6;44H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 34 [m  kv->value = v;[49;171H[K[49;171H39,1[10C89%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 33 [m  kv->key = s;[49;171H[K[49;171H38,2[10C86%[6;6H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 32 [m  [34m//initialize fields of *kv.[m[49;171H[K[49;171H37,13[9C83%[6;17H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 31 [m[49;171H[K[49;171H36,1[10C81%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 30 [m  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m[49;171H[K[49;171H35,24[9C78%[6;28H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 29 [m  }[49;171H[K[49;171H34,18[9C75%[6;22H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 28 [m    exit([31m1[m);[49;171H[K[49;171H33,16[9C72%[6;20H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));[49;171H[K[49;171H32,30[9C70%[6;34H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m[49;171H[K[49;171H31,1[10C67%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 25 [m[49;171H[K[49;171H30,40[9C64%[6;44H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));[49;171H[K[49;171H29,4[10C62%[3;36H[106m{[6;7H}[?25h[?25l[1;48r[m[1;1H[L[1;49r[1;1H[38;5;130m 23 [m  [34m//allocate storage for string pointed to by k[m[49;171H[K[49;171H28,13[9C59%[4;36H{[7;7H}[6;17H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 22 [m[49;171H[K[49;171H27,40[9C56%[6;44H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));[49;171H[K[49;171H26,40[9C54%[6;44H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m[49;171H[K[49;171H25,1[10C51%[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 19 [m{[49;171H[K[49;171H24,31[9C48%[6;35H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)[49;171H[K[49;171H23,40[9C45%[6;44H[?25h[?25l[49;172H4,31[7;35H[?25h[?25l[49;172H5,1 [8;5H[?25h[?25l[49;172H6,40[9;44H[?25h[?25l[49;172H7[10;44H[?25h[?25l[49;172H8,13[11;17H[?25h[?25l[9;36H[106m{[12;7H}[m[49;172H9,4 [12;8H[?25h[?25l[9;36H{[12;7H}[49;171H30,40[13;44H[?25h[?25l[49;174H39[13;43H[?25h[?25l[49;175H8[13;42H[?25h[?25l[49;175H7[13;41H[?25h[?25l[49;175H6[13;40H[?25h[?25l[49;175H5[13;39H[?25h[?25l[49;175H4[13;38H[?25h[?25l[49;175H3[13;37H[?25h[?25l[49;175H2[13;36H[?25h[?25l[49;175H1[13;35H[?25h[?25l[49;175H0[13;34H[?25h[?25l[49;174H29[13;33H[?25h[?25l[49;175H8[13;32H[?25h[?25l[49;175H7[13;31H[?25h[?25l[49;175H6[13;30H[?25h[?25l[49;175H5[13;29H[?25h[?25l[49;175H4[13;28H[?25h[?25l[49;175H3[13;27H[?25h[?25l[49;175H2[13;26H[?25h[?25l[49;175H1[13;25H[?25h[?25l[49;175H0[13;24H[?25h[?25l[49;174H19[13;23H[?25h[?25l[49;175H8[13;22H[?25h[?25l[49;175H7[13;21H[?25h[?25l[49;175H6[13;20H[?25h[?25l[13;13H[106m([ms, k[106m)[m[49;175H5[13;19H[?25h[?25l[49;175H4[13;18H[?25h[?25l(s, k)[49;175H3[13;17H[?25h[?25l[49;175H2[13;16H[?25h[?25l[49;175H1[13;15H[?25h[?25l[106m([ms, k[106m)[m[49;175H0[13;14H[?25h[?25l[49;174H9 [13;13H[?25h[?25l(s, k)[49;174H8[13;12H[?25h[?25l[49;174H7[13;11H[?25h[?25l[49;174H6[13;10H[?25h[?25l[49;174H5[13;9H[?25h[?25l[49;174H4[13;8H[?25h[?25l[49;174H3[13;7H[?25h[?25l[49;174H4[13;8H[?25h[?25l[49;174H5[13;9H[?25h[?25l[49;174H6[13;10H[?25h[?25l[49;174H7[13;11H[?25h[?25l[49;174H8[13;12H[?25h[?25ly[106m([ms, k[106m)[m[49;174H9[13;13H[?25h[?25l[49;174H10[13;14H[?25h[?25l(s, k)[49;175H1[13;15H[?25h[?25l[49;175H2[13;16H[?25h[?25l[49;175H3[13;17H[?25h[?25l[106m([ms, k[106m)[m[49;175H4[13;18H[?25h[?25l[49;175H5[13;19H[?25h[?25l(s, k)[49;175H6[13;20H[?25h[?25l[49;175H7[13;21H[?25h[?25l[49;175H8[13;22H[?25h[?25l[49;175H9[13;23H[?25h[?25l[49;174H20[13;24H[?25h[?25l[49;175H1[13;25H[?25h[?25l[49;175H2[13;26H[?25h[?25l[49;175H3[13;27H[?25h[?25l[49;175H4[13;28H[?25h[?25l[49;175H5[13;29H[?25h[?25l[49;175H6[13;30H[?25h[?25l[49;175H7[13;31H[?25h[?25l[49;175H8[13;32H[?25h[?25l[49;175H9[13;33H[?25h[?25l[49;174H30[13;34H[?25h[?25l[49;175H1[13;35H[?25h[?25l[49;175H2[13;36H[?25h[?25l[49;175H3[13;37H[?25h[?25l[49;175H4[13;38H[?25h[?25l[49;175H5[13;39H[?25h[?25l[49;175H6[13;40H[?25h[?25l[49;175H7[13;41H[?25h[?25l[49;175H8[13;42H[?25h[?25l[49;175H9[13;43H[?25h[?25l[49;174H40[13;44H[?25h[?25l[49;175H1[13;45H[?25h[?25l[49;175H2[13;46H[?25h[?25l[49;175H3[13;47H[?25h[?25l[49;175H4[13;48H[?25h[?25l[49;175H5[13;49H[?25h[?25l[49;175H6[13;50H[?25h[?25l[49;175H7[13;51H[?25h[?25l[49;175H8[13;52H[?25h[?25l[49;175H9[13;53H[?25h[?25l[49;174H50[13;54H[?25h[?25l[49;175H1[13;55H[?25h[?25l[49;175H2[13;56H[?25h[?25l[49;175H3[13;57H[?25h[?25l[49;175H4[13;58H[?25h[?25l[49;175H5[13;59H[?25h[?25l[49;175H6[13;60H[?25h[?25l[49;175H7[13;61H[?25h[?25l[49;175H8[13;62H[?25h[?25l[49;175H9[13;63H[?25h[?25l[49;174H60[13;64H[?25h[?25l[49;175H1[13;65H[?25h[?25l[49;175H2[13;66H[?25h[?25l[49;175H3[13;67H[?25h[?25l[49;175H4[13;68H[?25h[?25l[49;175H5[13;69H[?25h[?25l[49;175H6[13;70H[?25h[?25l[49;175H7[13;71H[?25h[?25l[49;175H8[13;72H[?25h[?25l[49;175H9[13;73H[?25h[?25l[49;174H70[13;74H[?25h[?25l[49;175H1[13;75H[?25h[?25l[49;175H2[13;76H[?25h[?25l[49;175H3[13;77H[?25h[?25l[49;175H4[13;78H[?25h[?25l[49;175H5[13;79H[?25h[?25l[49;175H6[13;80H[?25h[?25l[49;175H7[13;81H[?25h[?25l[49;175H6[13;80H[?25h[?25l[49;175H5[13;79H[?25h[?25l[49;175H4[13;78H[?25h[?25l[49;175H3[13;77H[?25h[?25l[49;175H2[13;76H[?25h[?25l[49;175H1[13;75H[?25h[?25l[49;175H0[13;74H[?25h[?25l[49;174H69[13;73H[?25h[?25l[49;175H8[13;72H[?25h[?25l[49;175H7[13;71H[?25h[?25l[49;175H6[13;70H[?25h[?25l[49;175H5[13;69H[?25h[?25l[49;175H4[13;68H[?25h[?25l[49;175H3[13;67H[?25h[?25l[49;175H2[13;66H[?25h[?25l[49;175H1[13;65H[?25h[?25l[49;175H0[13;64H[?25h[?25l[49;174H59[13;63H[?25h[?25l[49;175H8[13;62H[?25h[?25l[49;175H7[13;61H[?25h[?25l[49;175H6[13;60H[?25h[?25l[49;175H5[13;59H[?25h[?25l[49;175H4[13;58H[?25h[?25l[49;175H3[13;57H[?25h[?25l[49;175H2[13;56H[?25h[?25l[49;175H1[13;55H[?25h[?25l[49;175H0[13;54H[?25h[?25l[49;174H49[13;53H[?25h[?25l[49;175H8[13;52H[?25h[?25l[49;175H7[13;51H[?25h[?25l[49;175H6[13;50H[?25h[?25l[49;175H5[13;49H[?25h[?25l[49;175H4[13;48H[?25h[?25l[49;175H3[13;47H[?25h[?25l[49;175H2[13;46H[?25h[?25l[49;175H1[13;45H[?25h[?25l[49;175H0[13;44H[?25h[?25l[49;174H39[13;43H[?25h[?25l[49;175H8[13;42H[?25h[?25l[49;175H7[13;41H[?25h[?25l[49;175H6[13;40H[?25h[?25l[49;175H5[13;39H[?25h[?25l[49;175H4[13;38H[?25h[?25l[49;175H3[13;37H[?25h[?25l[49;175H2[13;36H[?25h[?25l[49;175H1[13;35H[?25h[?25l[49;175H0[13;34H[?25h[?25l[49;174H29[13;33H[?25h[?25l[49;175H8[13;32H[?25h[?25l[49;175H7[13;31H[?25h[?25l[49;175H6[13;30H[?25h[?25l[49;175H5[13;29H[?25h[?25l[49;175H4[13;28H[?25h[?25l[49;175H3[13;27H[?25h[?25l[49;175H2[13;26H[?25h[?25l[49;175H1[13;25H[?25h[?25l[49;175H0[13;24H[?25h[?25l[49;174H19[13;23H[?25h[?25l[49;175H8[13;22H[?25h[?25l[49;175H7[13;21H[?25h[?25l[49;175H6[13;20H[?25h[?25l[13;13H[106m([ms, k[106m)[m[49;175H5[13;19H[?25h[?25l[49;175H4[13;18H[?25h[?25l(s, k)[49;175H3[13;17H[?25h[?25l[49;175H2[13;16H[?25h[?25l[49;175H1[13;15H[?25h[?25l[49;174H4 [13;8H[?25h[?25l[49;174H3[13;7H[?25h[?25l[49;174H2[13;6H[?25h[?25l[49;174H3[13;7H[?25h[?25l[13;7H[K[14;7Hstrcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m[15;7H[K[16;7H[34m//initialize fields of *kv.[m[17;11Hkey = s; [17;20H[K[18;11Hvalue = v; [18;22H[K[19;7Hkv->succ = keyValues;[20;7H[K[21;5H  [38;5;130mreturn[m kv;[22;5H}[23;5H[K[24;5H[34m/** Free all the key-value's in keyValues. */[m[25;5H[32mstatic[m [32mvoid[m[25;16H[K[26;5Hfree_key_values([32mstruct[m KeyValue *keyValues)[27;5H{[27;7H[K[28;7Hfree(keyValues->key);[28;28H[K[29;7H[38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);[30;5H  free(keyValues);[31;5H}[32;5H[K[33;5H[34m/** Make key-values for all the words in the first verse of Carroll's[34;7H  Jabberwocky with value being the index of the word.[35;5H */[m[35;8H[K[36;5H[32mstatic[m [32mstruct[m KeyValue *[37;5Hmake_key_values([32mvoid[m) {[37;28H[K[38;7H[32mconst[m [32mchar[m *keys[] = {[38;29H[K[39;5H    [1C[31mtwas"[m,};[34m/* [m[1C[31mbrillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[40;10H[31mdid[4Cgyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[41;11H[31mll[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the[4Cborogoves"[m[34m,[42;7H  [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[43;5H  };*/[m[43;11H[K[44;7H[32mstruct[m KeyValue *p = [31mNULL[m;[44;33H[K[45;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[46;7H  p = add_key_value(p, keys[i], i);[47;7H}[47;8H[K[48;5H  [38;5;130mreturn[m p;[49;172H1[13C4[14;7H[?25h[?25lstrcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m[14;80H[K[49;174H2[14;6H[?25h[?25lstrcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m[14;79H[K[49;174H1[14;5H[?25h[?25l[13;7Hstrcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s[m[14;5H[K[15;7H[34m//initialize fields of *kv.[m[16;7Hkv->key = s; [16;20H[K[17;11Hvalue = v;[18;11Hsucc = keyValues;[19;7H[K[20;7H[38;5;130mreturn[m kv;[21;5H}[21;7H[K[22;5H[K[23;5H[34m/** Free all the key-value's in keyValues. */[m[24;5H[32mstatic[m [32mvoid[m[24;16H[K[25;5Hfree_key_values([32mstruct[m KeyValue *keyValues)[26;5H{[26;6H[K[27;5H  free(keyValues->key);[28;7H[38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);[29;7Hfree(keyValues);[29;23H[K[30;5H}[30;7H[K[31;5H[K[32;5H[34m/** Make key-values for all the words in the first verse of Carroll's[33;5H *  Jabberwocky with value being the index of the word.[m[33;60H[K[34;7H[34m/[m[34;8H[K[35;5H[32mstatic[m [32mstruct[m KeyValue *[36;5Hmake_key_values([32mvoid[m) {[36;28H[K[37;5H  [32mconst[m [32mchar[m *keys[] = {[38;7H  [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[39;5H    [m[1C[31mdid"[m[34m, [m[31m"gyre[m[1C[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[39;61H[K[40;10H[31mall[4Cmimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[40;52H[K[41;11H[31mnd[4Cthe"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths[4Coutgrabe"[m[34m,[m[41;51H[K[42;7H[34m};*/[m[42;11H[K[43;5H  [32mstruct[m KeyValue *p = [31mNULL[m;[44;7H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[45;7H  p = add_key_value(p, keys[i], i);[45;42H[K[46;7H}[46;9H[K[47;7H[38;5;130mreturn[m p;[48;5H}[48;7H[K[49;172H0,3[11C5[13;7H[?25h[?25l:strcpy(s, k);  [1C[34m/copy string k into newly allocated memory pointed to by s[m[49;174H4[13;8H[?25h[49;1H[K[13;7H[?25l[49;161H^[[13;7H[49;161H  [13;8H[49;171H30,3[10C45%[13;7H[?25h[?25l[49;161H:[13;7H[49;161H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[97m[41mE37: No write since last change (add ! to override)[?2004h[13;7H[m[49;171H30,3[10C45%[13;7H[?25h[?25l[49;161H:[13;7H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h![?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ gdb bug_pr[K[K[K-program.c
GNU gdb (Debian 8.2.1-2+b3) 8.2.1
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word"...
"/import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program.c": not in executable format: file format not recognized
(gdb) b 30
No symbol table is loaded.  Use the "file" command.
(gdb) list
No symbol table is loaded.  Use the "file" command.
(gdb) file
No executable file now.
No symbol file now.
(gdb) file bg[K[K[K[K[K[K[Kq
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ gdb bug-program.c[K[K
GNU gdb (Debian 8.2.1-2+b3) 8.2.1
Copyright (C) 2018 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.
Type "show copying" and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
Type "show configuration" for configuration details.
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>.
Find the GDB manual and other documentation resources online at:
    <http://www.gnu.org/software/gdb/documentation/>.

For help, type "help".
Type "apropos word" to search for commands related to "word"...
Reading symbols from bug-program...done.
(gdb) b 30
Breakpoint 1 at 0x11de: file bug-program.c, line 30.
(gdb) run
Starting program: /import/linux/home1/fantona1/projects/i220a/submit/lab10/exercises/bug-program/bug-program 

Breakpoint 1, add_key_value (v=0, k=<synthetic pointer>, keyValues=0x0) at bug-program.c:30
30	  strcpy(s, k);  //copy string k into newly allocated memory pointed to by s
(gdb) p s
$1 = 0x555555559280 ""
(gdb) p k
$2 = <synthetic pointer>
(gdb) p k*k
$3 = 116 't'
(gdb) p *k+1
$4 = 117
(gdb) p *k+1[K2
$5 = 118
(gdb) p *k+2[K3
$6 = 119
(gdb) p *k+3[K4
$7 = 120
(gdb) p *k+4[K8
$8 = 124
(gdb) p *k+8[K7
$9 = 123
(gdb) p *k+7[K9
$10 = 125
(gdb) p *k+9[K16
$11 = 132
(gdb) x k
0x0:	Cannot access memory at address 0x0
(gdb) x k[K*k
0x74:	Cannot access memory at address 0x74
(gdb) x *k[1Pk[1Pk/ksk k
0x0:	<error: Cannot access memory at address 0x0>
(gdb) x/s k[K[K *k
0x74:	<error: Cannot access memory at address 0x74>
(gdb) 
0x74:	<error: Cannot access memory at address 0x74>
(gdb) 
0x74:	<error: Cannot access memory at address 0x74>
(gdb) ci[Kontinue
Continuing.
twas: 0
[Inferior 1 (process 2908974) exited normally]
(gdb) q
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
make: Nothing to be done for 'all'.
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.c.old  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$  ake[K[K[K[Kmake clean
rm -f *.o *~ bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:67:13:[m[K [01;35m[Kwarning: [m[K‘[01m[Kprint_kv[m[K’ defined but not used [[01;35m[K-Wunused-function[m[K]
 static void [01;35m[Kprint_kv[m[K(struct KeyValue * kv)
             [01;35m[K^~~~~~~~[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.c.old  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ lsmake cleanls[Kmakegdb bug-program.cvim[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvalgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvalgrind --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Kmake cleanls[Kmakegdb bug-program.cvim[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvalgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim bug-program.cmake[Kvim bug-program.c[Kvalgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 35L, 1768C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2909345== Memcheck, a memory error detector
==2909345== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2909345== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==2909345== Command: ./bug-program
==2909345==
==2909345== Invalid write of size 1
==2909345==    at 0x1091E4: add_key_value (bug-program.c:30)
==2909345==    by 0x1091E4: make_key_values (bug-program.c:62)
==2909345==    by 0x1091E4: main (bug-program.c:77)
==2909345==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2909345==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2909345==    by 0x1091D3: add_key_value (bug-program.c:24)
==2909345==    by 0x1091D3: make_key_values (bug-program.c:62)
==2909345==    by 0x1091D3: main (bug-program.c:77)
==2909345==
==2909345== Invalid read of size 1
==2909345==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2909345==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2909345==    by 0x48D6605: printf (printf.c:33)
==2909345==    by 0x10921A: main (bug-program.c:80)
==2909345==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2909345==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2909345==    by 0x1091D3: add_key_value (bug-program.c:24)
==2909345==    by 0x1091D3: make_key_values (bug-program.c:62)
==2909345==    by 0x1091D3: main (bug-program.c:77)
==2909345==
==2909345==
==2909345== HEAP SUMMARY:
==2909345==     in use at exit: 0 bytes in 0 blocks
==2909345==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2909345==
==2909345== All heap blocks were freed -- no leaks are possible
==2909345==
==2909345== For counts of detected and suppressed errors, rerun with: -v
==2909345== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H20,1[10CAll[20;1H[?25h[?25l[49;161H~@k[20;1H[49;161H   [19;1H[49;171H19[19;1H[?25h[?25l[49;161H~@k[19;1H[49;161H   [18;1H[49;172H8[18;1H[?25h[?25l[49;161H~@k[18;1H[49;161H   [17;1H[49;172H7[17;1H[?25h[?25l[49;161H~@k[17;1H[49;161H   [16;1H[49;172H6[16;1H[?25h[?25l[49;161H~@k[16;1H[49;161H   [15;1H[49;172H5[15;1H[?25h[?25l[49;161H~@k[15;1H[49;161H   [14;1H[49;172H4[14;1H[?25h[?25l[49;161H~@k[14;1H[49;161H   [13;1H[49;172H3[13;1H[?25h[?25l[49;161H~@k[13;1H[49;161H   [12;1H[49;172H2[12;1H[?25h[?25l[49;161H~@k[12;1H[49;161H   [11;1H[49;172H1[11;1H[?25h[?25l[49;161H~@k[11;1H[49;161H   [10;1H[49;172H0[10;1H[?25h[?25l[49;161H~@k[10;1H[49;161H   [9;1H[49;171H9,1 [9;1H[?25h[?25l[49;161H~@k[9;1H[49;161H   [8;1H[49;171H8[8;1H[?25h[?25l[49;161H~@k[8;1H[49;161H   [7;1H[49;171H7[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [6;1H[49;171H6[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [5;1H[49;171H5[5;1H[?25h[?25l[49;161H~@k[5;1H[49;161H   [4;1H[49;171H4[4;1H[?25h[?25l[49;161H~@k[4;1H[49;161H   [5;1H[49;171H5[5;1H[?25h[?25l[49;161H~@k[5;1H[49;161H   [6;1H[49;171H6[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [7;1H[49;171H7[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [7;2H[49;173H2[7;2H[?25h[?25l[49;161H~@k[7;2H[49;161H   [7;3H[49;173H3[7;3H[?25h[?25l[49;161H~@k[7;3H[49;161H   [7;4H[49;173H4[7;4H[?25h[?25l[49;161H~@k[7;4H[49;161H   [7;5H[49;173H5[7;5H[?25h[?25l[49;161H~@k[7;5H[49;161H   [7;6H[49;173H6[7;6H[?25h[?25l[49;161H~@k[7;6H[49;161H   [7;7H[49;173H7[7;7H[?25h[?25l[49;161H~@k[7;7H[49;161H   [7;8H[49;173H8[7;8H[?25h[?25l[49;161H~@k[7;8H[49;161H   [7;9H[49;173H9[7;9H[?25h[?25l[49;161H~@k[7;9H[49;161H   [7;10H[49;173H10[7;10H[?25h[?25l[49;161H~@k[7;10H[49;161H   [7;11H[49;174H1[7;11H[?25h[?25l[49;161H~@k[7;11H[49;161H   [7;12H[49;174H2[7;12H[?25h[?25l[49;161H~@k[7;12H[49;161H   [7;13H[49;174H3[7;13H[?25h[?25l[49;161H~@k[7;13H[49;161H   [7;14H[49;174H4[7;14H[?25h[?25l[49;161H~@k[7;14H[49;161H   [7;15H[49;174H5[7;15H[?25h[?25l[49;161H~@k[7;15H[49;161H   [7;16H[49;174H6[7;16H[?25h[?25l[49;161H~@k[7;16H[49;161H   [7;17H[49;174H7[7;17H[?25h[?25l[49;161H~@k[7;17H[49;161H   [7;18H[49;174H8[7;18H[?25h[?25l[49;161H~@k[7;18H[49;161H   [7;19H[49;174H9[7;19H[?25h[?25l[49;161H~@k[7;19H[49;161H   [7;20H[49;173H20[7;20H[?25h[?25l[49;161H~@k[7;20H[49;161H   [7;21H[49;174H1[7;21H[?25h[?25l[49;161H~@k[7;21H[49;161H   [7;22H[49;174H2[7;22H[?25h[?25l[49;161H~@k[7;22H[49;161H   [7;23H[49;174H3[7;23H[?25h[?25l[49;161H~@k[7;23H[49;161H   [7;24H[49;174H4[7;24H[?25h[?25l[49;161H~@k[7;24H[49;161H   [7;25H[49;174H5[7;25H[?25h[?25l[49;161H~@k[7;25H[49;161H   [7;26H[49;174H6[7;26H[?25h[?25l[49;161H~@k[7;26H[49;161H   [7;27H[49;174H7[7;27H[?25h[?25l[49;161H~@k[7;27H[49;161H   [7;28H[49;174H8[7;28H[?25h[?25l[49;161H~@k[7;28H[49;161H   [7;29H[49;174H9[7;29H[?25h[?25l[49;161H~@k[7;29H[49;161H   [7;30H[49;173H30[7;30H[?25h[?25l[49;161H~@k[7;30H[49;161H   [7;31H[49;174H1[7;31H[?25h[?25l[49;161H~@k[7;31H[49;161H   [7;32H[49;174H2[7;32H[?25h[?25l[49;161H~@k[7;32H[49;161H   [7;33H[49;174H3[7;33H[?25h[?25l[49;161H~@k[7;33H[49;161H   [7;34H[49;174H4[7;34H[?25h[?25l[49;161H~@k[7;34H[49;161H   [7;35H[49;174H5[7;35H[?25h[?25l[49;161H~@k[7;35H[49;161H   [7;36H[49;174H6[7;36H[?25h[?25l[49;161H~@k[7;36H[49;161H   [7;37H[49;174H7[7;37H[?25h[?25l[49;161H~@k[7;37H[49;161H   [7;38H[49;174H8[7;38H[?25h[?25l[49;161H~@k[7;38H[49;161H   [7;39H[49;174H9[7;39H[?25h[?25l[49;161H~@k[7;39H[49;161H   [7;40H[49;173H40[7;40H[?25h[?25l[49;161H~@k[7;40H[49;161H   [7;41H[49;174H1[7;41H[?25h[?25l[49;161H~@k[7;41H[49;161H   [7;42H[49;174H2[7;42H[?25h[?25l[49;161H~@k[7;42H[49;161H   [7;43H[106m([16C)[m[49;174H3[7;43H[?25h[?25l[49;161H~@k[7;43H[49;161H   [7;44H([16C)[49;174H4[7;44H[?25h[?25l[49;161H~@k[7;44H[49;161H   [7;45H[49;174H5[7;45H[?25h[?25l[49;161H~@k[7;45H[49;161H   [7;46H[49;174H6[7;46H[?25h[?25l[49;161H~@k[7;46H[49;161H   [7;47H[49;174H7[7;47H[?25h[?25l[49;161H~@k[7;47H[49;161H   [7;48H[49;174H8[7;48H[?25h[?25l[49;161H~@k[7;48H[49;161H   [7;49H[49;174H9[7;49H[?25h[?25l[49;161H~@k[7;49H[49;161H   [7;50H[49;173H50[7;50H[?25h[?25l[49;161H~@k[7;50H[49;161H   [7;51H[49;174H1[7;51H[?25h[?25l[49;161H~@k[7;51H[49;161H   [7;52H[49;174H2[7;52H[?25h[?25l[49;161H~@k[7;52H[49;161H   [7;53H[49;174H3[7;53H[?25h[?25l[49;161H~@k[7;53H[49;161H   [7;54H[49;174H4[7;54H[?25h[?25l[49;161H~@k[7;54H[49;161H   [7;55H[49;174H5[7;55H[?25h[?25l[49;161H~@k[7;55H[49;161H   [7;56H[49;174H6[7;56H[?25h[?25l[49;161H~@k[7;56H[49;161H   [7;55H[49;174H5[7;55H[?25h[?25l[49;161H~@k[7;55H[49;161H   [7;54H[49;174H4[7;54H[?25h[?25l[49;161H~@k[7;54H[49;161H   [7;53H[49;174H3[7;53H[?25h[?25l[49;161H~@k[7;53H[49;161H   [7;52H[49;174H2[7;52H[?25h[?25l[49;161H~@k[7;52H[49;161H   [7;51H[49;174H1[7;51H[?25h[?25l[49;161H~@k[7;51H[49;161H   [7;50H[49;174H0[7;50H[?25h[?25l[49;161H~@k[7;50H[49;161H   [7;49H[49;173H49[7;49H[?25h[?25l[49;161H~@k[7;49H[49;161H   [7;48H[49;174H8[7;48H[?25h[?25l[49;161H~@k[7;48H[49;161H   [7;47H[49;174H7[7;47H[?25h[?25l[49;161H~@k[7;47H[49;161H   [7;46H[49;174H6[7;46H[?25h[?25l[49;161H~@k[7;46H[49;161H   [7;45H[49;174H5[7;45H[?25h[?25l[49;161H~@k[7;45H[49;161H   [7;44H[49;174H4[7;44H[?25h[?25l[49;161H~@k[7;44H[49;161H   [7;43H[106m([16C)[m[49;174H3[7;43H[?25h[?25l[49;161H~@k[7;43H[49;161H   [7;42H ([16C)[49;174H2[7;42H[?25h[?25l[49;161H~@k[7;42H[49;161H   [7;41H[49;174H1[7;41H[?25h[?25l[49;161H~@k[7;41H[49;161H   [7;40H[49;174H0[7;40H[?25h[?25l[49;161H~@k[7;40H[49;161H   [7;39H[49;173H39[7;39H[?25h[?25l[49;161H~@k[7;39H[49;161H   [7;38H[49;174H8[7;38H[?25h[?25l[49;161H~@k[7;38H[49;161H   [7;37H[49;174H7[7;37H[?25h[?25l[49;161H~@k[7;37H[49;161H   [7;36H[49;174H6[7;36H[?25h[?25l[49;161H~@k[7;36H[49;161H   [7;35H[49;174H5[7;35H[?25h[?25l[49;161H~@k[7;35H[49;161H   [7;34H[49;174H4[7;34H[?25h[?25l[49;161H~@k[7;34H[49;161H   [7;33H[49;174H3[7;33H[?25h[?25l[49;161H~@k[7;33H[49;161H   [7;32H[49;174H2[7;32H[?25h[?25l[49;161H~@k[7;32H[49;161H   [7;31H[49;174H1[7;31H[?25h[?25l[49;161H~@k[7;31H[49;161H   [7;30H[49;174H0[7;30H[?25h[?25l[49;161H~@k[7;30H[49;161H   [7;29H[49;173H29[7;29H[?25h[?25l[49;161H~@k[7;29H[49;161H   [7;28H[49;174H8[7;28H[?25h[?25l[49;161H~@k[7;28H[49;161H   [7;27H[49;174H7[7;27H[?25h[?25l[49;161Hq[7;27H[?25h[?25l[49;162H:[7;27H[49;161H  [7;27H[49;1H[K[49;1H:[?2004h[1;13HCopyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[2;13HUsing Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info[3;13HCommand: ./bug-program[3;35H[K[4;13H[K[5;13HInvalid write of size 1[6;13H   at 0x1091E4: add_key_value (bug-program.c:30)[7;16Hby[11Cmake_key_values (bug-program.c:62)[8;31Hin (bug-program.c:77)[8;52H[K[9;14HAddress 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[10;14H  at 0x483577F: malloc (vg_replace_malloc.c:299)[10;62H[K[11;16Hby 0x1091D3: add_key_value (bug-program.c:24)[11;61H[K[12;29Hmake_key_values (bug-program.c:62)[13;31Hin (bug-program.c:77)[13;52H[K[14;16H[K[15;13HInvalid read of size 1[16;13H   at 0x4838C74: strlen (vg_replace_strmem.c:460)[17;16Hby 0x48CF9EE: vfprintf (vfprintf.c:1638)[17;56H[K[18;23HD6605: printf (printf.c:33)[18;50H[K[19;21H10921A: main (bug-program.c:80)[20;14HAddress 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[21;14H  at 0x483577F: malloc (vg_replace_malloc.c:299)[21;62H[K[22;16Hby 0x1091D3: add_key_value (bug-program.c:24)[22;61H[K[23;29Hmake_key_values (bug-program.c:62)[24;31Hin (bug-program.c:77)[24;52H[K[25;16H[K[27;13HHEAP SUMMARY:[28;13H    in use at exit: 0 bytes in 0 blocks[29;15Htotal heap usage: 3 allocs, 3 frees, 1,052 bytes allocated[30;15H[K[31;13HAll heap blocks were freed -- no leaks are possible[32;13H[K[33;13HFor counts of detected and suppressed errors, rerun with: -v[34;13HERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [m[40;1H[7mbug-program.valgrind                                                                                                                                                      7,27           Bot[m[41;1H[94m:[m[38;5;130mset[m linenumber on[41;19H[K[42;1H[94m:[m[38;5;130mw[m[42;3H[K[43;1H[94m:[m[38;5;130mwq[m[43;4H[K[44;1H[94m:[m[38;5;130mset[m [35mnumber[m[44;12H[K[45;1H[94m:[m[38;5;130mq[m[45;3H[K[46;1H[94m:[m[38;5;130mq[m![46;4H[K[47;1H[94m:[m[47;2H[K[48;1H[1m[7m[Command Line]                                                                                                                                                            15,0-1         Bot[47;2H[?25h[?25l[m[49;178H:^[[47;2H[49;179H  [47;2H[49;179H^[[47;2H[49;178H   [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178Hq[47;2H[?25h[?25l[49;179H^M[47;2H[49;178H   [47;2H[?25h[?25l[49;178Hq[47;2H[?25h[?25l[49;179Hq[47;2H

[1mrecording @q[m[49;178H[K[47;2H[?25h[?25l[49;178H^M[47;2H[49;178H  [47;2H

[1;13HMemcheck, a memory error detector[1;46H[K[2;13HCopyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[2;76H[K[3;13HUsing Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info[4;13HCommand: ./bug-program[5;13H[K[6;13HInvalid write of size 1[6;36H[K[7;16Hat[11Cadd_key_value (bug-program.c:30)[7;61H[K[8;31Hke_key_values (bug-program.c:62)[9;14H  by 0x1091E4: main (bug-program.c:77)[9;52H[K[10;14HAddress 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[11;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[12;29Hadd_key_value (bug-program.c:24)[12;61H[K[13;31Hke_key_values (bug-program.c:62)[14;16Hby 0x1091D3: main (bug-program.c:77)[15;13H[K[16;13HInvalid read of size 1[16;35H[K[17;16Hat 0x4838C74: strlen (vg_replace_strmem.c:460)[18;23HCF9EE: vfprintf (vfprintf.c:1638)[19;21H48D6605: printf (printf.c:33)[19;50H[K[20;14H  by 0x10921A: main (bug-program.c:80)[20;52H[K[21;14HAddress 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[22;16Hat 0x483577F: malloc (vg_replace_malloc.c:299)[23;29Hadd_key_value (bug-program.c:24)[23;61H[K[24;31Hke_key_values (bug-program.c:62)[25;16Hby 0x1091D3: main (bug-program.c:77)[27;13H[K[28;13HHEAP SUMMARY:[28;27H[K[29;15H  in use at exit: 0 bytes in 0 blocks[29;52H[K[30;15Htotal heap usage: 3 allocs, 3 frees, 1,052 bytes allocated[31;13H[K[32;13HAll heap blocks were freed -- no leaks are possible[33;13H[K[34;13HFor counts of detected and suppressed errors, rerun with: -v[34;73H[K[35;1H==2909345== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)[35;75H[K[40;1H[94m~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H7,27[10CAll[7;27H[?25h[?25l[49;161H^M[7;27H[49;161H  [8;1H[49;171H8,1 [8;1H[?25h[?25l[49;161Hq[8;1H[49;1H[K[8;1H[49;171H8,1[11CAll[8;1H[?25h[?25l[49;161H:[8;1H[49;161H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 85L, 2340C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k[m
  [32mchar[m *s = malloc(strlen(k));

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }
  strcpy(s, k);  [34m//copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = s;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  free(keyValues->key);
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}[49;171H30,3[10CTop[30;3H[?25h[?25l[49;161H~@k[30;3H[49;161H   [30;4H[49;174H4[30;4H[?25h[?25l[49;161H~@k[30;4H[49;161H   [30;5H[49;174H5[30;5H[?25h[?25l[49;161H~@k[30;5H[49;161H   [30;6H[49;174H6[30;6H[?25h[?25l[49;161H~@k[30;6H[49;161H   [30;7H[49;174H7[30;7H[?25h[?25l[49;161H~@k[30;7H[49;161H   [30;6H[49;174H6[30;6H[?25h[?25l[49;161H~@k[30;6H[49;161H   [30;5H[49;174H5[30;5H[?25h[?25l[49;161H~@k[30;5H[49;161H   [30;4H[49;174H4[30;4H[?25h[?25l[49;161H~@k[30;4H[49;161H   [30;3H[49;174H3[30;3H[?25h[?25l[49;161Hi[30;3H[49;161H [30;3H[49;1H[1m-- INSERT --[m[49;13H[K[49;171H30,3[10CTop[30;3H[?25h[?25l/strcpy(s, k);  [1C[34m/copy string k into newly allocated memory pointed to by s[m[49;174H4[30;4H[?25h[?25l[34m//strcpy(s, k);  //copy string k into newly allocated memory pointed to by s[m[49;174H5[30;5H[?25h[?25l[31m"strcpy(s, k);  //copy string k into newly allocated memory pointed to by s[m[49;174H6[30;6H[?25h[?25l[34mstrcpy(s, k);  //copy string k into newly allocated memory pointed to by s[m[30;79H[K[49;174H5[30;5H[?25h[?25l[34m:strcpy(s, k);  //copy string k into newly allocated memory pointed to by s[m[49;174H6[30;6H[?25h[?25l[34mstrcpy(s, k);  //copy string k into newly allocated memory pointed to by s[m[30;79H[K[49;174H5[30;5H[?25h[49;1H[K[30;4H[?25l[49;161H^[[30;4H[49;161H  [30;5H[49;171H30,4[10CTop[30;4H[?25h[?25l[49;161H:[30;4H[49;161H[K[49;1H:[?2004h[?25hs[?25l[?25he[?25l[?25ht[?25l[?25h[?25l [?25hn[?25l[?25hu[?25l[?25hm[?25l[?25hb[?25l[?25he[?25l[?25hr[?25l[?25h[?25l[30;8H[1;1H[38;5;130m  1 [m[35m#include [m[31m<errno.h>[m
[38;5;130m  2 [m[35m#include [m[31m<stdio.h>[m
[38;5;130m  3 [m[35m#include [m[31m<stdlib.h>[m
[38;5;130m  4 [m[35m#include [m[31m<string.h>[m
[38;5;130m  5 
  6 [m[34m/** A struct used to form a linear chain of key-value pairs. */[m
[38;5;130m  7 [m[32mstruct[m KeyValue {
[38;5;130m  8 [m  [32mchar[m *key;       [34m/** string key */[m
[38;5;130m  9 [m  [32mint[m value;[9C    [34m/** integer value */[m
[38;5;130m 10 [m  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
[38;5;130m 11 [m};
[38;5;130m 12 
 13 [m[34m/** Given some chain keyValues of key-value struct's, add the[m
[38;5;130m 14 [m[34m *  key-value (k, v) at head of chain keyValues and return the[m
[38;5;130m 15 [m[34m *  resulting chain.[m
[38;5;130m 16 [m[34m */[m
[38;5;130m 17 [m[32mstatic[m [32mstruct[m KeyValue *
[38;5;130m 18 [madd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
[38;5;130m 19 [m{
[38;5;130m 20 [m  [34m//allocate storage for new KeyValue struct[m
[38;5;130m 21 [m  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));
[38;5;130m 22 
 23 [m  [34m//allocate storage for string pointed to by k[m
[38;5;130m 24 [m  [32mchar[m *s = malloc(strlen(k));
[38;5;130m 25 
 26 [m  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
[38;5;130m 27 [m    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
[38;5;130m 28 [m    exit([31m1[m);
[38;5;130m 29 [m  }
[38;5;130m 30 [m  [34m//strcpy(s, k);  //copy string k into newly allocated memory pointed to by s[m
[38;5;130m 31 
 32 [m  [34m//initialize fields of *kv.[m
[38;5;130m 33 [m  kv->key = s;
[38;5;130m 34 [m  kv->value = v;
[38;5;130m 35 [m  kv->succ = keyValues;
[38;5;130m 36 
 37 [m  [1C[38;5;130meturn[m kv;
[38;5;130m 38 [m}
[38;5;130m 39 
 40 [m[34m/** Free all the key-value's in keyValues. */[m
[38;5;130m 41 [m[32mstatic[m [32mvoid[m
[38;5;130m 42 [mfree_key_values([32mstruct[m KeyValue *keyValues)
[38;5;130m 43 [m{
[38;5;130m 44 [m  free(keyValues->key);
[38;5;130m 45 [m  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
[38;5;130m 46 [m  free(keyValues);
[38;5;130m 47 [m}
[38;5;130m 48 [m[49;171H30,4[10CTop[30;8H[?25h[?25l[49;161Hi[30;8H[49;161H [30;8H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H30,4[10CTop[30;8H[?25h[?25l[49;174H3[30;7H[?25h[?25l[30;7H[K[31;7H[34m//strcpy(s, k);  //copy string k into newly allocated memory pointed to by s[m[32;7H[K[33;7H[34m//initialize fields of *kv.[m[34;11Hkey = s; [34;20H[K[35;11Hvalue = v; [35;22H[K[36;7Hkv->succ = keyValues;[37;7H[K[38;5H  [38;5;130mreturn[m kv;[39;5H}[40;5H[K[41;5H[34m/** Free all the key-value's in keyValues. */[m[42;5H[32mstatic[m [32mvoid[m[42;16H[K[43;5Hfree_key_values([32mstruct[m KeyValue *keyValues)[44;5H{[44;7H[K[45;7Hfree(keyValues->key);[45;28H[K[46;7H[38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);[47;5H  free(keyValues);[48;5H}[49;172H1[31;7H[?25h[?25l[49;172H0[30;7H[?25h[?25l[49;172H1[31;7H[?25h[?25l[49;172H2,1[32;5H[?25h[?25l[49;172H3,3[33;7H[?25h[?25l[49;172H4[34;7H[?25h[?25l[49;174H4[34;8H[?25h[?25l[49;174H5[34;9H[?25h[?25l[49;174H6[34;10H[?25h[?25l[49;174H7[34;11H[?25h[?25l[49;174H8[34;12H[?25h[?25l[49;174H9[34;13H[?25h[?25l[49;174H10[34;14H[?25h[?25l[49;175H1[34;15H[?25h[?25l[49;175H2[34;16H[?25h[?25l[49;175H3[34;17H[?25h[?25l[49;175H4[34;18H[?25h[?25l; [49;175H3[34;17H[?25h[?25lk;[49;175H4[34;18H[?25h[?25l[49;175H6[34;20H[?25h[?25l/[49;175H7[34;21H[?25h[?25l[34m//[m[49;175H8[34;22H[?25h[?25l[34m [m[49;175H9[34;23H[?25h[?25l[34mo[m[49;174H20[34;24H[?25h[?25l[34mr[m[49;175H1[34;25H[?25h[?25l[34mg[m[49;175H2[34;26H[?25h[?25l[34;25H[K[49;175H1[34;25H[?25h[?25l[34mi[m[49;175H2[34;26H[?25h[?25l[34mg[m[49;175H3[34;27H[?25h[?25l[34mi[m[49;175H4[34;28H[?25h[?25l[34mt[m[49;175H5[34;29H[?25h[?25l[34;28H[K[49;175H4[34;28H[?25h[?25l[34;27H[K[49;175H3[34;27H[?25h[?25l[34;26H[K[49;175H2[34;26H[?25h[?25l[34;25H[K[49;175H1[34;25H[?25h[?25l[34;24H[K[49;175H0[34;24H[?25h[?25l[34;23H[K[49;174H19[34;23H[?25h[?25l[34mw[m[49;174H20[34;24H[?25h[?25l[34ma[m[49;175H1[34;25H[?25h[?25l[34ms[m[49;175H2[34;26H[?25h[?25l[34m [m[49;175H3[34;27H[?25h[?25l[34ms[m[49;175H4[34;28H[?25h[?25l[34m [m[49;175H5[34;29H[?25h[?25l[34mi[m[49;175H6[34;30H[?25h[?25l[34mn[m[49;175H7[34;31H[?25h[?25l[34ms[m[49;175H8[34;32H[?25h[?25l[34mt[m[49;175H9[34;33H[?25h[?25l[34me[m[49;174H30[34;34H[?25h[?25l[34ma[m[49;175H1[34;35H[?25h[?25l[34md[m[49;175H2[34;36H[?25h[?25l[34m [m[49;175H3[34;37H[?25h[?25l[34mo[m[49;175H4[34;38H[?25h[?25l[34mf[m[49;175H5[34;39H[?25h[?25l[34m [m[49;175H6[34;40H[?25h[?25l[34mk[m[49;175H7[34;41H[?25h[?25l[34m:[m[49;175H8[34;42H[?25h[?25l[34;41H[K[49;175H7[34;41H[?25h[?25l[49;172H3,30[33;34H[?25h[?25l[49;172H2,1 [32;5H[?25h[?25l[49;172H1,37[31;41H[?25h[?25l[49;172H0,3 [30;7H[?25h[?25l[26;36H[106m{[29;7H}[m[49;171H29,4[29;8H[?25h[?25l[26;36H{[29;7H}[49;172H8,13[28;17H[?25h[?25l[49;172H7,37[27;41H[?25h[?25l[49;172H6[26;41H[?25h[?25l[49;172H5,1 [25;5H[?25h[?25l[49;172H4,31[24;35H[?25h[?25l[49;172H3,37[23;41H[?25h[?25l[49;172H4,31[24;35H[?25h[?25l[49;174H1 [24;5H[?25h[?25l[49;174H2[24;6H[?25h[?25l[49;174H3[24;7H[?25h[?25l/[32mchar[m *s = malloc(strlen(k));[49;174H4[24;8H[?25h[?25l[34m//char *s = malloc(strlen(k));[m[49;174H5[24;9H[?25h[49;1H[K[24;8H[?25l[49;161H^[[24;8H[49;161H  [24;9H[49;171H24,4[10CTop[24;8H[?25h[?25l[49;161H:[24;8H[49;161H[K[49;1H:[?2004h[?25h [?25l[24;8H[49;171H24,4[10CTop[24;8H[?25h[?25l[49;161H~@k[24;8H[49;161H   [25;5H[49;172H5,0-1[25;5H[?25h[?25l[49;161H~@k[25;5H[49;161H   [26;8H[49;172H6,4  [26;8H[?25h[?25l[49;161H~@k[26;8H[49;161H   [27;8H[49;172H7[27;8H[?25h[?25l[49;161H~@k[27;8H[49;161H   [28;8H[49;172H8[28;8H[?25h[?25l[49;161H~@k[28;8H[49;161H   [29;7H[26;36H[106m{[29;7H}[m[49;172H9,3[29;7H[?25h[?25l[49;161H~@k[29;7H[49;161H   [30;6H[26;36H{[29;7H}[49;171H30,2[30;6H[?25h[?25l[49;161H~@k[30;6H[49;161H   [31;8H[49;172H1,4[31;8H[?25h[?25l[49;161H~@k[31;8H[49;161H   [32;5H[49;172H2,0-1[32;5H[?25h[?25l[49;161H~@k[32;5H[49;161H   [33;8H[49;172H3,4  [33;8H[?25h[?25l[49;161H~@k[33;8H[49;161H   [34;8H[49;172H4[34;8H[?25h[?25l[49;161H~@k[34;8H[49;161H   [35;8H[49;172H5[35;8H[?25h[?25l[49;161H~@k[35;8H[49;161H   [36;8H[49;172H6[36;8H[?25h[?25l[49;161H~@k[36;8H[49;161H   [37;5H[49;172H7,0-1[37;5H[?25h[?25l[49;161H~@k[37;5H[49;161H   [38;8H[49;172H8,4  [38;8H[?25h[?25l[49;161H~@k[38;8H[49;161H   [39;5H[19;5H[106m{[39;5H}[m[49;172H9,1[39;5H[?25h[?25l[49;161H~@k[39;5H[49;161H   [40;5H[19;5H{[39;5H}[49;171H40,0-1[40;5H[?25h[?25l[49;161H~@k[40;5H[49;161H   [41;8H[49;172H1,4  [41;8H[?25h[?25l[49;161H~@k[41;8H[49;161H   [42;8H[49;172H2[42;8H[?25h[?25l[49;161H~@k[42;8H[49;161H   [43;8H[49;172H3[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;5H[1;48r[48;1H
[1;49r[43;5H[106m{[47;5H}[m
[38;5;130m 49 [m[49;171H[K[49;171H44,1[11C2%[43;5H[?25h[?25l[49;161H~@k[43;5H[49;161H   [43;8H[1;48r[48;1H
[1;49r[42;5H{[46;5H}

[38;5;130m 50 [m[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H[K[49;171H45,4[11C5%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 51 [m[34m *  Jabberwocky with value being the index of the word.[m[49;171H[K[49;171H46,4[11C7%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 52 [m[34m */[m[49;171H[K[49;171H47,4[10C10%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;5H[1;48r[48;1H
[1;49r[39;5H[106m{[43;5H}[m[48;1H[38;5;130m 53 [m[32mstatic[m [32mstruct[m KeyValue *[49;171H[K[49;171H48,1[10C13%[43;5H[?25h[?25l[49;161H~@k[43;5H[49;161H   [43;5H[1;48r[48;1H
[1;49r[38;5H{[42;5H}[48;1H[38;5;130m 54 [mmake_key_values([32mvoid[m) {[49;171H[K[49;171H49,0-1[8C15%[43;5H[?25h[?25l[49;161H~@k[43;5H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 55 [m  [32mconst[m [32mchar[m *keys[] = {[49;171H[K[49;171H50,4[10C18%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 56 [m    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[49;171H[K[49;171H51,4[10C21%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;7H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 57 [m[34m    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[49;171H[K[49;171H52,3[10C23%[43;7H[?25h[?25l[49;161H~@k[43;7H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 58 [m[34m    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[49;171H[K[49;171H53,4[10C26%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 59 [m[34m    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m[49;171H[K[49;171H54,4[10C28%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 60 [m[34m  };*/[m[49;171H[K[49;171H55,4[10C31%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 61 [m  [32mstruct[m KeyValue *p = [31mNULL[m;[49;171H[K[49;171H56,4[10C34%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 62 [m  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[49;171H[K[49;171H57,4[10C36%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 63 [m    p = add_key_value(p, keys[i], i);[49;171H[K[49;171H58,4[10C39%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 64 [m  }[49;171H[K[49;171H59,4[10C42%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 65 [m  [38;5;130mreturn[m p;[49;171H[K[49;171H60,4[10C44%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 66 [m}[49;171H[K[49;171H61,4[10C47%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 67 [m[49;171H[K[49;171H62,4[10C50%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 68 [m[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)[49;171H[K[49;171H63,4[10C52%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;7H[1;48r[48;1H
[1;49r[41;62H[106m{[43;7H}[m[48;1H[38;5;130m 69 [m{[49;171H[K[49;171H64,3[10C55%[43;7H[?25h[?25l[49;161H~@k[43;7H[49;161H   [43;8H[1;48r[48;1H
[1;49r[40;62H{[42;7H}[48;1H[38;5;130m 70 [m  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);[49;171H[K[49;171H65,4[10C57%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;5H[1;48r[48;1H
[1;49r[31;27H[106m{[43;5H}[m[48;1H[38;5;130m 71 [m  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[49;171H[K[49;171H66,1[10C60%[43;5H[?25h[?25l[49;161H~@k[43;5H[49;161H   [43;5H[1;48r[48;1H
[1;49r[30;27H{[42;5H}[48;1H[38;5;130m 72 [m}[49;171H[K[49;171H67,0-1[8C63%[43;5H[?25h[?25l[49;161H~@k[43;5H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 73 [m[49;171H[K[49;171H68,4[10C65%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;5H[1;48r[48;1H
[1;49r[43;5H[106m{[46;5H}[m

[38;5;130m 74 [m[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m[49;171H[K[49;171H69,1[10C68%[43;5H[?25h[?25l[49;161H~@k[43;5H[49;161H   [43;8H[1;48r[48;1H
[1;49r[42;5H{[45;5H}


[38;5;130m 75 [m[34m *  paired with their index in the verse.[m[49;171H[K[49;171H70,4[10C71%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 76 [m[34m */[m[49;171H[K[49;171H71,4[10C73%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;5H[1;48r[48;1H
[1;49r[40;5H[106m{[43;5H}[m[48;1H[38;5;130m 77 [m[32mint[m main() {[49;171H[K[49;171H72,1[10C76%[43;5H[?25h[?25l[49;161H~@k[43;5H[49;161H   [43;5H[1;48r[48;1H
[1;49r[39;5H{[42;5H}[48;1H[38;5;130m 78 [m  [32mstruct[m KeyValue *keyValues = make_key_values();[49;171H[K[49;171H73,0-1[8C78%[43;5H[?25h[?25l[49;161H~@k[43;5H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 79 [m[49;171H[K[49;171H74,4[10C81%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 80 [m  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[49;171H[K[49;171H75,4[10C84%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;7H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 81 [m    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[49;171H[K[49;171H76,3[10C86%[43;7H[?25h[?25l[49;161H~@k[43;7H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 82 [m  }[49;171H[K[49;171H77,4[10C89%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 83 [m[49;171H[K[49;171H78,4[10C92%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;6H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 84 [m  free_key_values(keyValues);[49;171H[K[49;171H79,2[10C94%[43;6H[?25h[?25l[49;161H~@k[43;6H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 85 [m  [38;5;130mreturn[m [31m0[m;[49;171H[K[49;171H80,4[10C97%[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [43;8H[1;48r[48;1H
[1;49r[48;1H[38;5;130m 86 [m}[49;171H[K[49;171H81,4[10CBot[43;8H[?25h[?25l[49;161H~@k[43;8H[49;161H   [42;8H[49;172H0[42;8H[?25h[?25l[49;161H~@k[42;8H[49;161H   [41;6H[49;171H79,2[41;6H[?25h[?25l[49;161H~@k[41;6H[49;161H   [40;8H[49;172H8,4[40;8H[?25h[?25l[49;161H~@k[40;8H[49;161H   [39;8H[49;172H7[39;8H[?25h[?25l[49;161H~@k[39;8H[49;161H   [38;7H[49;172H6,3[38;7H[?25h[?25l[49;161H~@k[38;7H[49;161H   [37;8H[49;172H5,4[37;8H[?25h[?25l[49;161H~@k[37;8H[49;161H   [36;8H[49;172H4[36;8H[?25h[?25l[49;161H~@k[36;8H[49;161H   [35;5H[49;172H3,0-1[35;5H[?25h[?25l[49;161H~@k[35;5H[49;161H   [34;5H[31;5H[106m{[34;5H}[m[49;172H2,1  [34;5H[?25h[?25l[49;161H~@k[34;5H[49;161H   [33;8H[31;5H{[34;5H}[49;172H1,4[33;8H[?25h[?25l[49;161H~@k[33;8H[49;161H   [32;8H[49;172H0[32;8H[?25h[?25l[49;161H~@k[32;8H[49;161H   [31;5H[106m{[34;5H}[m[49;171H69,1[31;5H[?25h[?25l[49;161H~@k[31;5H[49;161H   [30;8H[31;5H{[34;5H}[49;172H8,4[30;8H[?25h[?25l[49;161H~@k[30;8H[49;161H   [29;5H[49;172H7,0-1[29;5H[?25h[?25l[49;161H~@k[29;5H[49;161H   [28;5H[16;27H[106m{[28;5H}[m[49;172H6,1  [28;5H[?25h[?25l[49;161H~@k[28;5H[49;161H   [27;8H[16;27H{[28;5H}[49;172H5,4[27;8H[?25h[?25l[49;161H~@k[27;8H[49;161H   [26;7H[24;62H[106m{[26;7H}[m[49;172H4,3[26;7H[?25h[?25l[49;161H~@k[26;7H[49;161H   [25;8H[24;62H{[26;7H}[49;172H3,4[25;8H[?25h[?25l[49;161H~@k[25;8H[49;161H   [24;8H[49;172H2[24;8H[?25h[?25l[49;161H~@k[24;8H[49;161H   [23;8H[49;172H1[23;8H[?25h[?25l[49;161H~@k[23;8H[49;161H   [22;8H[49;172H0[22;8H[?25h[?25l[49;161H~@k[22;8H[49;161H   [21;8H[49;171H59[21;8H[?25h[?25l[49;161H~@k[21;8H[49;161H   [20;8H[49;172H8[20;8H[?25h[?25l[49;161H~@k[20;8H[49;161H   [19;8H[49;172H7[19;8H[?25h[?25l[49;161H~@k[19;8H[49;161H   [18;8H[49;172H6[18;8H[?25h[?25l[49;161H~@k[18;8H[49;161H   [17;8H[49;172H5[17;8H[?25h[?25l[49;161H~@k[17;8H[49;161H   [16;8H[49;172H4[16;8H[?25h[?25l[49;161H~@k[16;8H[49;161H   [15;8H[49;172H3[15;8H[?25h[?25l[49;161H~@k[15;8H[49;161H   [14;7H[49;172H2,3[14;7H[?25h[?25l[49;161H~@k[14;7H[49;161H   [13;8H[49;172H1,4[13;8H[?25h[?25l[49;161H~@k[13;8H[49;161H   [12;8H[49;172H0[12;8H[?25h[?25l[49;161H~@k[12;8H[49;161H   [11;5H[49;171H49,0-1[11;5H[?25h[?25l[49;161H~@k[11;5H[49;161H   [10;5H[6;5H[106m{[10;5H}[m[49;172H8,1  [10;5H[?25h[?25l[49;161H~@k[10;5H[49;161H   [9;8H[6;5H{[10;5H}[49;172H7,4[9;8H[?25h[?25l[49;161H~@k[9;8H[49;161H   [8;8H[49;172H6[8;8H[?25h[?25l[49;161H~@k[8;8H[49;161H   [7;8H[49;172H5[7;8H[?25h[?25l[49;161H~@k[7;8H[49;161H   [8;8H[49;172H6[8;8H[?25h[?25l[49;161H~@k[8;8H[49;161H   [7;8H[49;172H5[7;8H[?25h[?25l[49;161H~@k[7;8H[49;161H   [7;7H[49;174H3[7;7H[?25h[?25l[49;161H/[7;7H[49;161H[K[49;1H/[?2004h[?25h/[?25l[30;44H[7mkv[m[49;171H68,40[9CBot[49;171H[K[49;3H[?25h[?25l[49;2H[K[30;44Hkv[49;171H45,3[10CBot[49;171H[K[49;2H[?25h [?25l[7;7H[49;171H45,3[10CBot[7;7H[?25h[?25l[49;161H~@k[7;7H[49;161H   [6;5H[106m{[10;5H}[m[49;172H4,1[6;5H[?25h[?25l[49;161H~@k[6;5H[49;161H   [7;7H[6;5H{[10;5H}[49;172H5,3[7;7H[?25h[?25l[49;161Hi[7;7H[49;161H [7;7H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H45,3[10CBot[7;7H[?25h[?25l/free(keyValues->key);[49;174H4[7;8H[?25h[?25l[34m//free(keyValues->key);[m[49;174H5[7;9H[?25h[49;1H[K[7;8H[?25l[49;161H^[[7;8H[49;161H  [7;9H[49;171H45,4[10CBot[7;8H[?25h[?25l[49;161H:[7;8H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 86L, 2370C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kadd_key_value[m[K’:
[01m[Kbug-program.c:26:21:[m[K [01;31m[Kerror: [m[K‘[01m[Ks[m[K’ undeclared (first use in this function)
   if (kv == NULL || [01;31m[Ks[m[K == NULL) { //check if allocations succeeded
                     [01;31m[K^[m[K
[01m[Kbug-program.c:26:21:[m[K [01;36m[Knote: [m[Keach undeclared identifier is reported only once for each function it appears in
[01m[Kbug-program.c:34:11:[m[K [01;35m[Kwarning: [m[Kassignment discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
   kv->key [01;35m[K=[m[K k; // was s instead of k
           [01;35m[K^[m[K
At top level:
[01m[Kbug-program.c:68:13:[m[K [01;35m[Kwarning: [m[K‘[01m[Kprint_kv[m[K’ defined but not used [[01;35m[K-Wunused-function[m[K]
 static void [01;35m[Kprint_kv[m[K(struct KeyValue * kv)
             [01;35m[K^~~~~~~~[m[K
make: *** [<builtin>: bug-program] Error 1
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 86L, 2370C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k
[m  [34m//char *s = malloc(strlen(k));[m

  [38;5;130mif[m (kv == [31mNULL[m || s == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }

  [34m//strcpy(s, k);  //copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = k; [34m// was s instead of k[m
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//free(keyValues->key);[m
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H45,4[11C5%[43;4H[?25h[?25l[49;161H~@k[43;4H[49;161H   [43;4H[1;48r[48;1H
[1;49r[48;1H[34m *  Jabberwocky with value being the index of the word.[m[49;1H[K[49;171H46,4[11C7%[43;4H[?25h[?25l[49;161H~@k[43;4H[49;161H   [42;4H[49;172H5[42;4H[?25h[?25l[49;161H~@k[42;4H[49;161H   [41;1H[106m{[45;1H}[m[49;172H4,1[41;1H[?25h[?25l[49;161H~@k[41;1H[49;161H   [40;4H
{[45;1H}[49;172H3,4[40;4H[?25h[?25l[49;161H~@k[40;4H[49;161H   [39;4H[49;172H2[39;4H[?25h[?25l[49;161H~@k[39;4H[49;161H   [38;4H[49;172H1[38;4H[?25h[?25l[49;161H~@k[38;4H[49;161H   [37;1H[49;172H0,0-1[37;1H[?25h[?25l[49;161H~@k[37;1H[49;161H   [36;1H[16;1H[106m{[36;1H}[m[49;171H39,1  [36;1H[?25h[?25l[49;161H~@k[36;1H[49;161H   [35;4H[16;1H{[36;1H}[49;172H8,4[35;4H[?25h[?25l[49;161H~@k[35;4H[49;161H   [34;1H[49;172H7,0-1[34;1H[?25h[?25l[49;161H~@k[34;1H[49;161H   [33;4H[49;172H6,4  [33;4H[?25h[?25l[49;161H~@k[33;4H[49;161H   [32;4H[49;172H5[32;4H[?25h[?25l[49;161H~@k[32;4H[49;161H   [31;4H[49;172H4[31;4H[?25h[?25l[49;161H~@k[31;4H[49;161H   [30;4H[49;172H3[30;4H[?25h[?25l[49;161H~@k[30;4H[49;161H   [29;1H[49;172H2,0-1[29;1H[?25h[?25l[49;161H~@k[29;1H[49;161H   [28;4H[49;172H1,4  [28;4H[?25h[?25l[49;161H~@k[28;4H[49;161H   [27;2H[49;172H0,2[27;2H[?25h[?25l[49;161H~@k[27;2H[49;161H   [26;3H[23;32H[106m{[26;3H}[m[49;171H29,3[26;3H[?25h[?25l[49;161H~@k[26;3H[49;161H   [25;4H[23;32H{[26;3H}[49;172H8,4[25;4H[?25h[?25l[49;161H~@k[25;4H[49;161H   [24;4H[49;172H7[24;4H[?25h[?25l[49;161H~@k[24;4H[49;161H   [23;4H[49;172H6[23;4H[?25h[?25l[49;161H~@k[23;4H[49;161H   [23;5H[49;174H5[23;5H[?25h[?25l[49;161H~@k[23;5H[49;161H   [23;6H[106m([23C)[m[49;174H6[23;6H[?25h[?25l[49;161H~@k[23;6H[49;161H   [23;7H([23C)[49;174H7[23;7H[?25h[?25l[49;161H~@k[23;7H[49;161H   [23;8H[49;174H8[23;8H[?25h[?25l[49;161H~@k[23;8H[49;161H   [23;9H[49;174H9[23;9H[?25h[?25l[49;161H~@k[23;9H[49;161H   [23;10H[49;174H10[23;10H[?25h[?25l[49;161H~@k[23;10H[49;161H   [23;11H[49;175H1[23;11H[?25h[?25l[49;161H~@k[23;11H[49;161H   [23;12H[49;175H2[23;12H[?25h[?25l[49;161H~@k[23;12H[49;161H   [23;13H[49;175H3[23;13H[?25h[?25l[49;161H~@k[23;13H[49;161H   [23;14H[49;175H4[23;14H[?25h[?25l[49;161H~@k[23;14H[49;161H   [23;15H[49;175H5[23;15H[?25h[?25l[49;161H~@k[23;15H[49;161H   [23;16H[49;175H6[23;16H[?25h[?25l[49;161H~@k[23;16H[49;161H   [23;17H[49;175H7[23;17H[?25h[?25l[49;161H~@k[23;17H[49;161H   [23;18H[49;175H8[23;18H[?25h[?25l[49;161H~@k[23;18H[49;161H   [23;19H[49;175H9[23;19H[?25h[?25l[49;161H~@k[23;19H[49;161H   [23;20H[49;174H20[23;20H[?25h[?25l[49;161H~@k[23;20H[49;161H   [23;21H[49;175H1[23;21H[?25h[?25l[49;161H~@k[23;21H[49;161H   [23;22H[49;175H2[23;22H[?25h[?25l[49;161H~@k[23;22H[49;161H   [23;21H[49;175H1[23;21H[?25h[?25l[49;161H/[23;21H[49;161H[K[49;1H/[?2004h[?25h*[?25l[30;26H[7m[34m*[m[49;171H33,26[10C7%[49;171H[K[49;3H[?25h[?25l[49;1H[K[23;21H[30;26H[34m*[m[49;171H26,21[10C7%[23;21H[?25h[?25l[49;161Hi[23;21H[49;161H [23;21H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H26,21[10C7%[23;21H[?25h[?25l/s == [31mNULL[m) { [1C[34m/check if allocations succeeded[m[49;175H2[23;22H[?25h[?25l[34m/*s == NULL) { //check if allocations succeeded
    fprintf(stderr, [m[17C[31m%s[m[3C[34m, strerror(errno));
    exit([1C);
  }
  
  

  
  kv->key = k; 
  kv->value = v; 
  kv->succ = keyValues;

  return kv;
}[m

[97m[101m/


{[45;1H}[m[49;175H3[23;23H[?25h[?25l[49;175H4[23;24H[?25h[?25l[49;175H5[23;25H[?25h[?25l[49;175H6[23;26H[?25h[?25l[49;175H7[23;27H[?25h[?25l[49;175H8[23;28H[?25h[?25l[49;175H9[23;29H[?25h[?25l[49;174H30[23;30H[?25h[?25l[49;175H1[23;31H[?25h[?25l[23;6H[106m([m[25C[34m[106m)[m[49;175H2[23;32H[?25h[?25l[49;175H3[23;33H[?25h[?25l[49;175H2[23;32H[?25h[?25l[23;6H([25C[34m)[m[49;175H1[23;31H[?25h[?25l[49;175H0[23;30H[?25h[?25l[49;174H29[23;29H[?25h[?25l[49;175H8[23;28H[?25h[?25l[49;175H7[23;27H[?25h[?25l[49;175H6[23;26H[?25h[?25l[49;175H5[23;25H[?25h[?25l[49;175H4[23;24H[?25h[?25l[49;175H3[23;23H[?25h[?25l/s == [31mNULL[m) { [34m//check if allocations succeeded[m[23;67H[K[24;1H    fprintf([31mstderr[m, [17C[35m%s[m[3C, strerror(errno));
    exit([1C);
  }
  
  

  
  kv->key = k; 
  kv->value = v; 
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/[m


{[45;1H}[49;175H2[23;22H[?25h[?25ls == [31mNUL[m[1C) { [34m//check if allocations succeeded[m[23;66H[K[49;175H1[23;21H[?25h[?25l[49;175H0[23;20H[?25h[?25l[49;174H19[23;19H[?25h[?25l[49;175H8[23;18H[?25h[?25l[49;175H7[23;17H[?25h[?25l[49;175H6[23;16H[?25h[?25l[49;175H5[23;15H[?25h[?25l[49;175H4[23;14H[?25h[?25l[49;175H3[23;13H[?25h[?25l[49;175H2[23;12H[?25h[?25l[49;175H1[23;11H[?25h[?25l[49;175H0[23;10H[?25h[?25l[49;174H9 [23;9H[?25h[?25l[49;174H8[23;8H[?25h[?25l[106m([23C)[m[49;174H7[23;7H[?25h[?25l[49;174H6[23;6H[?25h[?25l([23C)[49;174H5[23;5H[?25h[?25l[49;174H4[23;4H[?25h[?25l[49;174H3[23;3H[?25h[?25l[49;174H4[23;4H[?25h[?25l[49;174H5[23;5H[?25h[?25l [106m([23C)[m[49;174H6[23;6H[?25h[?25l[49;174H7[23;7H[?25h[?25l([23C)[49;174H8[23;8H[?25h[?25l[49;174H9[23;9H[?25h[?25l[49;174H10[23;10H[?25h[?25l[49;175H1[23;11H[?25h[?25l[49;175H2[23;12H[?25h[?25l[49;175H3[23;13H[?25h[?25l[49;175H4[23;14H[?25h[?25l[49;175H5[23;15H[?25h[?25l[49;175H6[23;16H[?25h[?25l[49;175H7[23;17H[?25h[?25l[49;175H8[23;18H[?25h[?25l[49;175H9[23;19H[?25h[?25l[49;174H20[23;20H[?25h[?25l[49;175H1[23;21H[?25h[?25l[49;175H2[23;22H[?25h[?25l[49;175H3[23;23H[?25h[?25l[49;175H2[23;22H[?25h[?25l[49;175H1[23;21H[?25h[?25l/s == [31mNULL[m) { [1C[34m/check if allocations succeeded[m[49;175H2[23;22H[?25h[?25l[34m/*s == NULL) { //check if allocations succeeded
    fprintf(stderr, [m[17C[31m%s[m[3C[34m, strerror(errno));
    exit([1C);
  }
  
  

  
  kv->key = k; 
  kv->value = v; 
  kv->succ = keyValues;

  return kv;
}[m

[97m[101m/


{[45;1H}[m[49;175H3[23;23H[?25h[?25l[49;175H4[23;24H[?25h[?25l[49;175H5[23;25H[?25h[?25l[49;175H6[23;26H[?25h[?25l[49;175H7[23;27H[?25h[?25l[49;175H8[23;28H[?25h[?25l[49;175H9[23;29H[?25h[?25l[49;174H30[23;30H[?25h[?25l[49;175H1[23;31H[?25h[?25l[23;6H[106m([m[25C[34m[106m)[m[49;175H2[23;32H[?25h[?25l[49;175H3[23;33H[?25h[?25l[49;175H2[23;32H[?25h[?25l[34m[106m*[m[34m) { //check if allocations succeeded[23;32H*[m[34m[106m)[m[49;175H3[23;33H[?25h[?25l[34m[106m/[m) { [1C[34m/check if allocations succeeded[m
    fprintf([31mstderr[m, [17C[35m%s[m[3C, strerror(errno));
    exit([1C);
  }
  
  

  
  kv->key = k; 
  kv->value = v; 
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/[m


{[45;1H}[23;33H[34m/[m[106m)[m[49;175H4[23;34H[?25h[49;1H[K[23;33H[?25l[49;161H^[[23;33H[49;161H  [23;34H[23;6H([27C)[49;171H26,33[10C7%[23;33H[?25h[?25l[49;161H:[23;33H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 86L, 2374C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kadd_key_value[m[K’:
[01m[Kbug-program.c:26:34:[m[K [01;31m[Kerror: [m[Kexpected expression before ‘[01m[K)[m[K’ token
   if (kv == NULL || /*s == NULL*/[01;31m[K)[m[K { //check if allocations succeeded
                                  [01;31m[K^[m[K
[01m[Kbug-program.c:34:11:[m[K [01;35m[Kwarning: [m[Kassignment discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
   kv->key [01;35m[K=[m[K k; // was s instead of k
           [01;35m[K^[m[K
At top level:
[01m[Kbug-program.c:68:13:[m[K [01;35m[Kwarning: [m[K‘[01m[Kprint_kv[m[K’ defined but not used [[01;35m[K-Wunused-function[m[K]
 static void [01;35m[Kprint_kv[m[K(struct KeyValue * kv)
             [01;35m[K^~~~~~~~[m[K
make: *** [<builtin>: bug-program] Error 1
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.cmake[Kvim bug-program.cvalgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Kvalgrind --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim bug-program.cmake[Kvim bug-program.cmake[Kvim bug-program.c[Kvalgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 35L, 1768C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2910071== Memcheck, a memory error detector
==2910071== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2910071== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==2910071== Command: ./bug-program
==2910071==
==2910071== Invalid write of size 1
==2910071==    at 0x1091E4: add_key_value (bug-program.c:30)
==2910071==    by 0x1091E4: make_key_values (bug-program.c:62)
==2910071==    by 0x1091E4: main (bug-program.c:77)
==2910071==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2910071==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2910071==    by 0x1091D3: add_key_value (bug-program.c:24)
==2910071==    by 0x1091D3: make_key_values (bug-program.c:62)
==2910071==    by 0x1091D3: main (bug-program.c:77)
==2910071==
==2910071== Invalid read of size 1
==2910071==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2910071==    by 0x48CF9EE: vfprintf (vfprintf.c:1638)
==2910071==    by 0x48D6605: printf (printf.c:33)
==2910071==    by 0x10921A: main (bug-program.c:80)
==2910071==  Address 0x4a420a4 is 0 bytes after a block of size 4 alloc'd
==2910071==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2910071==    by 0x1091D3: add_key_value (bug-program.c:24)
==2910071==    by 0x1091D3: make_key_values (bug-program.c:62)
==2910071==    by 0x1091D3: main (bug-program.c:77)
==2910071==
==2910071==
==2910071== HEAP SUMMARY:
==2910071==     in use at exit: 0 bytes in 0 blocks
==2910071==   total heap usage: 3 allocs, 3 frees, 1,052 bytes allocated
==2910071==
==2910071== All heap blocks were freed -- no leaks are possible
==2910071==
==2910071== For counts of detected and suppressed errors, rerun with: -v
==2910071== ERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H8,1[11CAll[8;1H[?25h[?25l[49;161H^[[8;1H[49;161H  [8;1H[49;161H^[[8;1H[49;161H  [8;1H[?25h[?25l[49;161Hq[8;1H[?25h[?25l[49;162H:[8;1H[49;161H  [8;1H[49;1H[K[49;1H:[?2004h[1;13HCopyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.[2;13HUsing Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info[3;13HCommand: ./bug-program[3;35H[K[4;13H[K[5;13HInvalid write of size 1[6;13H   at 0x1091E4: add_key_value (bug-program.c:30)[7;16Hby[11Cmake_key_values (bug-program.c:62)[8;31Hin (bug-program.c:77)[8;52H[K[9;14HAddress 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[10;14H  at 0x483577F: malloc (vg_replace_malloc.c:299)[10;62H[K[11;16Hby 0x1091D3: add_key_value (bug-program.c:24)[11;61H[K[12;29Hmake_key_values (bug-program.c:62)[13;31Hin (bug-program.c:77)[13;52H[K[14;16H[K[15;13HInvalid read of size 1[16;13H   at 0x4838C74: strlen (vg_replace_strmem.c:460)[17;16Hby 0x48CF9EE: vfprintf (vfprintf.c:1638)[17;56H[K[18;23HD6605: printf (printf.c:33)[18;50H[K[19;21H10921A: main (bug-program.c:80)[20;14HAddress 0x4a420a4 is 0 bytes after a block of size 4 alloc'd[21;14H  at 0x483577F: malloc (vg_replace_malloc.c:299)[21;62H[K[22;16Hby 0x1091D3: add_key_value (bug-program.c:24)[22;61H[K[23;29Hmake_key_values (bug-program.c:62)[24;31Hin (bug-program.c:77)[24;52H[K[25;16H[K[27;13HHEAP SUMMARY:[28;13H    in use at exit: 0 bytes in 0 blocks[29;15Htotal heap usage: 3 allocs, 3 frees, 1,052 bytes allocated[30;15H[K[31;13HAll heap blocks were freed -- no leaks are possible[32;13H[K[33;13HFor counts of detected and suppressed errors, rerun with: -v[34;13HERROR SUMMARY: 2 errors from 2 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [m[40;1H[7mbug-program.valgrind                                                                                                                                                      8,1            Bot[m[41;1H[94m:[m[38;5;130mset[m linenumber on[41;19H[K[42;1H[94m:[m[38;5;130mw[m[42;3H[K[43;1H[94m:[m[38;5;130mq[m![43;4H[K[44;1H[94m:[m[38;5;130mq[m[44;3H[K[45;1H[94m:[m[38;5;130mset[m [35mnumber[m[45;12H[K[46;1H[94m:[m[38;5;130mwq[m[46;4H[K[47;1H[94m:[m[47;2H[K[48;1H[1m[7m[Command Line]                                                                                                                                                            15,0-1         Bot[47;2H[?25h[?25l[m[49;178H:^[[47;2H[49;179H  [47;2H[49;179H^[[47;2H[49;178H   [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178H^[[47;2H[49;178H  [47;2H[49;178H^[[47;2H[49;178H  [47;2H[?25h[?25l[49;178H~@k[47;2H[49;178H   [46;2H[48;172H[1m[7m4,1   [46;2H[?25h[?25l[m[49;178H~@k[46;2H[49;178H   [45;2H[48;172H[1m[7m3,[45;2H[?25h[?25l[m[49;178H~@k[45;2H[49;178H   [44;2H[48;172H[1m[7m2,[44;2H[?25h[?25l[m[49;178H~@k[44;2H[49;178H   [44;2H[41;47r[41;1H[L[1;49r[41;1H[94m:[m[38;5;130mwq[m![49;1H[K[48;172H[1m[7m1,[12C87%[44;2H[?25h[?25l[m[49;178H~@k[44;2H[49;178H   [44;2H[41;47r[47;1H
[1;49r[47;1H[94m:[m[48;172H[1m[7m2,[12CBot[44;2H[?25h[?25l[m[49;178H^M[44;2H[49;178H  [44;2H[49;1H[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim bug-program.valgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim bug-program.cmake[Kvalgrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[K
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kadd_key_value[m[K’:
[01m[Kbug-program.c:26:34:[m[K [01;31m[Kerror: [m[Kexpected expression before ‘[01m[K)[m[K’ token
   if (kv == NULL || /*s == NULL*/[01;31m[K)[m[K { //check if allocations succeeded
                                  [01;31m[K^[m[K
[01m[Kbug-program.c:34:11:[m[K [01;35m[Kwarning: [m[Kassignment discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
   kv->key [01;35m[K=[m[K k; // was s instead of k
           [01;35m[K^[m[K
At top level:
[01m[Kbug-program.c:68:13:[m[K [01;35m[Kwarning: [m[K‘[01m[Kprint_kv[m[K’ defined but not used [[01;35m[K-Wunused-function[m[K]
 static void [01;35m[Kprint_kv[m[K(struct KeyValue * kv)
             [01;35m[K^~~~~~~~[m[K
make: *** [<builtin>: bug-program] Error 1
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.valgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 86L, 2374C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k
[m  [34m//char *s = malloc(strlen(k));[m

  [38;5;130mif[m (kv == [31mNULL[m || [34m/*s == NULL*/[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }

  [34m//strcpy(s, k);  //copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = k; [34m// was s instead of k[m
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//free(keyValues->key);[m
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}[49;171H26,33[9CTop[26;33H[?25h[?25l[49;161H~@k[26;33H[49;161H   [27;33H[49;172H7[27;33H[?25h[?25l[49;161H~@k[27;33H[49;161H   [28;12H[49;172H8,12[28;12H[?25h[?25l[49;161H~@k[28;12H[49;161H   [29;3H[26;36H[106m{[29;3H}[m[49;172H9,3 [29;3H[?25h[?25l[49;161H~@k[29;3H[49;161H   [28;12H[26;36H{[29;3H}[49;172H8,12[28;12H[?25h[?25l[49;161H~@k[28;12H[49;161H   [28;11H[106m([1C)[m[49;175H1[28;11H[?25h[?25l[49;161H~@k[28;11H[49;161H   [28;10H([1C)[49;175H0[28;10H[?25h[?25l[49;161H~@k[28;10H[49;161H   [28;9H[106m([1C)[m[49;174H9 [28;9H[?25h[?25l[49;161H~@k[28;9H[49;161H   [28;8Ht([1C)[49;174H8[28;8H[?25h[?25l[49;161H~@k[28;8H[49;161H   [28;7H[49;174H7[28;7H[?25h[?25l[49;161H~@k[28;7H[49;161H   [27;7H[49;172H7[27;7H[?25h[?25l[49;161H:[27;7H[49;1H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 86L, 2374C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kadd_key_value[m[K’:
[01m[Kbug-program.c:26:34:[m[K [01;31m[Kerror: [m[Kexpected expression before ‘[01m[K)[m[K’ token
   if (kv == NULL || /*s == NULL*/[01;31m[K)[m[K { //check if allocations succeeded
                                  [01;31m[K^[m[K
[01m[Kbug-program.c:34:11:[m[K [01;35m[Kwarning: [m[Kassignment discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
   kv->key [01;35m[K=[m[K k; // was s instead of k
           [01;35m[K^[m[K
At top level:
[01m[Kbug-program.c:68:13:[m[K [01;35m[Kwarning: [m[K‘[01m[Kprint_kv[m[K’ defined but not used [[01;35m[K-Wunused-function[m[K]
 static void [01;35m[Kprint_kv[m[K(struct KeyValue * kv)
             [01;35m[K^~~~~~~~[m[K
make: *** [<builtin>: bug-program] Error 1
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 86L, 2374C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k
[m  [34m//char *s = malloc(strlen(k));[m

  [38;5;130mif[m (kv == [31mNULL[m || [34m/*s == NULL*/[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }

  [34m//strcpy(s, k);  //copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = k; [34m// was s instead of k[m
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//free(keyValues->key);[m
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}[49;171H27,7[10CTop[27;7H[?25h[?25l[49;161H~@k[27;7H[49;161H   [26;7H[49;172H6[26;7H[?25h[?25l[49;161H~@k[26;7H[49;161H   [26;8H[49;174H8[26;8H[?25h[?25l[49;161H~@k[26;8H[49;161H   [26;9H[49;174H9[26;9H[?25h[?25l[49;161H~@k[26;9H[49;161H   [26;10H[49;174H10[26;10H[?25h[?25l[49;161H~@k[26;10H[49;161H   [26;11H[49;175H1[26;11H[?25h[?25l[49;161H~@k[26;11H[49;161H   [26;12H[49;175H2[26;12H[?25h[?25l[49;161H~@k[26;12H[49;161H   [26;13H[49;175H3[26;13H[?25h[?25l[49;161H~@k[26;13H[49;161H   [26;14H[49;175H4[26;14H[?25h[?25l[49;161H~@k[26;14H[49;161H   [26;15H[49;175H5[26;15H[?25h[?25l[49;161H~@k[26;15H[49;161H   [26;16H[49;175H6[26;16H[?25h[?25l[49;161H~@k[26;16H[49;161H   [26;17H[49;175H7[26;17H[?25h[?25l[49;161H~@k[26;17H[49;161H   [26;18H[49;175H8[26;18H[?25h[?25l[49;161H/[26;18H[49;1H[K[49;1H/[?2004h[?25h [?25l[26;18H[49;171H26,18[9CTop[26;18H[?25h[?25l[49;161H^[[26;18H[49;161H  [26;18H[49;161H^[[26;18H[49;161H  [26;18H[?25h[?25l[49;161Hi[26;18H[49;161H [26;18H[49;1H[1m-- INSERT --[m[49;171H[K[49;171H26,18[9CTop[26;18H[?25h[?25l/|| [34m/*s == NULL*/[m) { [1C[34m/check if allocations succeeded[m[49;175H9[26;19H[?25h[?25l[34m/*|| [m[97m[101m/[m[34m*s == NULL*/[m) { [1C[34m/check if allocations succeeded[m[49;174H20[26;20H[?25h[?25l[49;175H1[26;21H[?25h[?25l[49;175H2[26;22H[?25h[?25l[49;175H3[26;23H[?25h[?25l[34m*s == NULL*/[m) { [34m//check if allocations succeeded[m[26;71H[K[26;23H[?25h[?25l[34ms == NULL*/[m) { [34m//check if allocations succeeded[m[26;70H[K[26;23H[?25h[49;1H[K[26;22H[?25l[49;161H^[[26;22H[49;161H  [26;23H[49;171H26,22[9CTop[26;22H[?25h[?25l[49;161H:[26;22H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 86L, 2374C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim bug-program.cmake[K
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kadd_key_value[m[K’:
[01m[Kbug-program.c:34:11:[m[K [01;35m[Kwarning: [m[Kassignment discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
   kv->key [01;35m[K=[m[K k; // was s instead of k
           [01;35m[K^[m[K
At top level:
[01m[Kbug-program.c:68:13:[m[K [01;35m[Kwarning: [m[K‘[01m[Kprint_kv[m[K’ defined but not used [[01;35m[K-Wunused-function[m[K]
 static void [01;35m[Kprint_kv[m[K(struct KeyValue * kv)
             [01;35m[K^~~~~~~~[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.cmake[Kvim bug-program.cmake[K
make: Nothing to be done for 'all'.
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.cmake[Kvim bug-program.cmake[Kvim bug-program.valgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim bug-program.cmake[Kvim bug-program.cmake[Kvim bug-program.valgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 14L, 651C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2910357== Memcheck, a memory error detector
==2910357== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2910357== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==2910357== Command: ./bug-program
==2910357==
==2910357==
==2910357== HEAP SUMMARY:
==2910357==     in use at exit: 0 bytes in 0 blocks
==2910357==   total heap usage: 2 allocs, 2 frees, 1,048 bytes allocated
==2910357==
==2910357== All heap blocks were freed -- no leaks are possible
==2910357==
==2910357== For counts of detected and suppressed errors, rerun with: -v
==2910357== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [16;1H~                                                                                                                                                                                           [17;1H~                                                                                                                                                                                           [18;1H~                                                                                                                                                                                           [19;1H~                                                                                                                                                                                           [20;1H~                                                                                                                                                                                           [21;1H~                                                                                                                                                                                           [22;1H~                                                                                                                                                                                           [23;1H~                                                                                                                                                                                           [24;1H~                                                                                                                                                                                           [25;1H~                                                                                                                                                                                           [26;1H~                                                                                                                                                                                           [27;1H~                                                                                                                                                                                           [28;1H~                                                                                                                                                                                           [29;1H~                                                                                                                                                                                           [30;1H~                                                                                                                                                                                           [31;1H~                                                                                                                                                                                           [32;1H~                                                                                                                                                                                           [33;1H~                                                                                                                                                                                           [34;1H~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H8,1[11CAll[8;1H[?25h[?25l[49;161H~@k[8;1H[49;161H   [7;1H[49;171H7[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [6;1H[49;171H6[6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [5;1H[49;171H5[5;1H[?25h[?25l[49;161H~@k[5;1H[49;161H   [4;1H[49;171H4[4;1H[?25h[?25l[49;161H~@k[4;1H[49;161H   [3;1H[49;171H3[3;1H[?25h[?25l[49;161H~@k[3;1H[49;161H   [2;1H[49;171H2[2;1H[?25h[?25l[49;161H~@k[2;1H[49;161H   [1;1H[49;171H1[1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H:[1;1H[49;1H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.valgrind" 14L, 651C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim bug-program.valgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kvim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 86L, 2374C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [34m//allocate storage for string pointed to by k
[m  [34m//char *s = malloc(strlen(k));[m

  [38;5;130mif[m (kv == [31mNULL[m [34m/*|| s == NULL*/[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }

  [34m//strcpy(s, k);  //copy string k into newly allocated memory pointed to by s

[m  [34m//initialize fields of *kv.[m
  kv->key = k; [34m// was s instead of k[m
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [34m//free(keyValues->key);[m
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}[49;171H26,22[9CTop[26;22H[?25h[?25l[49;161H~@k[26;22H[49;161H   [27;22H[49;172H7[27;22H[?25h[?25l[49;161H~@k[27;22H[49;161H   [26;22H[49;172H6[26;22H[?25h[?25l[49;161H~@k[26;22H[49;161H   [26;23H[49;175H3[26;23H[?25h[?25l[49;161H~@k[26;23H[49;161H   [26;24H[49;175H4[26;24H[?25h[?25l[49;161H~@k[26;24H[49;161H   [26;25H[49;175H5[26;25H[?25h[?25l[49;161H~@k[26;25H[49;161H   [26;26H[49;175H6[26;26H[?25h[?25l[49;161H~@k[26;26H[49;161H   [26;27H[49;175H7[26;27H[?25h[?25l[49;161H~@k[26;27H[49;161H   [26;28H[49;175H8[26;28H[?25h[?25l[49;161H~@k[26;28H[49;161H   [26;29H[49;175H9[26;29H[?25h[?25l[49;161H~@k[26;29H[49;161H   [26;30H[49;174H30[26;30H[?25h[?25l[49;161H~@k[26;30H[49;161H   [26;31H[49;175H1[26;31H[?25h[?25l[49;161H~@k[26;31H[49;161H   [26;32H[49;175H2[26;32H[?25h[?25l[49;161H~@k[26;32H[49;161H   [26;33H[49;175H3[26;33H[?25h[?25l[49;161H~@k[26;33H[49;161H   [26;34H[26;6H[106m([27C)[m[49;175H4[26;34H[?25h[?25l[49;161H~@k[26;34H[49;161H   [26;35H[26;6H([27C)[49;175H5[26;35H[?25h[?25l[49;161H~@k[26;35H[49;161H   [26;34H[26;6H[106m([27C)[m[49;175H4[26;34H[?25h[?25l[49;161H~@k[26;34H[49;161H   [26;33H[26;6H([27C)[49;175H3[26;33H[?25h[?25l[49;161H~@k[26;33H[49;161H   [26;32H[49;175H2[26;32H[?25h[?25l[49;161H~@k[26;32H[49;161H   [26;31H[49;175H1[26;31H[?25h[?25l[49;161H~@k[26;31H[49;161H   [26;30H[49;175H0[26;30H[?25h[?25l[49;161H~@k[26;30H[49;161H   [26;29H[49;174H29[26;29H[?25h[?25l[49;161H~@k[26;29H[49;161H   [26;28H[49;175H8[26;28H[?25h[?25l[49;161H~@k[26;28H[49;161H   [26;27H[49;175H7[26;27H[?25h[?25l[49;161H~@k[26;27H[49;161H   [26;26H[49;175H6[26;26H[?25h[?25l[49;161H~@k[26;26H[49;161H   [26;25H[49;175H5[26;25H[?25h[?25l[49;161H~@k[26;25H[49;161H   [26;24H[49;175H4[26;24H[?25h[?25l[49;161H~@k[26;24H[49;161H   [26;23H[49;175H3[26;23H[?25h[?25l[49;161H~@k[26;23H[49;161H   [26;22H[49;175H2[26;22H[?25h[?25l[49;161H~@k[26;22H[49;161H   [26;21H[49;175H1[26;21H[?25h[?25l[49;161H~@k[26;21H[49;161H   [26;20H[49;175H0[26;20H[?25h[?25l[49;161H~@k[26;20H[49;161H   [26;19H[49;174H19[26;19H[?25h[?25l[49;161H~@k[26;19H[49;161H   [26;18H[49;175H8[26;18H[?25h[?25l[49;161Hi[26;18H[49;161H [26;18H[49;1H[1m-- INSERT --[m[49;13H[K[49;171H26,18[9CTop[26;18H[?25h[?25l*|| s == [31mNULL[m[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;69H[K[26;18H[?25h[?25l|| s == [31mNUL[m[1C[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;68H[K[26;18H[?25h[?25l| s == [31mNUL[m[1C[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;67H[K[26;18H[?25h[?25l s == [31mNUL[m[1C[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;66H[K[26;18H[?25h[?25ls == [31mNUL[m[1C[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;65H[K[26;18H[?25h[?25l == [31mNUL[m[1C[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;64H[K[26;18H[?25h[?25l== [31mNUL[m[1C[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;63H[K[26;18H[?25h[?25l= [31mNUL[m[1C[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;62H[K[26;18H[?25h[?25l [31mNUL[m[1C[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;61H[K[26;18H[?25h[?25l[31mNUL[m[1C[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;60H[K[26;18H[?25h[?25lULL[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;59H[K[26;18H[?25h[?25lLL[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;58H[K[26;18H[?25h[?25lL[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;57H[K[26;18H[?25h[?25l[97m[101m*/[m) { [34m//check if allocations succeeded[m[26;56H[K[26;18H[?25h[?25l/) { [34m//check if allocations succeeded[m[26;55H[K[26;18H[?25h[?25l) { [34m//check if allocations succeeded[m[26;54H[K[26;6H[106m([11C)[?25h[?25l[m)[106m [m{ [34m//check if allocations succeeded[m[26;53H[K[26;17H[106m)[m [49;175H7[26;17H[?25h[?25l[26;6H([10C)[49;172H7[27;17H[?25h[?25l[49;172H8,13[28;13H[?25h[?25l[26;19H[106m{[29;3H}[m[49;172H9,4 [29;4H[?25h[?25l[26;19H{[29;3H}[49;171H30,3[30;3H[?25h[?25l[49;172H1,17[31;17H[?25h[?25l[49;172H2,1 [32;1H[?25h[?25l[31;48r[48;1H
[1;49r[31;3H[34m//strcpy(s, k);  //copy string k into newly allocated memory pointed to by s[m[49;171H[K[49;171H31,79[9CTop[31;79H[?25h[?25l[31;78H[K[49;175H8[31;78H[?25h[?25l[31;77H[K[49;175H7[31;77H[?25h[?25l[31;76H[K[49;175H6[31;76H[?25h[?25l[31;75H[K[49;175H5[31;75H[?25h[?25l[31;74H[K[49;175H4[31;74H[?25h[?25l[31;73H[K[49;175H3[31;73H[?25h[?25l[31;72H[K[49;175H2[31;72H[?25h[?25l[31;71H[K[49;175H1[31;71H[?25h[?25l[31;70H[K[49;175H0[31;70H[?25h[?25l[31;69H[K[49;174H69[31;69H[?25h[?25l[31;68H[K[49;175H8[31;68H[?25h[?25l[31;67H[K[49;175H7[31;67H[?25h[?25l[31;66H[K[49;175H6[31;66H[?25h[?25l[31;65H[K[49;175H5[31;65H[?25h[?25l[31;64H[K[49;175H4[31;64H[?25h[?25l[31;63H[K[49;175H3[31;63H[?25h[?25l[31;62H[K[49;175H2[31;62H[?25h[?25l[31;61H[K[49;175H1[31;61H[?25h[?25l[31;60H[K[49;175H0[31;60H[?25h[?25l[31;59H[K[49;174H59[31;59H[?25h[?25l[31;58H[K[49;175H8[31;58H[?25h[?25l[31;57H[K[49;175H7[31;57H[?25h[?25l[31;56H[K[49;175H6[31;56H[?25h[?25l[31;55H[K[49;175H5[31;55H[?25h[?25l[31;54H[K[49;175H4[31;54H[?25h[?25l[31;53H[K[49;175H3[31;53H[?25h[?25l[31;52H[K[49;175H2[31;52H[?25h[?25l[31;51H[K[49;175H1[31;51H[?25h[?25l[31;50H[K[49;175H0[31;50H[?25h[?25l[31;49H[K[49;174H49[31;49H[?25h[?25l[31;48H[K[49;175H8[31;48H[?25h[?25l[31;47H[K[49;175H7[31;47H[?25h[?25l[31;46H[K[49;175H6[31;46H[?25h[?25l[31;45H[K[49;175H5[31;45H[?25h[?25l[31;44H[K[49;175H4[31;44H[?25h[?25l[31;43H[K[49;175H3[31;43H[?25h[?25l[31;42H[K[49;175H2[31;42H[?25h[?25l[31;41H[K[49;175H1[31;41H[?25h[?25l[31;40H[K[49;175H0[31;40H[?25h[?25l[31;39H[K[49;174H39[31;39H[?25h[?25l[31;38H[K[49;175H8[31;38H[?25h[?25l[31;37H[K[49;175H7[31;37H[?25h[?25l[31;36H[K[49;175H6[31;36H[?25h[?25l[31;35H[K[49;175H5[31;35H[?25h[?25l[31;34H[K[49;175H4[31;34H[?25h[?25l[31;33H[K[49;175H3[31;33H[?25h[?25l[31;32H[K[49;175H2[31;32H[?25h[?25l[31;31H[K[49;175H1[31;31H[?25h[?25l[31;30H[K[49;175H0[31;30H[?25h[?25l[31;29H[K[49;174H29[31;29H[?25h[?25l[31;28H[K[49;175H8[31;28H[?25h[?25l[31;27H[K[49;175H7[31;27H[?25h[?25l[31;26H[K[49;175H6[31;26H[?25h[?25l[31;25H[K[49;175H5[31;25H[?25h[?25l[31;24H[K[49;175H4[31;24H[?25h[?25l[31;23H[K[49;175H3[31;23H[?25h[?25l[31;22H[K[49;175H2[31;22H[?25h[?25l[31;21H[K[49;175H1[31;21H[?25h[?25l[31;20H[K[49;175H0[31;20H[?25h[?25l[31;19H[K[49;174H19[31;19H[?25h[?25l[31;18H[K[49;175H8[31;18H[?25h[?25l[31;17H[K[31;11H[34m[106m([4C)[m[49;175H7[31;17H[?25h[?25l[31;16H[K[31;11H[34m([m[49;175H6[31;16H[?25h[?25l[31;15H[K[49;175H5[31;15H[?25h[?25l[31;14H[K[49;175H4[31;14H[?25h[?25l[31;13H[K[49;175H3[31;13H[?25h[?25l[31;12H[K[49;175H2[31;12H[?25h[?25l[31;11H[K[49;175H1[31;11H[?25h[?25l[31;10H[K[49;175H0[31;10H[?25h[?25l[31;9H[K[49;174H9 [31;9H[?25h[?25l[31;8H[K[49;174H8[31;8H[?25h[?25l[31;7H[K[49;174H7[31;7H[?25h[?25l[31;6H[K[49;174H6[31;6H[?25h[?25l[31;5H[K[49;174H5[31;5H[?25h[?25l/[31;4H[K[49;174H4[31;4H[?25h[?25l[31;3H[K[49;174H3[31;3H[?25h[?25l[49;174H2[31;2H[?25h[?25l[49;174H1[31;1H[?25h[?25l[30;48r[48;1H
[1;49r[48;1H[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H[K[49;171H30,3[10CTop[30;3H[?25h[?25l[49;172H1[31;3H[?25h[?25l[49;172H2[32;3H[?25h[?25l[49;175H7[32;37H[?25h[?25l[32;36H[K[49;175H6[32;36H[?25h[?25l[32;35H[K[49;175H5[32;35H[?25h[?25l[32;34H[K[49;175H4[32;34H[?25h[?25l[32;33H[K[49;175H3[32;33H[?25h[?25l[32;32H[K[49;175H2[32;32H[?25h[?25l[32;31H[K[49;175H1[32;31H[?25h[?25l[32;30H[K[49;175H0[32;30H[?25h[?25l[32;29H[K[49;174H29[32;29H[?25h[?25l[32;28H[K[49;175H8[32;28H[?25h[?25l[32;27H[K[49;175H7[32;27H[?25h[?25l[32;26H[K[49;175H6[32;26H[?25h[?25l[32;25H[K[49;175H5[32;25H[?25h[?25l[32;24H[K[49;175H4[32;24H[?25h[?25l[32;23H[K[49;175H3[32;23H[?25h[?25l[32;22H[K[49;175H2[32;22H[?25h[?25l[32;21H[K[49;175H1[32;21H[?25h[?25l[32;20H[K[49;175H0[32;20H[?25h[?25l[32;19H[K[49;174H19[32;19H[?25h[?25l[32;18H[K[49;175H8[32;18H[?25h[?25l/[32;17H[K[49;175H7[32;17H[?25h[?25l[32;16H[K[49;175H6[32;16H[?25h[?25l[49;175H5[32;15H[?25h[?25l[49;172H1[31;15H[?25h[?25l[49;172H0,3 [30;3H[?25h[?25l[26;19H[106m{[29;3H}[m[49;171H29,4[29;4H[?25h[?25l[26;19H{[29;3H}[49;172H8,13[28;13H[?25h[?25l[49;172H7,15[27;15H[?25h[?25l[49;172H6[26;15H[?25h[?25l[49;172H5,1 [25;1H[?25h[?25l[49;172H4,15[24;15H[?25h[?25l[49;172H3[23;15H[?25h[?25l[49;172H4[24;15H[?25h[?25l[49;174H33[24;33H[?25h[?25l[24;32H[K[24;21H[34m[106m([9C)[m[49;175H2[24;32H[?25h[?25l[24;31H[K[24;21H[34m([m[6C[34m[106m([1C)[m[49;175H1[24;31H[?25h[?25l[24;30H[K[24;28H[34m([m[49;175H0[24;30H[?25h[?25l[24;29H[K[49;174H29[24;29H[?25h[?25l[24;28H[K[49;175H8[24;28H[?25h[?25l[24;27H[K[49;175H7[24;27H[?25h[?25l[24;26H[K[49;175H6[24;26H[?25h[?25l[24;25H[K[49;175H5[24;25H[?25h[?25l[24;24H[K[49;175H4[24;24H[?25h[?25l[24;23H[K[49;175H3[24;23H[?25h[?25l[24;22H[K[49;175H2[24;22H[?25h[?25l[24;21H[K[49;175H1[24;21H[?25h[?25l[24;20H[K[49;175H0[24;20H[?25h[?25l[24;19H[K[49;174H19[24;19H[?25h[?25l[24;18H[K[49;175H8[24;18H[?25h[?25l[24;17H[K[49;175H7[24;17H[?25h[?25l[24;16H[K[49;175H6[24;16H[?25h[?25l[24;15H[K[49;175H5[24;15H[?25h[?25l[24;14H[K[49;175H4[24;14H[?25h[?25l[24;13H[K[49;175H3[24;13H[?25h[?25l[24;12H[K[49;175H2[24;12H[?25h[?25l[24;11H[K[49;175H1[24;11H[?25h[?25l[24;10H[K[49;175H0[24;10H[?25h[?25l[24;9H[K[49;174H9 [24;9H[?25h[?25l[24;8H[K[49;174H8[24;8H[?25h[?25l[24;7H[K[49;174H7[24;7H[?25h[?25l[24;6H[K[49;174H6[24;6H[?25h[?25l[24;5H[K[49;174H5[24;5H[?25h[?25l/[24;4H[K[49;174H4[24;4H[?25h[?25l[24;3H[K[49;174H3[24;3H[?25h[?25l[49;174H2[24;2H[?25h[?25l[49;174H1[24;1H[?25h[?25l[23;48r[48;1H
[1;49r[23;3H[34m//allocate storage for string pointed to by k[48;1H *  Jabberwocky with value being the index of the word.[m[49;171H[K[49;171H23,48[9CTop[23;48H[?25h[?25l[23;47H[K[49;175H7[23;47H[?25h[?25l[23;46H[K[49;175H6[23;46H[?25h[?25l[23;45H[K[49;175H5[23;45H[?25h[?25l[23;42H[K[49;175H2[23;42H[?25h[?25l[23;41H[K[49;175H1[23;41H[?25h[?25l[23;40H[K[49;175H0[23;40H[?25h[?25l[23;39H[K[49;174H39[23;39H[?25h[?25l[23;38H[K[49;175H8[23;38H[?25h[?25l[23;37H[K[49;175H7[23;37H[?25h[?25l[23;36H[K[49;175H6[23;36H[?25h[?25l[23;35H[K[49;175H5[23;35H[?25h[?25l[23;34H[K[49;175H4[23;34H[?25h[?25l[23;33H[K[49;175H3[23;33H[?25h[?25l[23;32H[K[49;175H2[23;32H[?25h[?25l[23;31H[K[49;175H1[23;31H[?25h[?25l[23;30H[K[49;175H0[23;30H[?25h[?25l[23;29H[K[49;174H29[23;29H[?25h[?25l[23;28H[K[49;175H8[23;28H[?25h[?25l[23;27H[K[49;175H7[23;27H[?25h[?25l[23;26H[K[49;175H6[23;26H[?25h[?25l[23;25H[K[49;175H5[23;25H[?25h[?25l[23;24H[K[49;175H4[23;24H[?25h[?25l[23;23H[K[49;175H3[23;23H[?25h[?25l[23;22H[K[49;175H2[23;22H[?25h[?25l[23;21H[K[49;175H1[23;21H[?25h[?25l[23;20H[K[49;175H0[23;20H[?25h[?25l[23;19H[K[49;174H19[23;19H[?25h[?25l[23;18H[K[49;175H8[23;18H[?25h[?25l[23;17H[K[49;175H7[23;17H[?25h[?25l[23;16H[K[49;175H6[23;16H[?25h[?25l[23;15H[K[49;175H5[23;15H[?25h[?25l[23;14H[K[49;175H4[23;14H[?25h[?25l[23;13H[K[49;175H3[23;13H[?25h[?25l[23;12H[K[49;175H2[23;12H[?25h[?25l[23;11H[K[49;175H1[23;11H[?25h[?25l[23;10H[K[49;175H0[23;10H[?25h[?25l[23;9H[K[49;174H9 [23;9H[?25h[?25l[23;8H[K[49;174H8[23;8H[?25h[?25l[23;7H[K[49;174H7[23;7H[?25h[?25l[23;6H[K[49;174H6[23;6H[?25h[?25l[23;5H[K[49;174H5[23;5H[?25h[?25l/[23;4H[K[49;174H4[23;4H[?25h[?25l[23;3H[K[49;174H3[23;3H[?25h[?25l[49;174H2[23;2H[?25h[?25l[49;174H1[23;1H[?25h[?25l[22;48r[48;1H
[1;49r[48;1H[34m */[m[49;171H[K[49;171H22,1[10CTop[22;1H[?25h[?25l[21;48r[48;1H
[1;49r[21;3H[32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));[48;1H[32mstatic[m [32mstruct[m KeyValue *[49;171H[K[49;171H21,57[9CTop[21;57H[?25h[?25l[49;172H2,1 [22;1H[?25h[?25l[49;172H3,53[23;53H[?25h[?25l[49;172H4,57[24;57H[?25h[?25l[49;172H5,13[25;13H[?25h[?25l[23;19H[106m{[26;3H}[m[49;172H6,4 [26;4H[?25h[?25l[23;19H{[26;3H}[49;172H7,3[27;3H[?25h[?25l[49;172H8,30[28;30H[?25h[?25l[49;172H9,15[29;15H[?25h[?25l[49;171H30,18[30;18H[?25h[?25l[49;172H1,24[31;24H[?25h[?25l[49;172H2,1 [32;1H[?25h[?25l[49;172H3,13[33;13H[?25h[?25l[19;1H[106m{[34;1H}[m[49;172H4,2 [34;2H[?25h[?25l[19;1H{[34;1H}[49;172H5,1[35;1H[?25h[?25l[49;172H6,46[36;46H[?25h[?25l[49;172H7,12[37;12H[?25h[?25l[38;16H[106m([26C)[m[49;172H8,44[38;44H[?25h[?25l[38;16H([26C)
[106m{[43;1H}[m[49;172H9,2 [39;2H[?25h[?25l{[43;1H}[49;171H40,26[40;26H[?25h[?25l[49;172H1,57[41;57H[?25h[?25l[49;172H2,19[42;19H[?25h[?25l[1;48r[1;1H[4M[1;49r[45;1Hmake_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,
    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[49;171H[K[49;171H47,4[10C12%[43;4H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[34m    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[49;171H[K[49;171H48,25[9C15%[43;25H[?25h[?25l[49;172H7,4 [42;4H[?25h[?25l[49;172H6,56[41;56H[?25h[?25l[49;172H5,57[40;57H[?25h[?25l[49;172H4,1 [39;1H[?25h[?25l[34;1H[106m{[38;1H}[m[49;172H3,2[38;2H[?25h[?25l[34;1H{[38;1H}[49;172H2,19[37;19H[?25h[?25l[49;172H1,57[36;57H[?25h[?25l[49;172H0,26[35;26H[?25h[?25l[35;25H[K[35;9H[34m[106m([14C)[m[49;175H5[35;25H[?25h[?25l[35;24H[K[35;9H[34m([m[49;175H4[35;24H[?25h[?25l[35;23H[K[49;175H3[35;23H[?25h[?25l[35;22H[K[49;175H2[35;22H[?25h[?25l[35;21H[K[49;175H1[35;21H[?25h[?25l[35;20H[K[49;175H0[35;20H[?25h[?25l[35;19H[K[49;174H19[35;19H[?25h[?25l[35;18H[K[49;175H8[35;18H[?25h[?25l[35;17H[K[49;175H7[35;17H[?25h[?25l[35;16H[K[49;175H6[35;16H[?25h[?25l[35;15H[K[49;175H5[35;15H[?25h[?25l[35;14H[K[49;175H4[35;14H[?25h[?25l[35;13H[K[49;175H3[35;13H[?25h[?25l[35;12H[K[49;175H2[35;12H[?25h[?25l[35;11H[K[49;175H1[35;11H[?25h[?25l[35;10H[K[49;175H0[35;10H[?25h[?25l[35;9H[K[49;174H9 [35;9H[?25h[?25l[35;8H[K[49;174H8[35;8H[?25h[?25l[35;7H[K[49;174H7[35;7H[?25h[?25l[35;6H[K[49;174H6[35;6H[?25h[?25l[35;5H[K[49;174H5[35;5H[?25h[?25l/[35;4H[K[49;174H4[35;4H[?25h[?25l[35;3H[K[49;174H3[35;3H[?25h[?25l[49;174H2[35;2H[?25h[?25l[49;174H1[35;1H[?25h[?25l[34;48r[48;1H
[1;49r[34;1H{[48;1H[34m    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m[49;171H[K[49;171H39,2[10C15%[34;1H[106m{


}[34;2H[?25h[?25l[m{


}[49;171H40[35;2H[?25h[?25l[34;1H[106m{


}[m[49;171H39[34;2H[?25h[?25l{


}[49;172H8[33;2H[?25h[?25l[14;1H[106m{[29;1H}[m[49;172H4[29;2H[?25h[?25l[14;1H{[29;1H}[49;172H0[25;2H[?25h[?25l[49;171H29[24;2H[?25h[?25l[49;172H8[23;2H[?25h[?25l[49;172H7[22;2H[?25h[?25l[49;172H6[21;2H[?25h[?25l[49;172H5[20;2H[?25h[?25l[49;172H1[16;2H[?25h[?25l[49;171H17[12;2H[?25h[?25l[49;172H6[11;2H[?25h[?25l[49;172H5[10;2H[?25h[?25l[49;172H4[9;2H[?25h[?25l[49;172H3[8;2H[?25h[?25l[1;48r[1;1H[2L[1;49r[1;1H[35m#include [m[31m<string.h>[m[49;171H[K[49;171H9,2[12C9%[6;2H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[35m#include [m[31m<stdlib.h>[m[49;171H[K[49;171H8,2[12C6%[6;2H[?25h[?25l[1;48r[1;1H[2L[1;49r[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m[49;171H[K[49;171H4,2[11CTop[4;2H[?25h[?25l[49;171H3[3;2H[?25h[?25l[49;171H2[2;2H[?25h[?25l[49;171H1[1;2H[?25h[?25l[49;171H2[2;2H[?25h[?25l[49;171H3[3;2H[?25h[?25l[49;171H4[4;2H[?25h[?25l[49;171H5,1[5;1H[?25h[?25l[49;171H6,2[6;2H[?25h[?25l[49;171H7[7;2H[?25h[?25l[49;171H8[8;2H[?25h[?25l[49;171H9[9;2H[?25h[?25l[49;171H10,2[10;2H[?25h[?25l[7;17H[106m{[11;1H}[m[49;172H1[11;2H[?25h[?25l[7;17H{[11;1H}[49;172H2,1[12;1H[?25h[?25l[49;172H3,2[13;2H[?25h[?25l[49;172H4[14;2H[?25h[?25l[49;172H5[15;2H[?25h[?25l[49;172H6[16;2H[?25h[?25l[49;172H7[17;2H[?25h[?25l[49;172H8[18;2H[?25h[?25l
[106m{[34;1H}[m[49;172H9[19;2H[?25h[?25l{[34;1H}[49;171H20[20;2H[?25h[?25l[49;172H1[21;2H[?25h[?25l[49;172H2,1[22;1H[?25h[?25l[49;172H3,2[23;2H[?25h[?25l[49;172H4[24;2H[?25h[?25l[49;172H5[25;2H[?25h[?25l[49;172H6[26;2H[?25h[?25l[49;172H7[27;2H[?25h[?25l[19;1H[106m{[34;1H}[m[49;171H34[34;2H[?25h[?25l[19;1H{[34;1H}[49;172H5,1[35;1H[?25h[?25l[49;172H6,2[36;2H[?25h[?25l[49;172H7[37;2H[?25h[?25l[49;172H8[38;2H[?25h[?25l
[106m{


}[m[49;172H9[39;2H[?25h[?25l{


}[49;171H40[40;2H[?25h[?25l[49;172H1[41;2H[?25h[?25l[39;1H[106m{


}[m[49;172H2[42;2H[?25h[?25l[39;1H{


}[49;172H3,1[43;1H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[32mconst[m [32mchar[m *keys[] = {[49;171H[K[49;171H44,2[11C3%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;5H[31m"twas"[m,};[34m/* [m[31m"brillig"[m[34m, [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"slithy"[m[34m, [m[31m"toves"[m[34m,[m[49;171H[K[49;171H45,2[11C6%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[34m    [m[31m"did"[m[34m, [m[31m"gyre"[m[34m, [m[31m"and"[m[34m, [m[31m"gimble"[m[34m, [m[31m"in"[m[34m, [m[31m"the"[m[34m, [m[31m"wabe"[m[34m,[m[49;171H[K[49;171H46,2[11C9%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[34m    [m[31m"all"[m[34m, [m[31m"mimsy"[m[34m, [m[31m"were"[m[34m, [m[31m"the"[m[34m, [m[31m"borogoves"[m[34m,[m[49;171H[K[49;171H47,2[10C12%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[34m    [m[31m"and"[m[34m, [m[31m"the"[m[34m, [m[31m"mome"[m[34m, [m[31m"raths"[m[34m, [m[31m"outgrabe"[m[34m,[m[49;171H[K[49;171H48,2[10C15%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[34m  };*/[m[49;171H[K[49;171H49,2[10C18%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[32mstruct[m KeyValue *p = [31mNULL[m;[49;171H[K[49;171H50,2[10C21%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {[49;171H[K[49;171H51,2[10C25%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;5Hp = add_key_value(p, keys[i], i);[49;171H[K[49;171H52,2[10C28%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H}[49;171H[K[49;171H53,2[10C31%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[38;5;130mreturn[m p;[49;171H[K[49;171H54,2[10C34%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H}[49;171H[K[49;171H55,2[10C37%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[49;171H[K[49;171H56,2[10C40%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)[49;171H[K[49;171H57,2[10C43%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H{[49;171H[K[49;171H58,2[10C46%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);[49;171H[K[49;171H59,2[10C50%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[49;171H[K[49;171H60,2[10C53%[31;23H[106m{[43;1H}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H}[49;171H[K[49;171H61,1[10C56%[30;23H{[42;1H}
[?25h[?25l[1;48r[48;1H
[1;49r[49;171H[K[49;171H62,2[10C59%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[34m/** Print out all the words in the first verse of Carroll's Jabberwocky[m[49;171H[K[49;171H63,2[10C62%[43;1H[106m{


}[43;2H[?25h[?25l[1;48r[m[48;1H
[1;49r[48;1H[34m *  paired with their index in the verse.[m[49;171H[K[49;171H64,2[10C65%[42;1H{


}[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[34m */[m[49;171H[K[49;171H65,2[10C68%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H[32mint[m main() {[49;171H[K[49;171H66,2[10C71%[40;1H[106m{


}[?25h[?25l[1;48r[m[48;1H
[1;49r[48;3H[32mstruct[m KeyValue *keyValues = make_key_values();[49;171H[K[49;171H67,1[10C75%[39;1H{


}
[?25h[?25l[1;48r[48;1H
[1;49r[49;171H[K[49;171H68,2[10C78%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {[49;171H[K[49;171H69,2[10C81%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;5Hprintf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);[49;171H[K[49;171H70,2[10C84%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H}[49;171H[K[49;171H71,2[10C87%[43;2H[?25h[?25l[1;48r[48;1H
[1;49r[49;171H[K[49;171H72,2[10C90%[43;2H[?25h[?25l[49;172H1[42;2H[?25h[?25l[49;172H0[41;2H[?25h[?25l[49;171H69[40;2H[?25h[?25l[49;172H8[39;2H[?25h[?25l[49;172H7,1[38;1H[?25h[?25l[34;1H[106m{


}[m[49;172H6,2[37;2H[?25h[?25l[34;1H{


}[49;172H5[36;2H[?25h[?25l[49;172H4[35;2H[?25h[?25l[34;1H[106m{


}[m[49;172H3[34;2H[?25h[?25l{


}[49;172H2[33;2H[?25h[?25l[49;172H1,1[32;1H[?25h[?25l[19;23H[106m{[31;1H}[m[49;172H0,2[31;2H[?25h[?25l[19;23H{[31;1H}[49;171H59[30;2H[?25h[?25l[49;172H8[29;2H[?25h[?25l[49;172H7[28;2H[?25h[?25l[49;172H6[27;2H[?25h[?25l[49;172H5[26;2H[?25h[?25l[49;172H4[25;2H[?25h[?25l[19;23H[106m{[m[25;3H[34m[106m}[m[49;174H3[25;3H[?25h[?25l[49;174H4[25;4H[?25h[?25l[19;23H{[25;3H[34m}[m[49;174H5[25;5H[?25h[?25l[49;174H6[25;6H[?25h[?25l[49;174H7[25;7H[?25h[?25l[25;6H[K[26;1H[34m  struct KeyValue *p = NULL;
  for (int i = [1C; i < sizeof(keys)/sizeof(keys[[1C]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  return p;
}

static void print_kv(struct KeyValue * kv)
{
  if (kv->succ != NULL) print_kv(kv->succ);
  if (sizeof(kv->key) > [1C) printf([m[1C[31m%s: %d[m[3C[34m, kv->key, kv->value);
}[m

[97m[101m/[m[49;174H6[25;6H[?25h[?25l[25;5H[K[49;174H5[25;5H[?25h[?25l[49;172H3[24;5H[?25h[?25l[49;172H2[23;5H[?25h[?25l[49;172H1[22;5H[?25h[?25l[49;172H0[21;5H[?25h[?25l[49;174H6[21;6H[?25h[?25l[49;174H7[21;7H[?25h[?25l[49;174H8[21;8H[?25h[?25l[49;174H9[21;9H[?25h[?25l[49;174H10[21;10H[?25h[?25l[49;175H1[21;11H[?25h[?25l[20;24H[106m{[21;12H}[m[49;175H2[21;12H[?25h[?25l[49;175H3[21;13H[?25h[?25l[20;24H{[21;12H}[49;175H4[21;14H[?25h[?25l[49;175H5[21;15H[?25h[?25l[49;175H6[21;16H[?25h[?25l/ [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[21;59H[K[22;1H    [5C, [6C, [5C, [8C, [4C, [5C, [6C,
    [5C, [7C, [6C, [5C, [11C,
    [5C, [5C, [6C, [7C, [10C,
  };
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [1C; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[1C]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [1C) printf([1C[35m%s[2C%d[m[3C, kv->key, kv->value);
}

[34m/[m[49;175H5[21;15H[?25h[?25l [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[21;58H[K[49;175H4[21;14H[?25h[?25l [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[21;57H[K[20;24H[106m{[21;12H}[m[49;175H3[21;13H[?25h[?25l[106m [m[31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,[21;56H[K[20;24H{[21;12H [49;175H2[21;12H[?25h[?25l[49;172H1[22;12H[?25h[?25l[49;172H2[23;12H[?25h[?25l[49;172H3[24;12H[?25h[?25l[49;172H4,5 [25;5H[?25h[?25l[49;172H5,12[26;12H[?25h[?25l[49;172H6[27;12H[?25h[?25l[49;172H7[28;12H[?25h[?25l[27;58H[106m{

[m  [106m}[m[49;172H8,4 [29;4H[?25h[?25l[27;58H{

  }[49;172H9,12[30;12H[?25h[?25l[19;23H[106m{[31;1H}[m[49;171H60,2 [31;2H[?25h[?25l[19;23H{[31;1H}[49;172H1,1[32;1H[?25h[?25l[49;172H2,12[33;12H[?25h[?25l
[106m{


}[m[49;172H3,2 [34;2H[?25h[?25l{


}[49;172H4,12[35;12H[?25h[?25l[49;172H5[36;12H[?25h[?25l[49;171H70,4 [41;4H[?25h[?25l[49;171H69,12[40;12H[?25h[?25l[49;172H8[39;12H[?25h[?25l[49;172H7,1 [38;1H[?25h[?25l[49;172H8,12[39;12H[?25h[?25l[49;172H9[40;12H[?25h[?25l[49;171H70,4 [41;4H[?25h[?25l[49;172H1,12[42;12H[?25h[?25l[49;172H2[43;12H[?25h[?25l[1;48r[48;1H
[1;49r[48;3Hfree_key_values(keyValues);[49;171H[K[49;171H73,3[10C93%[43;3H[?25h[?25l[1;48r[48;1H
[1;49r[48;3H[38;5;130mreturn[m [31m0[m;[49;171H[K[49;171H74,12[9C96%[43;12H[?25h[?25l[1;48r[48;1H
[1;49r[48;1H}[49;171H[K[49;171H75,12[9CBot[43;11H[106m([28C)[43;12H[?25h[?25l[42;64H{[m[43;11H([28C)
  [106m}[m[49;172H6,4 [44;4H[?25h[?25l[42;64H{

  }[49;172H7,3[45;3H[?25h[?25l[49;172H8,12[46;12H[?25h[?25l[49;172H9[47;12H[?25h[?25l[39;12H[106m{[48;1H}[m[49;171H80,2 [48;2H[?25h[?25l[39;12H{[48;1H}[49;171H79,12[47;12H[?25h[?25l[49;172H8[46;12H[?25h[?25l[49;172H9[47;12H[?25h[?25l[49;172H8[46;12H[?25h[49;1H[K[46;11H[?25l[49;161H^[[46;11H[49;161H  [46;12H[49;171H78,11[9CBot[46;11H[?25h[?25l[49;161H:[46;11H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 80L, 2141C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ mkae
bash: mkae: command not found
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kadd_key_value[m[K’:
[01m[Kbug-program.c:29:11:[m[K [01;35m[Kwarning: [m[Kassignment discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
   kv->key [01;35m[K=[m[K k;
           [01;35m[K^[m[K
At top level:
[01m[Kbug-program.c:62:13:[m[K [01;35m[Kwarning: [m[K‘[01m[Kprint_kv[m[K’ defined but not used [[01;35m[K-Wunused-function[m[K]
 static void [01;35m[Kprint_kv[m[K(struct KeyValue * kv)
             [01;35m[K^~~~~~~~[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makekaevim bug-program.cvalgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ valgrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kkaevim bug-program.c[Kvalgrind 
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.valgrind" 14L, 653C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H==2910711== Memcheck, a memory error detector
==2910711== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2910711== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==2910711== Command: ./bug-program
==2910711==
==2910711==
==2910711== HEAP SUMMARY:
==2910711==     in use at exit: 0 bytes in 0 blocks
==2910711==   total heap usage: 24 allocs, 24 frees, 1,576 bytes allocated
==2910711==
==2910711== All heap blocks were freed -- no leaks are possible
==2910711==
==2910711== For counts of detected and suppressed errors, rerun with: -v
==2910711== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
[94m~                                                                                                                                                                                           [16;1H~                                                                                                                                                                                           [17;1H~                                                                                                                                                                                           [18;1H~                                                                                                                                                                                           [19;1H~                                                                                                                                                                                           [20;1H~                                                                                                                                                                                           [21;1H~                                                                                                                                                                                           [22;1H~                                                                                                                                                                                           [23;1H~                                                                                                                                                                                           [24;1H~                                                                                                                                                                                           [25;1H~                                                                                                                                                                                           [26;1H~                                                                                                                                                                                           [27;1H~                                                                                                                                                                                           [28;1H~                                                                                                                                                                                           [29;1H~                                                                                                                                                                                           [30;1H~                                                                                                                                                                                           [31;1H~                                                                                                                                                                                           [32;1H~                                                                                                                                                                                           [33;1H~                                                                                                                                                                                           [34;1H~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;171H1,1[11CAll[1;1H[?25h[?25l[49;161H^[[1;1H[49;161H  [1;1H[49;161H^[[1;1H[49;161H  [1;1H[?25h[?25l[49;161H:[1;1H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim bug-program.valgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kkaevim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 80L, 2141C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;3H[38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m, [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,
    [31m"did"[m, [31m"gyre"[m, [31m"and"[m, [31m"gimble"[m, [31m"in"[m, [31m"the"[m, [31m"wabe"[m,
    [31m"all"[m, [31m"mimsy"[m, [31m"were"[m, [31m"the"[m, [31m"borogoves"[m,
    [31m"and"[m, [31m"the"[m, [31m"mome"[m, [31m"raths"[m, [31m"outgrabe"[m,
  };
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);
}

[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m
[32mint[m main() {
  [32mstruct[m KeyValue *keyValues = make_key_values();

  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [31mNULL[m; p = p->succ) {
    printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, p->key, p->value);
  }

  free_key_values(keyValues);
  [38;5;130mreturn[m [31m0[m;
}[49;171H78,11[9CBot[46;11H[?25h[?25l[49;161H~@k[46;11H[49;161H   [45;2H[49;172H7,2 [45;2H[?25h[?25l[49;161H~@k[45;2H[49;161H   [44;3H[42;64H[106m{

[m  [106m}[m[49;172H6,3[44;3H[?25h[?25l[49;161H~@k[44;3H[49;161H   [43;11H[42;64H{[43;11H[106m([28C)[m
  }[49;172H5,11[43;11H[?25h[?25l[49;161H~@k[43;11H[49;161H   [42;11H[43;11H([28C)[49;172H4[42;11H[?25h[?25l[49;161H~@k[42;11H[49;161H   [41;2H[49;172H3,2 [41;2H[?25h[?25l[49;161H~@k[41;2H[49;161H   [40;11H[49;172H2,11[40;11H[?25h[?25l[49;161H~@k[40;11H[49;161H   [39;11H[49;172H1[39;11H[?25h[?25l[49;161H~@k[39;11H[49;161H   [38;3H[49;172H0,3 [38;3H[?25h[?25l[49;161H~@k[38;3H[49;161H   [37;11H[49;171H69,11[37;11H[?25h[?25l[49;161H~@k[37;11H[49;161H   [36;11H[49;172H8[36;11H[?25h[?25l[49;161H~@k[36;11H[49;161H   [35;1H[49;172H7,0-1[35;1H[?25h[?25l[49;161H~@k[35;1H[49;161H   [34;1H[31;1H[106m{


}[m[49;172H6,1  [34;1H[?25h[?25l[49;161H~@k[34;1H[49;161H   [33;11H[31;1H{


}[49;172H5,11[33;11H[?25h[?25l[49;161H~@k[33;11H[49;161H   [34;1H[31;1H[106m{


}[m[49;172H6,1 [34;1H[?25h[?25l[49;161H~@k[34;1H[49;161H   [33;66H[31;1H{


}[49;172H5,66[33;66H[?25h[?25l[49;161H~@k[33;66H[49;161H   [33;65H[33;34H[106m([30C)[m[49;175H5[33;65H[?25h[?25l[49;161H~@k[33;65H[49;161H   [33;64H[33;34H([30C)[49;175H4[33;64H[?25h[?25l[49;161H~@k[33;64H[49;161H   [33;63H[49;175H3[33;63H[?25h[?25l[49;161H~@k[33;63H[49;161H   [33;62H[49;175H2[33;62H[?25h[?25l[49;161H~@k[33;62H[49;161H   [33;61H[49;175H1[33;61H[?25h[?25l[49;161H~@k[33;61H[49;161H   [33;60H[49;175H0[33;60H[?25h[?25l[49;161H~@k[33;60H[49;161H   [33;59H[49;174H59[33;59H[?25h[?25l[49;161H~@k[33;59H[49;161H   [33;58H[49;175H8[33;58H[?25h[?25l[49;161H~@k[33;58H[49;161H   [33;57H[49;175H7[33;57H[?25h[?25l[49;161H~@k[33;57H[49;161H   [33;56H[49;175H6[33;56H[?25h[?25l[49;161H~@k[33;56H[49;161H   [33;55H[49;175H5[33;55H[?25h[?25l[49;161H~@k[33;55H[49;161H   [33;54H[49;175H4[33;54H[?25h[?25l[49;161H~@k[33;54H[49;161H   [33;53H[49;175H3[33;53H[?25h[?25l[49;161H~@k[33;53H[49;161H   [33;52H[49;175H2[33;52H[?25h[?25l[49;161H~@k[33;52H[49;161H   [33;51H[49;175H1[33;51H[?25h[?25l[49;161H~@k[33;51H[49;161H   [33;50H[49;175H0[33;50H[?25h[?25l[49;161H~@k[33;50H[49;161H   [33;49H[49;174H49[33;49H[?25h[?25l[49;161H~@k[33;49H[49;161H   [33;48H[49;175H8[33;48H[?25h[?25l[49;161H~@k[33;48H[49;161H   [33;47H[49;175H7[33;47H[?25h[?25l[49;161H~@k[33;47H[49;161H   [33;46H[49;175H6[33;46H[?25h[?25l[49;161H~@k[33;46H[49;161H   [33;45H[49;175H5[33;45H[?25h[?25l[49;161H~@k[33;45H[49;161H   [33;44H[49;175H4[33;44H[?25h[?25l[49;161H~@k[33;44H[49;161H   [33;43H[49;175H3[33;43H[?25h[?25l[49;161H~@k[33;43H[49;161H   [33;42H[49;175H2[33;42H[?25h[?25l[49;161H~@k[33;42H[49;161H   [33;41H[49;175H1[33;41H[?25h[?25l[49;161H~@k[33;41H[49;161H   [33;40H[49;175H0[33;40H[?25h[?25l[49;161H~@k[33;40H[49;161H   [33;39H[49;174H39[33;39H[?25h[?25l[49;161H~@k[33;39H[49;161H   [33;38H[49;175H8[33;38H[?25h[?25l[49;161H~@k[33;38H[49;161H   [33;37H[49;175H7[33;37H[?25h[?25l[49;161Hi[33;37H[49;161H [33;37H[49;1H[1m-- INSERT --[m[49;13H[K[49;171H65,37[9CBot[33;37H[?25h[?25l[31;1H[106m{


}[m[49;172H6,2 [34;2H[?25h[?25l[34;1H[K[31;1H{[49;174H1[34;1H[?25h[?25l[33;48r[48;1H
[1;49r[33;3H[38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\n[m[31m"[m, kv->key, kv->value);[48;1H[94m~                                                                                                                                                                                           [m[49;171H[K[49;171H65,67[9CBot[33;67H[?25h[?25l[33;66H[K[33;34H[106m([30C)[m[49;175H6[33;66H[?25h[?25l[33;65H[K[38;12H[97m[101m{[41;64H{

[m  [97m[101m}[m[33;34H([49;175H5[33;65H[?25h[?25l[33;64H[K[49;175H4[33;64H[?25h[?25l[33;63H[K[49;175H3[33;63H[?25h[?25l[33;62H[K[49;175H2[33;62H[?25h[?25l[33;61H[K[49;175H1[33;61H[?25h[?25l[33;60H[K[49;175H0[33;60H[?25h[?25l[33;59H[K[49;174H59[33;59H[?25h[?25l[33;58H[K[49;175H8[33;58H[?25h[?25l[33;57H[K[49;175H7[33;57H[?25h[?25l[33;56H[K[49;175H6[33;56H[?25h[?25l[49;175H5[33;55H[?25h[?25l[33;54H[K[49;175H4[33;54H[?25h[?25l[33;53H[K[49;175H3[33;53H[?25h[?25l[33;52H[K[49;175H2[33;52H[?25h[?25l[33;51H[K[49;175H1[33;51H[?25h[?25l[33;50H[K[49;175H0[33;50H[?25h[?25l[33;49H[K[49;174H49[33;49H[?25h[?25l[33;48H[K[49;175H8[33;48H[?25h[?25l[33;47H[K[49;175H7[33;47H[?25h[?25l[49;175H6[33;46H[?25h[?25l[33;45H[K[49;175H5[33;45H[?25h[?25l[33;44H[K[35;1H[31m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */
int main() {
  struct KeyValue *keyValues = make_key_values();
  
  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
    printf([m[1C%s: %d\n[1C[31m, p->key, p->value);
  }
  
  free_key_values(keyValues);
  return 0;
}[m[49;175H4[33;44H[?25h[?25l[33;43H[K[49;175H3[33;43H[?25h[?25l[1;48r[1;1H[32L[1;49r[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [38;5;130mif[m (kv == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }

  [34m//initialize fields of *kv.[m
  kv->key = k;
  kv->value = v;
  kv->succ = keyValues;[49;171H[K[49;171H34,1[10CTop[19;1H[106m{[34;1H}[?25h[?25l[27m[23m[29m[m[H[2J[1;1H[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {
  [32mconst[m [32mchar[m *keys[] = {
    [31m"twas"[m, [31m"brillig"[m, [31m"and"[m, [31m"the"[m, [31m"slithy"[m, [31m"toves"[m,
    [31m"did"[m, [31m"gyre"[m, [31m"and"[m, [31m"gimble"[m, [31m"in"[m, [31m"the"[m, [31m"wabe"[m,
    [31m"all"[m, [31m"mimsy"[m, [31m"were"[m, [31m"the"[m, [31m"borogoves"[m,
    [31m"and"[m, [31m"the"[m, [31m"mome"[m, [31m"raths"[m, [31m"outgrabe"[m,
  };
  [32mstruct[m KeyValue *p = [31mNULL[m;
  [38;5;130mfor[m ([32mint[m i = [31m0[m; i < [38;5;130msizeof[m(keys)/[38;5;130msizeof[m(keys[[31m0[m]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  [38;5;130mreturn[m p;
}

[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)
{
  [38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);
  [38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\[m

[31m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */
int main() {
  struct KeyValue *keyValues = make_key_values();
  
  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
    printf("[m%s: %d\n[31m", p->key, p->value);
  }
  
  free_key_values(keyValues);
  return 0;
}[m
[94m~                                                                                                                                                                                           [35;1H~                                                                                                                                                                                           [36;1H~                                                                                                                                                                                           [37;1H~                                                                                                                                                                                           [38;1H~                                                                                                                                                                                           [39;1H~                                                                                                                                                                                           [40;1H~                                                                                                                                                                                           [41;1H~                                                                                                                                                                                           [42;1H~                                                                                                                                                                                           [43;1H~                                                                                                                                                                                           [44;1H~                                                                                                                                                                                           [45;1H~                                                                                                                                                                                           [46;1H~                                                                                                                                                                                           [47;1H~                                                                                                                                                                                           [48;1H~                                                                                                                                                                                           [m[49;1H[1m-- INSERT --[m[158C52,5[10CBot[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m */[m[49;171H[K[49;171H51,5[10CBot[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m *  Jabberwocky with value being the index of the word.[m[49;171H[K[49;171H50,5[10CBot[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m/** Make key-values for all the words in the first verse of Carroll's[m[49;171H[K[49;171H49,5[10CBot[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H48,5[10CBot[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H}[49;171H[K[49;171H47,5[10CBot[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hfree(keyValues);[49;171H[K[49;171H46,4[10CBot[6;4H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);[49;171H[K[49;171H45,5[10CBot[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H{[49;171H[K[49;171H44,5[10CBot[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1Hfree_key_values([32mstruct[m KeyValue *keyValues)[49;171H[K[49;171H43,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[32mstatic[m [32mvoid[m[49;171H[K[49;171H42,2[10CBot[3;1H[106m{


}[?25h[?25l[1;48r[m[1;1H[L[1;49r[1;1H[34m/** Free all the key-value's in keyValues. */[m[49;171H[K[49;171H41,5[10CBot[4;1H{


}[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H40,5[10CBot[6;5H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H}[49;171H[K[49;171H39,2[10CBot[6;1H[106m{


}[6;2H[?25h[?25l[m{


}[49;171H40,5[7;5H[?25h[?25l[49;172H1[8;5H[?25h[?25l[6;1H[106m{


}[m[49;172H2,2[9;2H[?25h[?25l[6;1H{


}[49;172H3,1[10;1H[?25h[?25l[49;172H4,5[11;5H[?25h[?25l[49;172H5[12;5H[?25h[?25l[49;172H6,4[13;4H[?25h[?25l[49;172H7,5[14;5H[?25h[?25l[49;172H8[15;5H[?25h[?25l[49;172H9[16;5H[?25h[?25l[49;171H50[17;5H[?25h[?25l[49;172H1[18;5H[?25h[?25l[49;172H2[19;5H[?25h[?25l[49;172H3[20;5H[?25h[?25l[49;172H2[19;5H[?25h[?25l[49;172H1[18;5H[?25h[?25l[49;172H0[17;5H[?25h[?25l[49;171H49[16;5H[?25h[?25l[49;172H8[15;5H[?25h[?25l[49;172H7[14;5H[?25h[?25l[49;172H8[15;5H[?25h[?25l[49;171H50[17;5H[?25h[?25l[49;172H1[18;5H[?25h[?25l[49;172H2[19;5H[?25h[?25l[49;172H3[20;5H[?25h[?25l[49;172H4[21;5H[?25h[?25l[49;172H5[22;5H[?25h[?25l[49;172H6[23;5H[?25h[?25l[49;172H7[24;5H[?25h[?25l[23;58H[106m{

[m  [106m}[m[49;172H8,4[25;4H[?25h[?25l[23;58H{

  }[49;172H9,5[26;5H[?25h[?25l[15;23H[106m{[27;1H}[m[49;171H60,2[27;2H[?25h[?25l[15;23H{[27;1H}[49;172H1,1[28;1H[?25h[?25l[49;172H2,5[29;5H[?25h[?25l[49;172H3,2[30;2H[?25h[?25l[49;172H4,5[31;5H[?25h[?25l[49;172H5[32;5H[?25h[?25l[49;172H6,1[33;1H[?25h[?25l[49;172H7,5[34;5H[?25h[?25l[49;172H8[35;5H[?25h[?25l[49;172H7[34;5H[?25h[?25l[49;172H6,1[33;1H[?25h[?25l[32;48r[48;1H
[1;49r[32;3H[38;5;130mif[m ([38;5;130msizeof[m(kv->key) > [31m1[m) printf([31m"[m[35m%s[m[31m: [m[35m%d\[m[48;1H[94m~                                                                                                                                                                                           [m[49;171H[K[49;171H65,43[9CBot[32;43H[?25h[?25l[35m\[m[49;175H4[32;44H[?25h[?25l[32;43H[K[49;175H3[32;43H[?25h[?25l[32;42H[K[49;175H2[32;42H[?25h[?25l[31m%[m[32;41H[K[49;175H1[32;41H[?25h[?25l[32;40H[K[49;175H0[32;40H[?25h[?25l[32;39H[K[49;174H39[32;39H[?25h[?25l[32;38H[K[49;175H8[32;38H[?25h[?25l[31m%[m[32;37H[K[49;175H7[32;37H[?25h[?25l[32;36H[K[49;175H6[32;36H[?25h[?25l[32;35H[K[33;1H[34m/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */[m
[32mint[m main() [97m[101m{[m
  [32mstruct[m KeyValue *keyValues = make_key_values();
  
  [38;5;130mfor[m ([32mstruct[m KeyValue *p = keyValues; p != [4C; p = p->succ) [97m[101m{[m
    printf([1C[35m%s[m[31m: [m[35m%d\n[m[1C, p->key, p->value);
  [97m[101m}[m
  
  free_key_values(keyValues);
  [38;5;130mreturn[m [1C;
}[49;175H5[32;35H[?25h[?25l[32;34H[K[36;12H{[39;64H{

  }[49;175H4[32;34H[?25h[?25l[32;33H[K[49;175H3[32;33H[?25h[?25l[32;32H[K[49;175H2[32;32H[?25h[?25l[32;31H[K[49;175H1[32;31H[?25h[?25l[32;30H[K[49;175H0[32;30H[?25h[?25l[32;29H[K[49;174H29[32;29H[?25h[?25l[32;28H[K[49;175H8[32;28H[?25h[?25l[32;6H[106m([19C)[m[49;175H7[32;27H[?25h[?25l[32;26H[K[36;12H[97m[101m{[39;64H{

[m  [97m[101m}[m[32;6H([49;175H6[32;26H[?25h[?25l[32;25H[K[49;175H5[32;25H[?25h[?25l[49;175H4[32;24H[?25h[?25l[32;23H[K[49;175H3[32;23H[?25h[?25l[32;13H[106m([7C)[m[49;175H2[32;22H[?25h[?25l[32;21H[K[32;13H([49;175H1[32;21H[?25h[?25l[32;20H[K[49;175H0[32;20H[?25h[?25l[32;19H[K[49;174H19[32;19H[?25h[?25l[32;18H[K[49;175H8[32;18H[?25h[?25l[32;17H[K[49;175H7[32;17H[?25h[?25l[32;16H[K[49;175H6[32;16H[?25h[?25l[32;15H[K[49;175H5[32;15H[?25h[?25l[32;14H[K[49;175H4[32;14H[?25h[?25l[32;13H[K[49;175H3[32;13H[?25h[?25lsizeo[32;12H[K[49;175H2[32;12H[?25h[?25l[32;11H[K[49;175H1[32;11H[?25h[?25l[32;10H[K[49;175H0[32;10H[?25h[?25l[32;9H[K[49;174H9 [32;9H[?25h[?25l[32;8H[K[49;174H8[32;8H[?25h[?25l[32;7H[K[49;174H7[32;7H[?25h[?25l[32;6H[K[36;12H{[39;64H{

  }[49;174H6[32;6H[?25h[?25l[49;174H5[32;5H[?25h[?25li[32;4H[K[49;174H4[32;4H[?25h[?25l[32;3H[K[49;174H3[32;3H[?25h[?25l[49;174H2[32;2H[?25h[?25l[49;174H1[32;1H[?25h[?25l[31;48r[48;1H
[1;49r[31;3H[38;5;130mif[m (kv->succ != [31mNULL[m) print_kv(kv->succ);[48;1H[94m~                                                                                                                                                                                           [m[49;171H[K[49;171H64,44[9CBot[31;44H[?25h[?25l[31;43H[K[31;33H[106m([8C)[m[49;175H3[31;43H[?25h[?25l[31;42H[K[35;12H[97m[101m{[38;64H{

[m  [97m[101m}[m[31;33H([49;175H2[31;42H[?25h[?25l[31;41H[K[49;175H1[31;41H[?25h[?25l[31;40H[K[49;175H0[31;40H[?25h[?25l[31;39H[K[49;174H39[31;39H[?25h[?25l[31;38H[K[49;175H8[31;38H[?25h[?25l[31;37H[K[49;175H7[31;37H[?25h[?25l[31;36H[K[49;175H6[31;36H[?25h[?25l[31;35H[K[49;175H5[31;35H[?25h[?25l[31;34H[K[49;175H4[31;34H[?25h[?25l[31;33H[K[35;12H{[38;64H{

  }[49;175H3[31;33H[?25h[?25l[31;32H[K[49;175H2[31;32H[?25h[?25l[31;31H[K[49;175H1[31;31H[?25h[?25l[31;30H[K[49;175H0[31;30H[?25h[?25l[31;29H[K[49;174H29[31;29H[?25h[?25l[31;28H[K[49;175H8[31;28H[?25h[?25l[31;27H[K[49;175H7[31;27H[?25h[?25l[31;26H[K[49;175H6[31;26H[?25h[?25l[31;25H[K[49;175H5[31;25H[?25h[?25l[31;6H[106m([16C)[m[49;175H4[31;24H[?25h[?25l[31;23H[K[35;12H[97m[101m{[38;64H{

[m  [97m[101m}[m[31;6H([49;175H3[31;23H[?25h[?25lNUL[31;22H[K[49;175H2[31;22H[?25h[?25l[31;21H[K[49;175H1[31;21H[?25h[?25l[31;20H[K[49;175H0[31;20H[?25h[?25l[31;19H[K[49;174H19[31;19H[?25h[?25l[49;175H8[31;18H[?25h[?25l[31;17H[K[49;175H7[31;17H[?25h[?25l[31;16H[K[49;175H6[31;16H[?25h[?25l[49;175H5[31;15H[?25h[?25l[31;14H[K[49;175H4[31;14H[?25h[?25l[31;13H[K[49;175H3[31;13H[?25h[?25l[31;12H[K[49;175H2[31;12H[?25h[?25l[31;11H[K[49;175H1[31;11H[?25h[?25l[31;10H[K[49;175H0[31;10H[?25h[?25l[31;9H[K[49;174H9 [31;9H[?25h[?25l[31;8H[K[49;174H8[31;8H[?25h[?25l[31;7H[K[49;174H7[31;7H[?25h[?25l[31;6H[K[35;12H{[38;64H{

  }[49;174H6[31;6H[?25h[?25l[49;174H5[31;5H[?25h[?25li[31;4H[K[49;174H4[31;4H[?25h[?25l[31;3H[K[49;174H3[31;3H[?25h[?25l[49;174H2[31;2H[?25h[?25l[49;174H1[31;1H[?25h[?25l[30;48r[48;1H
[1;49r[30;1H{[48;1H[94m~                                                                                                                                                                                           [m[49;171H[K[49;171H63,2[10CBot[30;2H[?25h[?25l[30;1H[K[49;174H1[30;1H[?25h[?25l[29;48r[48;1H
[1;49r[29;1H[32mstatic[m [32mvoid[m print_kv([32mstruct[m KeyValue * kv)[48;1H[94m~                                                                                                                                                                                           [m[49;171H[K[49;171H62,43[9CBot[29;21H[106m([20C)[?25h[?25l[m[29;42H[K[33;12H[97m[101m{[36;64H{

[m  [97m[101m}[m[29;21H([49;175H2[29;42H[?25h[?25l[29;41H[K[49;175H1[29;41H[?25h[?25l[29;40H[K[49;175H0[29;40H[?25h[?25l[49;174H39[29;39H[?25h[?25l[29;38H[K[49;175H8[29;38H[?25h[?25l[49;175H7[29;37H[?25h[?25l[29;36H[K[49;175H6[29;36H[?25h[?25l[29;35H[K[49;175H5[29;35H[?25h[?25l[29;34H[K[49;175H4[29;34H[?25h[?25l[29;33H[K[49;175H3[29;33H[?25h[?25l[29;32H[K[49;175H2[29;32H[?25h[?25l[29;31H[K[49;175H1[29;31H[?25h[?25l[29;30H[K[49;175H0[29;30H[?25h[?25l[29;29H[K[49;174H29[29;29H[?25h[?25l[49;175H8[29;28H[?25h[?25lstruc[29;27H[K[49;175H7[29;27H[?25h[?25l[29;26H[K[49;175H6[29;26H[?25h[?25l[29;25H[K[49;175H5[29;25H[?25h[?25l[29;23H[K[49;175H3[29;23H[?25h[?25l[29;22H[K[49;175H2[29;22H[?25h[?25l[29;21H[K[33;12H{[36;64H{

  }[49;175H1[29;21H[?25h[?25l[29;20H[K[49;175H0[29;20H[?25h[?25l[29;19H[K[49;174H19[29;19H[?25h[?25l[29;18H[K[49;175H8[29;18H[?25h[?25l[29;17H[K[49;175H7[29;17H[?25h[?25l[29;16H[K[49;175H6[29;16H[?25h[?25l[29;15H[K[49;175H5[29;15H[?25h[?25l[29;14H[K[49;175H4[29;14H[?25h[?25l[29;13H[K[49;175H3[29;13H[?25h[?25l[49;175H2[29;12H[?25h[?25lvoi[29;11H[K[49;175H1[29;11H[?25h[?25l[29;10H[K[49;175H0[29;10H[?25h[?25l[29;9H[K[49;174H9 [29;9H[?25h[?25l[29;8H[K[49;174H8[29;8H[?25h[?25l[49;174H7[29;7H[?25h[?25lstati[29;6H[K[49;174H6[29;6H[?25h[?25l[29;5H[K[49;174H5[29;5H[?25h[?25l[29;4H[K[49;174H4[29;4H[?25h[?25l[29;3H[K[49;174H3[29;3H[?25h[?25l[29;2H[K[49;174H2[29;2H[?25h[?25l[29;1H[K[49;174H1[29;1H[?25h[?25l[28;48r[48;1H
[1;49r[48;1H[94m~                                                                                                                                                                                           [m[49;171H[K[49;171H61,1[10CBot[28;1H[?25h[?25l[15;23H[106m{[27;1H}[m[49;172H0[27;1H[?25h[?25l[15;23H{[27;1H}[49;171H59[26;1H[?25h[?25l[49;172H8[25;1H[?25h[?25l[49;172H7[24;1H[?25h[?25l[49;172H6[23;1H[?25h[?25l[49;172H5[22;1H[?25h[?25l[49;172H4[21;1H[?25h[?25l[49;172H3[20;1H[?25h[?25l[49;172H2[19;1H[?25h[?25l[49;172H1[18;1H[?25h[?25l[49;172H0[17;1H[?25h[?25l[49;171H49[16;1H[?25h[?25l[49;172H8[15;1H[?25h[?25l[49;172H7[14;1H[?25h[?25l[49;172H6[13;1H[?25h[?25l[49;172H5[12;1H[?25h[?25l[49;172H4[11;1H[?25h[?25l[49;172H3[10;1H[?25h[?25l[6;1H[106m{


}[m[49;172H2[9;1H[?25h[?25l[6;1H{


}[49;172H1[8;1H[?25h[?25l[49;172H0[7;1H[?25h[?25l[6;1H[106m{


}[m[49;171H39[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[38;5;130mreturn[m kv;[49;171H[K[49;171H38,1[10CBot[7;1H{


}[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H37,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hkv->succ = keyValues;[49;171H[K[49;171H36,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hkv->value = v;[49;171H[K[49;171H35,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3Hkv->key = k;[49;171H[K[49;171H34,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[34m//initialize fields of *kv.[m[49;171H[K[49;171H33,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H32,1[10CBot[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H}[49;171H[K[49;171H31,1[10C96%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;5Hexit([31m1[m);[49;171H[K[49;171H30,1[10C92%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;5Hfprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));[49;171H[K[49;171H29,1[10C88%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[38;5;130mif[m (kv == [31mNULL[m) { [34m//check if allocations succeeded[m[49;171H[K[49;171H28,1[10C84%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H27,1[10C80%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));[49;171H[K[49;171H26,1[10C76%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[34m//allocate storage for new KeyValue struct[m[49;171H[K[49;171H25,1[10C73%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H{[49;171H[K[49;171H24,1[10C69%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1Hadd_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)[49;171H[K[49;171H23,1[10C65%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[32mstatic[m [32mstruct[m KeyValue *[49;171H[K[49;171H22,1[10C61%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m */[m[49;171H[K[49;171H21,1[10C57%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m *  resulting chain.[m[49;171H[K[49;171H20,1[10C53%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m *  key-value (k, v) at head of chain keyValues and return the[m[49;171H[K[49;171H19,1[10C50%[6;1H[106m{[21;1H}[6;1H[?25h[?25l[1;48r[m[1;1H[L[1;49r[1;1H[34m/** Given some chain keyValues of key-value struct's, add the[m[49;171H[K[49;171H18,1[10C46%[7;1H{[22;1H}[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[49;171H[K[49;171H17,1[10C42%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H};[49;171H[K[49;171H16,1[10C38%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m[49;171H[K[49;171H15,1[10C34%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[32mint[m value;[13C[34m/** integer value */[m[49;171H[K[49;171H14,1[10C30%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;3H[32mchar[m *key;[7C[34m/** string key */[m[49;171H[K[49;171H13,1[10C26%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[32mstruct[m KeyValue {[49;171H[K[49;171H12,1[10C23%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[34m/** A struct used to form a linear chain of key-value pairs. */[m[49;171H[K[49;171H11,1[10C19%[2;17H[106m{[6;1H}[?25h[?25l[1;48r[m[1;1H[L[1;49r[49;171H[K[49;171H10,1[10C15%[3;17H{[7;1H}[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[35m#include [m[31m<string.h>[m[49;171H[K[49;171H9,1[11C11%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[35m#include [m[31m<stdlib.h>[m[49;171H[K[49;171H8,1[12C7%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[35m#include [m[31m<stdio.h>[m[49;171H[K[49;171H7,1[12C3%[6;1H[?25h[?25l[1;48r[1;1H[L[1;49r[1;1H[35m#include [m[31m<errno.h>[m[49;171H[K[49;171H6,1[11CTop[6;1H[?25h[?25l[49;171H5[5;1H[?25h[?25l[49;171H4[4;1H[?25h[?25l[49;171H3[3;1H[?25h[?25l[49;171H2[2;1H[?25h[?25l[49;171H1[1;1H[?25h[49;1H[K[1;1H[?25l[49;161H^[[1;1H[49;161H  [1;1H[49;171H1,1[11CTop[1;1H[?25h[?25l[49;161H:[1;1H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 74L, 1982C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kadd_key_value[m[K’:
[01m[Kbug-program.c:29:11:[m[K [01;35m[Kwarning: [m[Kassignment discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
   kv->key [01;35m[K=[m[K k;
           [01;35m[K^[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 74L, 1982C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [38;5;130mif[m (kv == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }

  [34m//initialize fields of *kv.[m
  kv->key = k;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {[49;171H1,1[11CTop[1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [1;1H[?25h[?25l[49;161H~@k[1;1H[49;161H   [2;1H[49;171H2[2;1H[?25h[?25l[49;161H~@k[2;1H[49;161H   [3;1H[49;171H3[3;1H[?25h[?25l[49;161H~@k[3;1H[49;161H   [4;1H[49;171H4[4;1H[?25h[?25l[49;161H~@k[4;1H[49;161H   [5;1H[49;171H5,0-1[5;1H[?25h[?25l[49;161H~@k[5;1H[49;161H   [6;1H[49;171H6,1  [6;1H[?25h[?25l[49;161H~@k[6;1H[49;161H   [7;1H[49;171H7[7;1H[?25h[?25l[49;161H~@k[7;1H[49;161H   [8;1H[49;171H8[8;1H[?25h[?25l[49;161H~@k[8;1H[49;161H   [9;1H[49;171H9[9;1H[?25h[?25l[49;161H~@k[9;1H[49;161H   [10;1H[49;171H10,1[10;1H[?25h[?25l[49;161H~@k[10;1H[49;161H   [11;1H[7;17H[106m{[11;1H}[m[49;172H1[11;1H[?25h[?25l[49;161H~@k[11;1H[49;161H   [12;1H[7;17H{[11;1H}[49;172H2,0-1[12;1H[?25h[?25l[49;161H~@k[12;1H[49;161H   [13;1H[49;172H3,1  [13;1H[?25h[?25l[49;161H~@k[13;1H[49;161H   [14;1H[49;172H4[14;1H[?25h[?25l[49;161H~@k[14;1H[49;161H   [15;1H[49;172H5[15;1H[?25h[?25l[49;161H~@k[15;1H[49;161H   [16;1H[49;172H6[16;1H[?25h[?25l[49;161H~@k[16;1H[49;161H   [17;1H[49;172H7[17;1H[?25h[?25l[49;161H~@k[17;1H[49;161H   [18;1H[49;172H8[18;1H[?25h[?25l[49;161H~@k[18;1H[49;161H   [19;1H[106m{[34;1H}[m[49;172H9[19;1H[?25h[?25l[49;161H~@k[19;1H[49;161H   [20;1H[19;1H{[34;1H}[49;171H20[20;1H[?25h[?25l[49;161H~@k[20;1H[49;161H   [19;1H[106m{[34;1H}[m[49;171H19[19;1H[?25h[?25l[49;161H~@k[19;1H[49;161H   [18;1H
{[34;1H}[49;172H8[18;1H[?25h[?25l[49;161H~@k[18;1H[49;161H   [18;2H[49;174H2[18;2H[?25h[?25l[49;161H~@k[18;2H[49;161H   [18;3H[49;174H3[18;3H[?25h[?25l[49;161H~@k[18;3H[49;161H   [18;4H[49;174H4[18;4H[?25h[?25l[49;161H~@k[18;4H[49;161H   [18;5H[49;174H5[18;5H[?25h[?25l[49;161H~@k[18;5H[49;161H   [18;6H[49;174H6[18;6H[?25h[?25l[49;161H~@k[18;6H[49;161H   [18;7H[49;174H7[18;7H[?25h[?25l[49;161H~@k[18;7H[49;161H   [18;8H[49;174H8[18;8H[?25h[?25l[49;161H~@k[18;8H[49;161H   [18;9H[49;174H9[18;9H[?25h[?25l[49;161H~@k[18;9H[49;161H   [18;10H[49;174H10[18;10H[?25h[?25l[49;161H~@k[18;10H[49;161H   [18;11H[49;175H1[18;11H[?25h[?25l[49;161H~@k[18;11H[49;161H   [18;12H[49;175H2[18;12H[?25h[?25l[49;161H~@k[18;12H[49;161H   [18;13H[49;175H3[18;13H[?25h[?25l[49;161H~@k[18;13H[49;161H   [18;14H[106m([48C)[m[49;175H4[18;14H[?25h[?25l[49;161H~@k[18;14H[49;161H   [18;15H([48C)[49;175H5[18;15H[?25h[?25l[49;161H~@k[18;15H[49;161H   [18;16H[49;175H6[18;16H[?25h[?25l[49;161H~@k[18;16H[49;161H   [18;17H[49;175H7[18;17H[?25h[?25l[49;161H~@k[18;17H[49;161H   [18;18H[49;175H8[18;18H[?25h[?25l[49;161H~@k[18;18H[49;161H   [18;19H[49;175H9[18;19H[?25h[?25l[49;161H~@k[18;19H[49;161H   [18;20H[49;174H20[18;20H[?25h[?25l[49;161H~@k[18;20H[49;161H   [18;21H[49;175H1[18;21H[?25h[?25l[49;161H~@k[18;21H[49;161H   [18;22H[49;175H2[18;22H[?25h[?25l[49;161H~@k[18;22H[49;161H   [18;23H[49;175H3[18;23H[?25h[?25l[49;161H~@k[18;23H[49;161H   [18;24H[49;175H4[18;24H[?25h[?25l[49;161H~@k[18;24H[49;161H   [18;25H[49;175H5[18;25H[?25h[?25l[49;161H~@k[18;25H[49;161H   [18;26H[49;175H6[18;26H[?25h[?25l[49;161H~@k[18;26H[49;161H   [18;27H[49;175H7[18;27H[?25h[?25l[49;161H~@k[18;27H[49;161H   [18;28H[49;175H8[18;28H[?25h[?25l[49;161H~@k[18;28H[49;161H   [18;29H[49;175H9[18;29H[?25h[?25l[49;161H~@k[18;29H[49;161H   [18;30H[49;174H30[18;30H[?25h[?25l[49;161H~@k[18;30H[49;161H   [18;31H[49;175H1[18;31H[?25h[?25l[49;161H~@k[18;31H[49;161H   [18;32H[49;175H2[18;32H[?25h[?25l[49;161H~@k[18;32H[49;161H   [18;33H[49;175H3[18;33H[?25h[?25l[49;161H~@k[18;33H[49;161H   [18;34H[49;175H4[18;34H[?25h[?25l[49;161H~@k[18;34H[49;161H   [18;35H[49;175H5[18;35H[?25h[?25l[49;161H~@k[18;35H[49;161H   [18;36H[49;175H6[18;36H[?25h[?25l[49;161H~@k[18;36H[49;161H   [18;37H[49;175H7[18;37H[?25h[?25l[49;161H~@k[18;37H[49;161H   [18;38H[49;175H8[18;38H[?25h[?25l[49;161H~@k[18;38H[49;161H   [18;39H[49;175H9[18;39H[?25h[?25l[49;161H~@k[18;39H[49;161H   [18;40H[49;174H40[18;40H[?25h[?25l[49;161H~@k[18;40H[49;161H   [18;41H[49;175H1[18;41H[?25h[?25l[49;161H~@k[18;41H[49;161H   [18;42H[49;175H2[18;42H[?25h[?25l[49;161H~@k[18;42H[49;161H   [18;43H[49;175H3[18;43H[?25h[?25l[49;161H~@k[18;43H[49;161H   [18;44H[49;175H4[18;44H[?25h[?25l[49;161H~@k[18;44H[49;161H   [18;45H[49;175H5[18;45H[?25h[?25l[49;161H~@k[18;45H[49;161H   [18;46H[49;175H6[18;46H[?25h[?25l[49;161H~@k[18;46H[49;161H   [18;47H[49;175H7[18;47H[?25h[?25l[49;161H~@k[18;47H[49;161H   [18;48H[49;175H8[18;48H[?25h[?25l[49;161H~@k[18;48H[49;161H   [18;49H[49;175H9[18;49H[?25h[?25l[49;161H~@k[18;49H[49;161H   [18;48H[49;175H8[18;48H[?25h[?25l[49;161H~@k[18;48H[49;161H   [18;47H[49;175H7[18;47H[?25h[?25l[49;161H~@k[18;47H[49;161H   [18;46H[49;175H6[18;46H[?25h[?25l[49;161Hi[18;46H[49;161H [18;46H[49;1H[1m-- INSERT --[m[49;13H[K[49;171H18,46[9CTop[18;46H[?25h[?25lcont [32mchar[m *k, [32mint[m v)[18;63H[K[18;46H[?25h[?25l [32mchar[m *k, [32mint[m v)[18;62H[K[18;46H[?25h[?25lchar *k, [32mint[m v)[18;61H[K[18;46H[?25h[?25lchar *k, [32mint[m v)[18;60H[K[49;175H5[18;45H[?25h[?25lchar *k, [32mint[m v)[18;59H[K[49;175H4[18;44H[?25h[?25l[32mchar[m *k, [32mint[m v)[18;58H[K[49;175H3[18;43H[?25h[49;1H[K[18;42H[?25l[49;161H^[[18;42H[49;161H  [18;43H[49;171H18,42[9CTop[18;42H[?25h[?25l[49;161H:[18;42H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 74L, 1976C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kmake_key_values[m[K’:
[01m[Kbug-program.c:57:30:[m[K [01;35m[Kwarning: [m[Kpassing argument 2 of ‘[01m[Kadd_key_value[m[K’ discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
     p = add_key_value(p, [01;35m[Kkeys[i][m[K, i);
                          [01;35m[K~~~~^~~[m[K
[01m[Kbug-program.c:18:49:[m[K [01;36m[Knote: [m[Kexpected ‘[01m[Kchar *[m[K’ but argument is of type ‘[01m[Kconst char *[m[K’
 add_key_value(struct KeyValue *keyValues, [01;36m[Kchar *k[m[K, int v)
                                           [01;36m[K~~~~~~^[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makevim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 74L, 1976C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [38;5;130mif[m (kv == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }

  [34m//initialize fields of *kv.[m
  kv->key = k;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {[49;171H18,42[9CTop[18;42H[?25h[?25l[49;161H<20>[18;42H[49;161H    [18;43H[49;175H3[18;43H[?25h[?25l[49;161Hi[18;43H[49;161H [18;43H[49;1H[1m-- INSERT --[m[49;13H[K[49;171H18,43[9CTop[18;43H[?25h[?25lcchar *k, [32mint[m v)[49;175H4[18;44H[?25h[?25lochar *k, [32mint[m v)[49;175H5[18;45H[?25h[?25lnchar *k, [32mint[m v)[49;175H6[18;46H[?25h[?25lschar *k, [32mint[m v)[49;175H7[18;47H[?25h[?25ltchar *k, [32mint[m v)[49;175H8[18;48H[?25h[?25l[32mconst[m [32mchar[m *k, [32mint[m v)[49;175H9[18;49H[?25h[?25l
[106m{[34;1H}[m[49;172H9,2 [19;2H[?25h[?25l{[34;1H}[49;171H20,45[20;45H[?25h[?25l[49;172H1,49[21;49H[?25h[?25l[49;172H2,1 [22;1H[?25h[?25l[49;172H3,49[23;49H[?25h[?25l[49;172H4[24;49H[?25h[?25l[49;172H5,13[25;13H[?25h[?25l[23;19H[106m{[26;3H}[m[49;172H6,4 [26;4H[?25h[?25l[23;19H{[26;3H}[49;172H7,3[27;3H[?25h[?25l[49;172H8,30[28;30H[?25h[?25l[49;172H7,3 [27;3H[?25h[49;1H[K[27;2H[?25l[49;161H^[[27;2H[49;161H  [27;3H[49;171H27,2[10CTop[27;2H[?25h[?25l[49;161H:[27;2H[49;161H[K[49;1H:[?2004h[?25hw[?25l[?25hq[?25l[?25h[?25l[?1000l[?2004l"bug-program.c" 74L, 1982C written[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t
[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim bug-program.cmake[Kvim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 74L, 1982C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [38;5;130mif[m (kv == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }

  [34m//initialize fields of *kv.[m
  kv->key = k;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {[49;171H27,2[10CTop[27;2H[?25h[?25l[49;161H^[[27;2H[49;161H  [27;2H[49;161H^[[27;2H[49;161H  [27;2H[?25h[?25l[49;161H:[27;2H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ clear
[H[2J[3J]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function ‘[01m[Kadd_key_value[m[K’:
[01m[Kbug-program.c:29:11:[m[K [01;35m[Kwarning: [m[Kassignment discards ‘[01m[Kconst[m[K’ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
   kv->key [01;35m[K=[m[K k;
           [01;35m[K^[m[K
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ makeclearvim bug-program.c
[?1000h[?2004h[?1049h[22;0;0t[?1h=[?2004h[1;49r[?12h[?12l[22;2t[22;1t[27m[23m[29m[m[H[2J[?25l[49;1H"bug-program.c" 74L, 1982C[2;1H▽[6n[2;1H  [1;1H[>c]10;?]11;?[1;1H[35m#include [m[31m<errno.h>[m
[35m#include [m[31m<stdio.h>[m
[35m#include [m[31m<stdlib.h>[m
[35m#include [m[31m<string.h>[m

[34m/** A struct used to form a linear chain of key-value pairs. */[m
[32mstruct[m KeyValue {
  [32mchar[m *key;[7C[34m/** string key */[m
  [32mint[m value;[13C[34m/** integer value */[m
  [32mstruct[m KeyValue *succ; [34m/** next key-value in chain */[m
};

[34m/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
add_key_value([32mstruct[m KeyValue *keyValues, [32mconst[m [32mchar[m *k, [32mint[m v)
{
  [34m//allocate storage for new KeyValue struct[m
  [32mstruct[m KeyValue *kv = malloc([38;5;130msizeof[m([32mstruct[m KeyValue));

  [38;5;130mif[m (kv == [31mNULL[m) { [34m//check if allocations succeeded[m
    fprintf([31mstderr[m, [31m"malloc failure: [m[35m%s\n[m[31m"[m, strerror(errno));
    exit([31m1[m);
  }

  [34m//initialize fields of *kv.[m
  kv->key = k;
  kv->value = v;
  kv->succ = keyValues;

  [38;5;130mreturn[m kv;
}

[34m/** Free all the key-value's in keyValues. */[m
[32mstatic[m [32mvoid[m
free_key_values([32mstruct[m KeyValue *keyValues)
{
  [38;5;130mif[m (keyValues->succ != [31mNULL[m) free_key_values(keyValues->succ);
  free(keyValues);
}

[34m/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */[m
[32mstatic[m [32mstruct[m KeyValue *
make_key_values([32mvoid[m) {[49;171H27,2[10CTop[27;2H[?25h[?25l[49;161H~@k[27;2H[49;161H   [26;2H[49;172H6[26;2H[?25h[?25l[49;161H~@k[26;2H[49;161H   [25;2H[49;172H5[25;2H[?25h[?25l[49;161H~@k[25;2H[49;161H   [24;2H[49;172H4[24;2H[?25h[?25l[49;161H~@k[24;2H[49;161H   [23;2H[49;172H3[23;2H[?25h[?25l[49;161H~@k[23;2H[49;161H   [22;1H[49;172H2,0-1[22;1H[?25h[?25l[49;161H~@k[22;1H[49;161H   [21;2H[49;172H1,2  [21;2H[?25h[?25l[49;161H~@k[21;2H[49;161H   [20;2H[49;172H0[20;2H[?25h[?25l[49;161H~@k[20;2H[49;161H   [19;1H[106m{[34;1H}[m[49;171H19,1[19;1H[?25h[?25l[49;161H~@k[19;1H[49;161H   [18;2H
{[34;1H}[49;172H8,2[18;2H[?25h[?25l[49;161H~@k[18;2H[49;161H   [17;2H[49;172H7[17;2H[?25h[?25l[49;161H~@k[17;2H[49;161H   [16;2H[49;172H6[16;2H[?25h[?25l[49;161H~@k[16;2H[49;161H   [15;2H[49;172H5[15;2H[?25h[?25l[49;161H~@k[15;2H[49;161H   [14;2H[49;172H4[14;2H[?25h[?25l[49;161H~@k[14;2H[49;161H   [13;2H[49;172H3[13;2H[?25h[?25l[49;161H~@k[13;2H[49;161H   [12;1H[49;172H2,0-1[12;1H[?25h[?25l[49;161H~@k[12;1H[49;161H   [11;2H[49;172H1,2  [11;2H[?25h[?25l[49;161H~@k[11;2H[49;161H   [10;2H[49;172H0[10;2H[?25h[?25l[49;161H:[10;2H[49;1H[K[49;1H:[?2004h[?25hq[?25l[?25h[?25l[?1000l[?2004l[23;2t[23;1t[22;2t[22;1t[23;2t[23;1t[49;1H[K[49;1H[?2004l[?1l>[?25h[?1049l[23;0;0t]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ vim bug-program.cmake[Kclearvim bug-program.cmake[Kvim bug-program.cmake[Kvim bug-program.cvalgrind algrind --leak-check=yes ./bug-program 2>bug-program.valgrind[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cmake[Kkaeakevalgrind --leak-check=yes ./bug-program 2>bug-program.valgrind
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.c.old  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ a[Kamker[K[K[K[K[Krm *.v
rm: cannot remove '*.v': No such file or directory
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ rm *.vZA[K=[K[KZL[K[Kalgrind
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.c.old  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ lsrm *.valgrind[K[4Plsvalgrind --leak-check=yes ./bug-program 2>bug-program.valgrind
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ clke[K[Kear
[H[2J[3J]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ cat */v[K[K.v&*[K[K*
==2911572== Memcheck, a memory error detector
==2911572== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2911572== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==2911572== Command: ./bug-program
==2911572== 
==2911572== 
==2911572== HEAP SUMMARY:
==2911572==     in use at exit: 0 bytes in 0 blocks
==2911572==   total heap usage: 24 allocs, 24 frees, 1,576 bytes allocated
==2911572== 
==2911572== All heap blocks were freed -- no leaks are possible
==2911572== 
==2911572== For counts of detected and suppressed errors, rerun with: -v
==2911572== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.c.old  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ rm bug-program.c.old
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
[0m[01;32mbug-program[0m  bug-program.c  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ make clean
rm -f *.o *~ bug-program
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ ls
bug-program.c  bug-program.valgrind  Makefile
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ cat bug-program.c
#include <errno.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

/** A struct used to form a linear chain of key-value pairs. */
struct KeyValue {
  char *key;       /** string key */
  int value;             /** integer value */
  struct KeyValue *succ; /** next key-value in chain */
};

/** Given some chain keyValues of key-value struct's, add the
 *  key-value (k, v) at head of chain keyValues and return the
 *  resulting chain.
 */
static struct KeyValue *
add_key_value(struct KeyValue *keyValues, const char *k, int v)
{
  //allocate storage for new KeyValue struct
  struct KeyValue *kv = malloc(sizeof(struct KeyValue));

  if (kv == NULL) { //check if allocations succeeded
    fprintf(stderr, "malloc failure: %s\n", strerror(errno));
    exit(1);
  }
  
  //initialize fields of *kv.
  kv->key = k;
  kv->value = v; 
  kv->succ = keyValues;

  return kv;
}

/** Free all the key-value's in keyValues. */
static void
free_key_values(struct KeyValue *keyValues)
{
  if (keyValues->succ != NULL) free_key_values(keyValues->succ);
  free(keyValues);
}

/** Make key-values for all the words in the first verse of Carroll's
 *  Jabberwocky with value being the index of the word.
 */
static struct KeyValue *
make_key_values(void) {
  const char *keys[] = {
    "twas", "brillig", "and", "the", "slithy", "toves",
    "did", "gyre", "and", "gimble", "in", "the", "wabe",
    "all", "mimsy", "were", "the", "borogoves",
    "and", "the", "mome", "raths", "outgrabe",
  };
  struct KeyValue *p = NULL;
  for (int i = 0; i < sizeof(keys)/sizeof(keys[0]); i++) {
    p = add_key_value(p, keys[i], i);
  }
  return p;
}

/** Print out all the words in the first verse of Carroll's Jabberwocky
 *  paired with their index in the verse.
 */
int main() {
  struct KeyValue *keyValues = make_key_values();
  
  for (struct KeyValue *p = keyValues; p != NULL; p = p->succ) {
    printf("%s: %d\n", p->key, p->value);
  }
  
  free_key_values(keyValues);
  return 0;
}
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ 
]0;fantona1@remote04: ~/.../exercises/bug-program[01;32mfantona1@remote04[00m:[01;34m~/.../exercises/bug-program[00m$ script[K[K[K[K[K[Kexit

Script done on 2020-11-08 17:21:58-05:00 [COMMAND_EXIT_CODE="0"]
